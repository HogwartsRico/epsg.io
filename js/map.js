var k,aa=aa||{},v=this;function ba(a){return void 0!==a}function ca(a,b){var c=a.split("."),d=v;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&ba(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}function da(){}function ea(a){a.ob=function(){return a.fj?a.fj:a.fj=new a}}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function y(a){return"array"==fa(a)}function ga(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function B(a){return"string"==typeof a}function ha(a){return"number"==typeof a}function ia(a){return"function"==fa(a)}function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function H(a){return a[ka]||(a[ka]=++la)}var ka="closure_uid_"+(1E9*Math.random()>>>0),la=0;
function ma(a,b,c){return a.call.apply(a.bind,arguments)}function na(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function L(a,b,c){L=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ma:na;return L.apply(null,arguments)}
function oa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var pa=Date.now||function(){return+new Date};function O(a,b){function c(){}c.prototype=b.prototype;a.h=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.co=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};function qa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,qa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}O(qa,Error);qa.prototype.name="CustomError";var ra;var sa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ta(a){if(!ua.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(va,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(wa,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(xa,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(ya,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(za,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Aa,"\x26#0;"));return a}
var va=/&/g,wa=/</g,xa=/>/g,ya=/"/g,za=/'/g,Aa=/\x00/g,ua=/[\x00&<>"']/;function Ca(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Da(a,b){return a<b?-1:a>b?1:0}function Ea(a){var b=Number(a);return 0==b&&/^[\s\xa0]*$/.test(a)?NaN:b};var Fa=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(B(a))return B(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ga=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ha=Array.prototype.filter?function(a,b,c){return Array.prototype.filter.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=B(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var l=g[h];b.call(c,l,h,a)&&(e[f++]=l)}return e},Ia=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=B(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Ja=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=B(a)?a.split(""):a,f=0;f<d;f++)if(f in
e&&b.call(c,e[f],f,a))return!0;return!1};function Ka(a){var b;a:{b=Ma;for(var c=a.length,d=B(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:B(a)?a.charAt(b):a[b]}function Na(a,b){var c=Fa(a,b),d;(d=0<=c)&&Array.prototype.splice.call(a,c,1);return d}function Oa(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function Pa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Qa(a,b,c,d){Array.prototype.splice.apply(a,Ra(arguments,1))}function Ra(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Sa(a,b){a.sort(b||Ta)}function Ua(a){for(var b=Va,c=0;c<a.length;c++)a[c]={index:c,value:a[c]};var d=b||Ta;Sa(a,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value}
function Wa(a,b){if(!ga(a)||!ga(b)||a.length!=b.length)return!1;for(var c=a.length,d=Xa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ta(a,b){return a>b?1:a<b?-1:0}function Xa(a,b){return a===b};var Ya;a:{var Za=v.navigator;if(Za){var $a=Za.userAgent;if($a){Ya=$a;break a}}Ya=""}function P(a){return-1!=Ya.indexOf(a)};function ab(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function bb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function cb(a){var b=0,c;for(c in a)b++;return b}function db(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function eb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function fb(a){return null!==a&&"withCredentials"in a}function gb(a){for(var b in a)return!1;return!0}function hb(a){for(var b in a)delete a[b]}function ib(a){var b={},c;for(c in a)b[c]=a[c];return b}
var jb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function kb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<jb.length;f++)c=jb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function lb(){return P("iPhone")&&!P("iPod")&&!P("iPad")};var mb=P("Opera")||P("OPR"),Q=P("Trident")||P("MSIE"),nb=P("Edge"),ob=P("Gecko")&&!(-1!=Ya.toLowerCase().indexOf("webkit")&&!P("Edge"))&&!(P("Trident")||P("MSIE"))&&!P("Edge"),R=-1!=Ya.toLowerCase().indexOf("webkit")&&!P("Edge"),pb=P("Macintosh"),qb=P("Windows"),rb=P("Linux")||P("CrOS");function sb(){var a=Ya;if(ob)return/rv\:([^\);]+)(\)|;)/.exec(a);if(nb)return/Edge\/([\d\.]+)/.exec(a);if(Q)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(R)return/WebKit\/(\S+)/.exec(a)}
function ub(){var a=v.document;return a?a.documentMode:void 0}var vb=function(){if(mb&&v.opera){var a;var b=v.opera.version;try{a=b()}catch(c){a=b}return a}a="";(b=sb())&&(a=b?b[1]:"");return Q&&(b=ub(),b>parseFloat(a))?String(b):a}(),wb={};
function S(a){var b;if(!(b=wb[a])){b=0;for(var c=sa(String(vb)).split("."),d=sa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)","g");do{var n=l.exec(g)||["","",""],p=m.exec(h)||["","",""];if(0==n[0].length&&0==p[0].length)break;b=Da(0==n[1].length?0:parseInt(n[1],10),0==p[1].length?0:parseInt(p[1],10))||Da(0==n[2].length,0==p[2].length)||Da(n[2],p[2])}while(0==b)}b=wb[a]=0<=b}return b}
var xb=v.document,yb=xb&&Q?ub()||("CSS1Compat"==xb.compatMode?parseInt(vb,10):5):void 0;var zb=!Q||9<=yb;!ob&&!Q||Q&&9<=yb||ob&&S("1.9.1");Q&&S("9");function Ab(a,b){var c=a%b;return 0>c*b?c+b:c}function Bb(a){return isFinite(a)&&!isNaN(a)};function T(a,b){this.x=ba(a)?a:0;this.y=ba(b)?b:0}k=T.prototype;k.clone=function(){return new T(this.x,this.y)};function Cb(a,b){return new T(a.x-b.x,a.y-b.y)}k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};
k.translate=function(a,b){a instanceof T?(this.x+=a.x,this.y+=a.y):(this.x+=a,ha(b)&&(this.y+=b));return this};k.scale=function(a,b){var c=ha(b)?b:a;this.x*=a;this.y*=c;return this};function Db(a,b){this.width=a;this.height=b}function Eb(a,b){return a==b?!0:a&&b?a.width==b.width&&a.height==b.height:!1}k=Db.prototype;k.clone=function(){return new Db(this.width,this.height)};k.Lk=function(){return this.width*this.height};k.isEmpty=function(){return!this.Lk()};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};k.scale=function(a,b){var c=ha(b)?b:a;this.width*=a;this.height*=c;return this};function Fb(a){return a?new Gb(Hb(a)):ra||(ra=new Gb)}function Ib(a){var b=document;return B(a)?b.getElementById(a):a}function Jb(a,b){ab(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:Kb.hasOwnProperty(d)?a.setAttribute(Kb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var Kb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Lb(a){a=a.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Db(a.clientWidth,a.clientHeight)}
function Mb(a){var b=Nb(a);a=Ob(a);return Q&&S("10")&&a.pageYOffset!=b.scrollTop?new T(b.scrollLeft,b.scrollTop):new T(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}function Nb(a){return a.scrollingElement?a.scrollingElement:R||"CSS1Compat"!=a.compatMode?a.body||a.documentElement:a.documentElement}function Ob(a){return a.parentWindow||a.defaultView}function U(a,b,c){return Qb(document,arguments)}
function Qb(a,b){var c=b[0],d=b[1];if(!zb&&d&&(d.name||d.type)){c=["\x3c",c];d.name&&c.push(' name\x3d"',ta(d.name),'"');if(d.type){c.push(' type\x3d"',ta(d.type),'"');var e={};kb(e,d);delete e.type;d=e}c.push("\x3e");c=c.join("")}c=a.createElement(c);d&&(B(d)?c.className=d:y(d)?c.className=d.join(" "):Jb(c,d));2<b.length&&Rb(a,c,b,2);return c}
function Rb(a,b,c,d){function e(c){c&&b.appendChild(B(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ga(f)||ja(f)&&0<f.nodeType?e(f):Ga(Sb(f)?Pa(f):f,e)}}function Tb(a,b){a.appendChild(b)}function Ub(a,b){Rb(Hb(a),a,arguments,1)}function Vb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Wb(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Xb(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Yb(a){return ja(a)&&1==a.nodeType}
function Zb(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Hb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function $b(a,b){if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Vb(a),a.appendChild(Hb(a).createTextNode(String(b)))}function Sb(a){if(a&&"number"==typeof a.length){if(ja(a))return"function"==typeof a.item||"string"==typeof a.item;if(ia(a))return"function"==typeof a.item}return!1}
function ac(a){return bc(a,function(a){return"FORM"==a.nodeName&&!0})}function bc(a,b){for(var c=0;a;){if(b(a))return a;a=a.parentNode;c++}return null}function Gb(a){this.ka=a||v.document||document}k=Gb.prototype;k.be=Jb;k.vi=function(a,b,c){return Qb(this.ka,arguments)};k.createElement=function(a){return this.ka.createElement(a)};k.createTextNode=function(a){return this.ka.createTextNode(String(a))};function cc(a){return"CSS1Compat"==a.ka.compatMode}k.appendChild=Tb;k.append=Ub;
k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};k.Wm=Vb;k.removeNode=Xb;k.contains=Zb;function dc(a){if(a.classList)return a.classList;a=a.className;return B(a)&&a.match(/\S+/g)||[]}function ec(a,b){var c;a.classList?c=a.classList.contains(b):(c=dc(a),c=0<=Fa(c,b));return c}function fc(a,b){a.classList?a.classList.add(b):ec(a,b)||(a.className+=0<a.className.length?" "+b:b)}function gc(a,b){if(a.classList)Ga(b,function(b){fc(a,b)});else{var c={};Ga(dc(a),function(a){c[a]=!0});Ga(b,function(a){c[a]=!0});a.className="";for(var d in c)a.className+=0<a.className.length?" "+d:d}}
function hc(a,b){a.classList?a.classList.remove(b):ec(a,b)&&(a.className=Ha(dc(a),function(a){return a!=b}).join(" "))}function ic(a,b){a.classList?Ga(b,function(b){hc(a,b)}):a.className=Ha(dc(a),function(a){return!(0<=Fa(b,a))}).join(" ")};function jc(){0!=kc&&(lc[H(this)]=this);this.Mc=this.Mc;this.yc=this.yc}var kc=0,lc={};jc.prototype.Mc=!1;jc.prototype.mb=function(){if(!this.Mc&&(this.Mc=!0,this.b(),0!=kc)){var a=H(this);delete lc[a]}};function mc(a,b){var c=oa(nc,b);a.Mc?c.call(void 0):(a.yc||(a.yc=[]),a.yc.push(ba(void 0)?L(c,void 0):c))}jc.prototype.b=function(){if(this.yc)for(;this.yc.length;)this.yc.shift()()};function nc(a){a&&"function"==typeof a.mb&&a.mb()};var oc=!Q||9<=yb,pc=!Q||9<=yb,qc=Q&&!S("9");!R||S("528");ob&&S("1.9b")||Q&&S("8")||mb&&S("9.5")||R&&S("528");ob&&!S("8")||Q&&S("9");function V(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Bc=!1;this.Zj=!0}V.prototype.stopPropagation=function(){this.Bc=!0};V.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Zj=!1};function rc(a){a.stopPropagation()}function sc(a){a.preventDefault()};function tc(a){tc[" "](a);return a}tc[" "]=da;function uc(a,b){V.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.of=!1;this.I=null;if(a){var c=this.type=a.type,d=a.changedTouches?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;var e=a.relatedTarget;if(e){if(ob){var f;a:{try{tc(e.nodeName);
f=!0;break a}catch(g){}f=!1}f||(e=null)}}else"mouseover"==c?e=a.fromElement:"mouseout"==c&&(e=a.toElement);this.relatedTarget=e;null===d?(this.offsetX=R||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=R||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=
d.screenX||0,this.screenY=d.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.of=pb?a.metaKey:a.ctrlKey;this.state=a.state;this.I=a;a.defaultPrevented&&this.preventDefault()}}O(uc,V);var vc=[1,4,2];function wc(a){return(oc?0==a.I.button:"click"==a.type?!0:!!(a.I.button&vc[0]))&&!(R&&pb&&a.ctrlKey)}
uc.prototype.stopPropagation=function(){uc.h.stopPropagation.call(this);this.I.stopPropagation?this.I.stopPropagation():this.I.cancelBubble=!0};uc.prototype.preventDefault=function(){uc.h.preventDefault.call(this);var a=this.I;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,qc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var xc="closure_listenable_"+(1E6*Math.random()|0);function yc(a){return!(!a||!a[xc])}var zc=0;function Ac(a,b,c,d,e){this.listener=a;this.rf=null;this.src=b;this.type=c;this.wd=!!d;this.Ke=e;this.key=++zc;this.md=this.re=!1}function Bc(a){a.md=!0;a.listener=null;a.rf=null;a.src=null;a.Ke=null};function Cc(a){this.src=a;this.$={};this.le=0}k=Cc.prototype;k.add=function(a,b,c,d,e){var f=a.toString();a=this.$[f];a||(a=this.$[f]=[],this.le++);var g=Dc(a,b,d,e);-1<g?(b=a[g],c||(b.re=!1)):(b=new Ac(b,this.src,f,!!d,e),b.re=c,a.push(b));return b};k.remove=function(a,b,c,d){a=a.toString();if(!(a in this.$))return!1;var e=this.$[a];b=Dc(e,b,c,d);return-1<b?(Bc(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.$[a],this.le--),!0):!1};
function Ec(a,b){var c=b.type;if(!(c in a.$))return!1;var d=Na(a.$[c],b);d&&(Bc(b),0==a.$[c].length&&(delete a.$[c],a.le--));return d}k.Yd=function(a){a=a&&a.toString();var b=0,c;for(c in this.$)if(!a||c==a){for(var d=this.$[c],e=0;e<d.length;e++)++b,Bc(d[e]);delete this.$[c];this.le--}return b};k.Gd=function(a,b,c,d){a=this.$[a.toString()];var e=-1;a&&(e=Dc(a,b,c,d));return-1<e?a[e]:null};
k.hasListener=function(a,b){var c=ba(a),d=c?a.toString():"",e=ba(b);return bb(this.$,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].wd!=b))return!0;return!1})};function Dc(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.md&&f.listener==b&&f.wd==!!c&&f.Ke==d)return e}return-1};var Fc="closure_lm_"+(1E6*Math.random()|0),Gc={},Hc=0;function W(a,b,c,d,e){if(y(b)){for(var f=0;f<b.length;f++)W(a,b[f],c,d,e);return null}c=Ic(c);return yc(a)?a.fa(b,c,d,e):Jc(a,b,c,!1,d,e)}
function Jc(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Kc(a);h||(a[Fc]=h=new Cc(a));c=h.add(b,c,d,e,f);if(c.rf)return c;d=Lc();c.rf=d;d.src=a;d.listener=c;if(a.addEventListener)a.addEventListener(b.toString(),d,g);else if(a.attachEvent)a.attachEvent(Mc(b.toString()),d);else throw Error("addEventListener and attachEvent are unavailable.");Hc++;return c}
function Lc(){var a=Nc,b=pc?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Oc(a,b,c,d,e){if(y(b)){for(var f=0;f<b.length;f++)Oc(a,b[f],c,d,e);return null}c=Ic(c);return yc(a)?a.bh(b,c,d,e):Jc(a,b,c,!0,d,e)}function Pc(a,b,c,d,e){if(y(b))for(var f=0;f<b.length;f++)Pc(a,b[f],c,d,e);else c=Ic(c),yc(a)?a.ya(b,c,d,e):a&&(a=Kc(a))&&(b=a.Gd(b,c,!!d,e))&&X(b)}
function X(a){if(ha(a)||!a||a.md)return!1;var b=a.src;if(yc(b))return Ec(b.za,a);var c=a.type,d=a.rf;b.removeEventListener?b.removeEventListener(c,d,a.wd):b.detachEvent&&b.detachEvent(Mc(c),d);Hc--;(c=Kc(b))?(Ec(c,a),0==c.le&&(c.src=null,b[Fc]=null)):Bc(a);return!0}function Qc(a,b){if(!a)return 0;if(yc(a))return a.za?a.za.Yd(b):0;var c=Kc(a);if(!c)return 0;var d=0,e=b&&b.toString(),f;for(f in c.$)if(!e||f==e)for(var g=c.$[f].concat(),h=0;h<g.length;++h)X(g[h])&&++d;return d}
function Mc(a){return a in Gc?Gc[a]:Gc[a]="on"+a}function Rc(a,b,c,d){var e=!0;if(a=Kc(a))if(b=a.$[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.wd==c&&!f.md&&(f=Sc(f,d),e=e&&!1!==f)}return e}function Sc(a,b){var c=a.listener,d=a.Ke||a.src;a.re&&X(a);return c.call(d,b)}
function Nc(a,b){if(a.md)return!0;if(!pc){var c;if(!(c=b))a:{c=["window","event"];for(var d=v,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new uc(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(l){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,g=e.length-1;!c.Bc&&0<=g;g--){c.currentTarget=e[g];var h=Rc(e[g],f,!0,c),d=d&&h}for(g=0;!c.Bc&&g<
e.length;g++)c.currentTarget=e[g],h=Rc(e[g],f,!1,c),d=d&&h}return d}return Sc(a,new uc(b,this))}function Kc(a){a=a[Fc];return a instanceof Cc?a:null}var Tc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ic(a){if(ia(a))return a;a[Tc]||(a[Tc]=function(b){return a.handleEvent(b)});return a[Tc]};function Y(){jc.call(this);this.za=new Cc(this);this.Ik=this;this.nh=null}O(Y,jc);Y.prototype[xc]=!0;k=Y.prototype;k.addEventListener=function(a,b,c,d){W(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){Pc(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.nh;if(c)for(b=[];c;c=c.nh)b.push(c);var c=this.Ik,d=a.type||a;if(B(a))a=new V(a,c);else if(a instanceof V)a.target=a.target||c;else{var e=a;a=new V(d,c);kb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.Bc&&0<=g;g--)f=a.currentTarget=b[g],e=Uc(f,d,!0,a)&&e;a.Bc||(f=a.currentTarget=c,e=Uc(f,d,!0,a)&&e,a.Bc||(e=Uc(f,d,!1,a)&&e));if(b)for(g=0;!a.Bc&&g<b.length;g++)f=a.currentTarget=b[g],e=Uc(f,d,!1,a)&&e;return e};
k.b=function(){Y.h.b.call(this);this.za&&this.za.Yd(void 0);this.nh=null};k.fa=function(a,b,c,d){return this.za.add(String(a),b,!1,c,d)};k.bh=function(a,b,c,d){return this.za.add(String(a),b,!0,c,d)};k.ya=function(a,b,c,d){return this.za.remove(String(a),b,c,d)};function Uc(a,b,c,d){b=a.za.$[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.md&&g.wd==c){var h=g.listener,l=g.Ke||g.src;g.re&&Ec(a.za,g);e=!1!==h.call(l,d)&&e}}return e&&0!=d.Zj}
k.Gd=function(a,b,c,d){return this.za.Gd(String(a),b,c,d)};k.hasListener=function(a,b){return this.za.hasListener(ba(a)?String(a):void 0,b)};function Vc(a,b,c,d,e){if(!(Q||nb||R&&S("525")))return!0;if(pb&&e)return Wc(a);if(e&&!d)return!1;ha(b)&&(b=Xc(b));if(!c&&(17==b||18==b||pb&&91==b))return!1;if((R||nb)&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Q&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!(R||nb)}return Wc(a)}
function Wc(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||(R||nb)&&0==a)return!0;switch(a){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Xc(a){if(ob)a=Yc(a);else if(pb&&R)a:switch(a){case 93:a=91;break a}return a}
function Yc(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Zc(a){if(a.Ca&&"function"==typeof a.Ca)return a.Ca();if(B(a))return a.split("");if(ga(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return db(a)}
function $c(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ga(a)||B(a))Ga(a,b,c);else{var d;if(a.La&&"function"==typeof a.La)d=a.La();else if(a.Ca&&"function"==typeof a.Ca)d=void 0;else if(ga(a)||B(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=eb(a);for(var e=Zc(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}};function ad(a){return function(){return a}}var bd=ad(!1),cd=ad(!0);function dd(a){return a}function ed(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function fd(a){var b=arguments,c=b.length;return function(){for(var a,e=0;e<c;e++)a=b[e].apply(this,arguments);return a}}function gd(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function hd(a,b){this.c={};this.K=[];this.s=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}k=hd.prototype;k.Gb=function(){return this.s};k.Ca=function(){id(this);for(var a=[],b=0;b<this.K.length;b++)a.push(this.c[this.K[b]]);return a};k.La=function(){id(this);return this.K.concat()};k.ia=function(a){return jd(this.c,a)};
k.equals=function(a,b){if(this===a)return!0;if(this.s!=a.Gb())return!1;var c=b||kd;id(this);for(var d,e=0;d=this.K[e];e++)if(!c(this.get(d),a.get(d)))return!1;return!0};function kd(a,b){return a===b}k.isEmpty=function(){return 0==this.s};k.clear=function(){this.c={};this.s=this.K.length=0};k.remove=function(a){return jd(this.c,a)?(delete this.c[a],this.s--,this.K.length>2*this.s&&id(this),!0):!1};
function id(a){if(a.s!=a.K.length){for(var b=0,c=0;b<a.K.length;){var d=a.K[b];jd(a.c,d)&&(a.K[c++]=d);b++}a.K.length=c}if(a.s!=a.K.length){for(var e={},c=b=0;b<a.K.length;)d=a.K[b],jd(e,d)||(a.K[c++]=d,e[d]=1),b++;a.K.length=c}}k.get=function(a,b){return jd(this.c,a)?this.c[a]:b};k.set=function(a,b){jd(this.c,a)||(this.s++,this.K.push(a));this.c[a]=b};k.addAll=function(a){var b;a instanceof hd?(b=a.La(),a=a.Ca()):(b=eb(a),a=db(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};
k.forEach=function(a,b){for(var c=this.La(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new hd(this)};function jd(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ld=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function md(a,b){if(a)for(var c=a.split("\x26"),d=0;d<c.length;d++){var e=c[d].indexOf("\x3d"),f=null,g=null;0<=e?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d];b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}};function nd(a,b){this.nb=this.Hc=this.Tb="";this.jd=null;this.lc=this.mf="";this.Da=this.Wl=!1;var c;if(a instanceof nd)this.Da=ba(b)?b:a.Da,od(this,a.Tb),c=a.Hc,pd(this),this.Hc=c,c=a.nb,pd(this),this.nb=c,qd(this,a.jd),this.setPath(a.getPath()),sd(this,a.cb.clone()),c=a.lc,pd(this),this.lc=c;else if(a&&(c=String(a).match(ld))){this.Da=!!b;od(this,c[1]||"",!0);var d=c[2]||"";pd(this);this.Hc=td(d);d=c[3]||"";pd(this);this.nb=td(d,!0);qd(this,c[4]);this.setPath(c[5]||"",!0);sd(this,c[6]||"",!0);c=
c[7]||"";pd(this);this.lc=td(c)}else this.Da=!!b,this.cb=new ud(null,0,this.Da)}k=nd.prototype;
k.toString=function(){var a=[],b=this.Tb;b&&a.push(vd(b,wd,!0),":");var c=this.nb;if(c||"file"==b)a.push("//"),(b=this.Hc)&&a.push(vd(b,wd,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.jd,null!=c&&a.push(":",String(c));if(c=this.getPath())this.nb&&"/"!=c.charAt(0)&&a.push("/"),a.push(vd(c,"/"==c.charAt(0)?xd:yd,!0));(c=this.cb.toString())&&a.push("?",c);(c=this.lc)&&a.push("#",vd(c,zd));return a.join("")};
k.resolve=function(a){var b=this.clone(),c=!!a.Tb;c?od(b,a.Tb):c=!!a.Hc;if(c){var d=a.Hc;pd(b);b.Hc=d}else c=!!a.nb;c?(d=a.nb,pd(b),b.nb=d):c=null!=a.jd;d=a.getPath();if(c)qd(b,a.jd);else if(c=!!a.mf){if("/"!=d.charAt(0))if(this.nb&&!this.mf)d="/"+d;else{var e=b.getPath().lastIndexOf("/");-1!=e&&(d=b.getPath().substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){for(var d=0==e.lastIndexOf("/",0),e=e.split("/"),f=[],g=0;g<e.length;){var h=e[g++];"."==h?d&&
g==e.length&&f.push(""):".."==h?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(h),d=!0)}d=f.join("/")}else d=e}c?b.setPath(d):c=""!==a.cb.toString();c?sd(b,td(a.cb.toString())):c=!!a.lc;c&&(a=a.lc,pd(b),b.lc=a);return b};k.clone=function(){return new nd(this)};function od(a,b,c){pd(a);a.Tb=c?td(b,!0):b;a.Tb&&(a.Tb=a.Tb.replace(/:$/,""))}function qd(a,b){pd(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.jd=b}else a.jd=null}k.getPath=function(){return this.mf};
k.setPath=function(a,b){pd(this);this.mf=b?td(a,!0):a;return this};function sd(a,b,c){pd(a);b instanceof ud?(a.cb=b,a.cb.xh(a.Da)):(c||(b=vd(b,Ad)),a.cb=new ud(b,0,a.Da))}function Bd(a,b,c){pd(a);y(c)||(c=[String(c)]);a.cb.setValues(b,c)}function pd(a){if(a.Wl)throw Error("Tried to modify a read-only Uri");}k.xh=function(a){this.Da=a;this.cb&&this.cb.xh(a);return this};function td(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}
function vd(a,b,c){return B(a)?(a=encodeURI(a).replace(b,Cd),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Cd(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var wd=/[#\/\?@]/g,yd=/[\#\?:]/g,xd=/[\#\?]/g,Ad=/[\#\?@]/g,zd=/#/g;function ud(a,b,c){this.s=this.S=null;this.pa=a||null;this.Da=!!c}function Dd(a){a.S||(a.S=new hd,a.s=0,a.pa&&md(a.pa,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}k=ud.prototype;k.Gb=function(){Dd(this);return this.s};
k.add=function(a,b){Dd(this);this.pa=null;a=Ed(this,a);var c=this.S.get(a);c||this.S.set(a,c=[]);c.push(b);this.s++;return this};k.remove=function(a){Dd(this);a=Ed(this,a);return this.S.ia(a)?(this.pa=null,this.s-=this.S.get(a).length,this.S.remove(a)):!1};k.clear=function(){this.S=this.pa=null;this.s=0};k.isEmpty=function(){Dd(this);return 0==this.s};k.ia=function(a){Dd(this);a=Ed(this,a);return this.S.ia(a)};
k.La=function(){Dd(this);for(var a=this.S.Ca(),b=this.S.La(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};k.Ca=function(a){Dd(this);var b=[];if(B(a))this.ia(a)&&(b=Oa(b,this.S.get(Ed(this,a))));else{a=this.S.Ca();for(var c=0;c<a.length;c++)b=Oa(b,a[c])}return b};k.set=function(a,b){Dd(this);this.pa=null;a=Ed(this,a);this.ia(a)&&(this.s-=this.S.get(a).length);this.S.set(a,[b]);this.s++;return this};
k.get=function(a,b){var c=a?this.Ca(a):[];return 0<c.length?String(c[0]):b};k.setValues=function(a,b){this.remove(a);0<b.length&&(this.pa=null,this.S.set(Ed(this,a),Pa(b)),this.s+=b.length)};k.toString=function(){if(this.pa)return this.pa;if(!this.S)return"";for(var a=[],b=this.S.La(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.Ca(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}return this.pa=a.join("\x26")};
k.clone=function(){var a=new ud;a.pa=this.pa;this.S&&(a.S=this.S.clone(),a.s=this.s);return a};function Ed(a,b){var c=String(b);a.Da&&(c=c.toLowerCase());return c}k.xh=function(a){a&&!this.Da&&(Dd(this),this.pa=null,this.S.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.setValues(d,a))},this));this.Da=a};k.extend=function(a){for(var b=0;b<arguments.length;b++)$c(arguments[b],function(a,b){this.add(b,a)},this)};function Fd(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Gd(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}};function Hd(a,b,c){this.Yl=c;this.Vk=a;this.dn=b;this.jf=0;this.Le=null}Hd.prototype.get=function(){var a;0<this.jf?(this.jf--,a=this.Le,this.Le=a.next,a.next=null):a=this.Vk();return a};Hd.prototype.put=function(a){this.dn(a);this.jf<this.Yl&&(this.jf++,a.next=this.Le,this.Le=a)};function Id(){this.Vf=this.sd=null}var Kd=new Hd(function(){return new Jd},function(a){a.reset()},100);Id.prototype.add=function(a,b){var c=Kd.get();c.set(a,b);this.Vf?this.Vf.next=c:this.sd=c;this.Vf=c};Id.prototype.remove=function(){var a=null;this.sd&&(a=this.sd,this.sd=this.sd.next,this.sd||(this.Vf=null),a.next=null);return a};function Jd(){this.next=this.scope=this.Bg=null}Jd.prototype.set=function(a,b){this.Bg=a;this.scope=b;this.next=null};
Jd.prototype.reset=function(){this.next=this.scope=this.Bg=null};function Ld(a){v.setTimeout(function(){throw a;},0)}function Md(a,b){var c=a;b&&(c=L(a,b));c=Nd(c);!ia(v.setImmediate)||v.Window&&v.Window.prototype&&v.Window.prototype.setImmediate==v.setImmediate?(Od||(Od=Pd()),Od(c)):v.setImmediate(c)}var Od;
function Pd(){var a=v.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!P("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=L(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!P("Trident")&&!P("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(ba(c.next)){c=c.next;var a=c.ii;c.ii=null;a()}};return function(a){d.next={ii:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){v.setTimeout(a,0)}}var Nd=dd;function Qd(a,b){Rd||Sd();Td||(Rd(),Td=!0);Ud.add(a,b)}var Rd;function Sd(){if(v.Promise&&v.Promise.resolve){var a=v.Promise.resolve(void 0);Rd=function(){a.then(Vd)}}else Rd=function(){Md(Vd)}}var Td=!1,Ud=new Id;function Vd(){for(var a=null;a=Ud.remove();){try{a.Bg.call(a.scope)}catch(b){Ld(b)}Kd.put(a)}Td=!1};function Wd(a,b){this.B=Xd;this.wb=void 0;this.Jc=this.Db=this.aa=null;this.He=this.Ag=!1;if(a!=da)try{var c=this;a.call(b,function(a){Yd(c,Zd,a)},function(a){Yd(c,$d,a)})}catch(d){Yd(this,$d,d)}}var Xd=0,Zd=2,$d=3;function ae(){this.next=this.context=this.fd=this.Sd=this.fc=null;this.pe=!1}ae.prototype.reset=function(){this.context=this.fd=this.Sd=this.fc=null;this.pe=!1};var be=new Hd(function(){return new ae},function(a){a.reset()},100);
function ce(a,b,c){var d=be.get();d.Sd=a;d.fd=b;d.context=c;return d}Wd.prototype.then=function(a,b,c){return de(this,ia(a)?a:null,ia(b)?b:null,c)};Fd(Wd);Wd.prototype.cancel=function(a){this.B==Xd&&Qd(function(){var b=new ee(a);fe(this,b)},this)};
function fe(a,b){if(a.B==Xd)if(a.aa){var c=a.aa;if(c.Db){for(var d=0,e=null,f=null,g=c.Db;g&&(g.pe||(d++,g.fc==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(c.B==Xd&&1==d?fe(c,b):(f?(d=f,d.next==c.Jc&&(c.Jc=d),d.next=d.next.next):ge(c),he(c,e,$d,b)))}a.aa=null}else Yd(a,$d,b)}function ie(a,b){a.Db||a.B!=Zd&&a.B!=$d||je(a);a.Jc?a.Jc.next=b:a.Db=b;a.Jc=b}
function de(a,b,c,d){var e=ce(null,null,null);e.fc=new Wd(function(a,g){e.Sd=b?function(c){try{var e=b.call(d,c);a(e)}catch(m){g(m)}}:a;e.fd=c?function(b){try{var e=c.call(d,b);!ba(e)&&b instanceof ee?g(b):a(e)}catch(m){g(m)}}:g});e.fc.aa=a;ie(a,e);return e.fc}Wd.prototype.Dn=function(a){this.B=Xd;Yd(this,Zd,a)};Wd.prototype.En=function(a){this.B=Xd;Yd(this,$d,a)};
function Yd(a,b,c){if(a.B==Xd){a==c&&(b=$d,c=new TypeError("Promise cannot resolve to itself"));a.B=1;var d;a:{var e=c,f=a.Dn,g=a.En;if(e instanceof Wd)ie(e,ce(f||da,g||null,a)),d=!0;else if(Gd(e))e.then(f,g,a),d=!0;else{if(ja(e))try{var h=e.then;if(ia(h)){ke(e,h,f,g,a);d=!0;break a}}catch(l){g.call(a,l);d=!0;break a}d=!1}}d||(a.wb=c,a.B=b,a.aa=null,je(a),b!=$d||c instanceof ee||le(a,c))}}
function ke(a,b,c,d,e){function f(a){h||(h=!0,d.call(e,a))}function g(a){h||(h=!0,c.call(e,a))}var h=!1;try{b.call(a,g,f)}catch(l){f(l)}}function je(a){a.Ag||(a.Ag=!0,Qd(a.dl,a))}function ge(a){var b=null;a.Db&&(b=a.Db,a.Db=b.next,b.next=null);a.Db||(a.Jc=null);return b}Wd.prototype.dl=function(){for(var a=null;a=ge(this);)he(this,a,this.B,this.wb);this.Ag=!1};
function he(a,b,c,d){if(c==$d&&b.fd&&!b.pe)for(;a&&a.He;a=a.aa)a.He=!1;if(b.fc)b.fc.aa=null,me(b,c,d);else try{b.pe?b.Sd.call(b.context):me(b,c,d)}catch(e){ne.call(null,e)}be.put(b)}function me(a,b,c){b==Zd?a.Sd.call(a.context,c):a.fd&&a.fd.call(a.context,c)}function le(a,b){a.He=!0;Qd(function(){a.He&&ne.call(null,b)})}var ne=Ld;function ee(a){qa.call(this,a)}O(ee,qa);ee.prototype.name="cancel";/*
 Portions of this code are from MochiKit, received by
 The Closure Authors under the MIT license. All other code is Copyright
 2005-2009 The Closure Authors. All Rights Reserved.
*/
function oe(a,b){this.Af=[];this.vj=a;this.wi=b||null;this.Kd=this.Qc=!1;this.wb=void 0;this.yh=this.Pk=this.jg=!1;this.Pf=0;this.aa=null;this.lg=0}oe.prototype.cancel=function(a){if(this.Qc)this.wb instanceof oe&&this.wb.cancel();else{if(this.aa){var b=this.aa;delete this.aa;a?b.cancel(a):(b.lg--,0>=b.lg&&b.cancel())}this.vj?this.vj.call(this.wi,this):this.yh=!0;this.Qc||(a=new pe,qe(this),re(this,!1,a))}};oe.prototype.ti=function(a,b){this.jg=!1;re(this,a,b)};
function re(a,b,c){a.Qc=!0;a.wb=c;a.Kd=!b;se(a)}function qe(a){if(a.Qc){if(!a.yh)throw new te;a.yh=!1}}function ue(a,b,c,d){a.Af.push([b,c,d]);a.Qc&&se(a)}oe.prototype.then=function(a,b,c){var d,e,f=new Wd(function(a,b){d=a;e=b});ue(this,d,function(a){a instanceof pe?f.cancel():e(a)});return f.then(a,b,c)};Fd(oe);function ve(a){return Ja(a.Af,function(a){return ia(a[1])})}
function se(a){if(a.Pf&&a.Qc&&ve(a)){var b=a.Pf,c=we[b];c&&(v.clearTimeout(c.J),delete we[b]);a.Pf=0}a.aa&&(a.aa.lg--,delete a.aa);for(var b=a.wb,d=c=!1;a.Af.length&&!a.jg;){var e=a.Af.shift(),f=e[0],g=e[1],e=e[2];if(f=a.Kd?g:f)try{var h=f.call(e||a.wi,b);ba(h)&&(a.Kd=a.Kd&&(h==b||h instanceof Error),a.wb=b=h);if(Gd(b)||"function"===typeof v.Promise&&b instanceof v.Promise)d=!0,a.jg=!0}catch(l){b=l,a.Kd=!0,ve(a)||(c=!0)}}a.wb=b;d&&(h=L(a.ti,a,!0),d=L(a.ti,a,!1),b instanceof oe?(ue(b,h,d),b.Pk=!0):
b.then(h,d));c&&(b=new xe(b),we[b.J]=b,a.Pf=b.J)}function te(){qa.call(this)}O(te,qa);te.prototype.message="Deferred has already fired";te.prototype.name="AlreadyCalledError";function pe(){qa.call(this)}O(pe,qa);pe.prototype.message="Deferred was canceled";pe.prototype.name="CanceledError";function xe(a){this.J=v.setTimeout(L(this.qn,this),0);this.ze=a}xe.prototype.qn=function(){delete we[this.J];throw this.ze;};var we={};function ye(a,b){var c=b||{},d=c.document||document,e=document.createElement("SCRIPT"),f={ak:e,Gc:void 0},g=new oe(ze,f),h=null,l=null!=c.timeout?c.timeout:5E3;0<l&&(h=window.setTimeout(function(){Ae(e,!0);var b=new Be(Ce,"Timeout reached for loading script "+a);qe(g);re(g,!1,b)},l),f.Gc=h);e.onload=e.onreadystatechange=function(){e.readyState&&"loaded"!=e.readyState&&"complete"!=e.readyState||(Ae(e,c.Tk||!1,h),qe(g),re(g,!0,null))};e.onerror=function(){Ae(e,!0,h);var b=new Be(De,"Error while loading script "+
a);qe(g);re(g,!1,b)};f=c.attributes||{};kb(f,{type:"text/javascript",charset:"UTF-8",src:a});Jb(e,f);Ee(d).appendChild(e);return g}function Ee(a){var b=a.getElementsByTagName("HEAD");return b&&0!=b.length?b[0]:a.documentElement}function ze(){if(this&&this.ak){var a=this.ak;a&&"SCRIPT"==a.tagName&&Ae(a,!0,this.Gc)}}function Ae(a,b,c){null!=c&&v.clearTimeout(c);a.onload=da;a.onerror=da;a.onreadystatechange=da;b&&window.setTimeout(function(){Xb(a)},0)}var De=0,Ce=1;
function Be(a,b){var c="Jsloader error (code #"+a+")";b&&(c+=": "+b);qa.call(this,c);this.code=a}O(Be,qa);function Fe(a,b){this.Gn=new nd(a);this.Qk=b?b:"callback";this.Gc=5E3}var Ge=0;Fe.prototype.send=function(a,b,c,d){a=a||null;d=d||"_"+(Ge++).toString(36)+pa().toString(36);v._callbacks_||(v._callbacks_={});var e=this.Gn.clone();if(a)for(var f in a)a.hasOwnProperty&&!a.hasOwnProperty(f)||Bd(e,f,a[f]);b&&(v._callbacks_[d]=He(d,b),Bd(e,this.Qk,"_callbacks_."+d));b=ye(e.toString(),{timeout:this.Gc,Tk:!0});ue(b,null,Ie(d,a,c),void 0);return{J:d,yi:b}};
Fe.prototype.cancel=function(a){a&&(a.yi&&a.yi.cancel(),a.J&&Je(a.J,!1))};function Ie(a,b,c){return function(){Je(a,!1);c&&c(b)}}function He(a,b){return function(c){Je(a,!0);b.apply(void 0,arguments)}}function Je(a,b){v._callbacks_[a]&&(b?delete v._callbacks_[a]:v._callbacks_[a]=da)};function Ke(a,b,c,d){this.oi=U("DIV","popup-content");this.ne=null;c=c?U("A","popup-close","X"):null;this.a=U("DIV","popup");a&&Tb(this.a,U("DIV","popup-title",a));c&&this.a.appendChild(c);this.a.appendChild(this.oi);this.$j=b?U("DIV","popup-bg",this.a):this.a;c&&W(c,"click",function(a){this.setVisible(!1);d&&d();a.preventDefault()},!1,this)}Ke.prototype.setVisible=function(a){a?document.body.appendChild(this.$j):Xb(this.$j)};Ke.prototype.append=function(a){Ub(this.oi,arguments)};
Ke.prototype.Kk=function(a){this.ne||(this.ne=U("DIV","popup-actions"),this.a.appendChild(this.ne));Ub(this.ne,arguments)};function Le(){Y.call(this);this.hd=new Ke("Coordinate system",!0,!0);this.Od=U("INPUT","srsdialog-input");var a=U("INPUT",{type:"submit","class":"srsdialog-table",value:"Search"});this.Ch=U("TABLE","srsdialog-table");var b=U("TR",void 0,U("TH",void 0,"Code"),U("TH",void 0,"Name"),U("TH",void 0,"Area"),U("TH",void 0,"Accuracy"));this.Ch.appendChild(b);this.Cg=U("FORM","srsdialog-form");W(this.Cg,"submit",function(a){Me(this);a.preventDefault()},!1,this);Ub(this.Cg,this.Od,a,this.Ch);this.hd.append(this.Cg);
a=U("DIV","btn-light","Select");b=U("DIV","btn-dark","Cancel");this.hd.Kk(b,a);this.wh=null;this.fe=[];W(a,"click",function(a){this.dispatchEvent({type:Ne,data:this.wh});this.hd.setVisible(!1);a.preventDefault()},!1,this);W(b,"click",function(a){this.hd.setVisible(!1);a.preventDefault()},!1,this);this.Mb=new Fe("/");W(this.Od,"keydown",function(a){27==a.keyCode&&this.hd.setVisible(!1);a.stopPropagation()},!1,this)}O(Le,Y);
Le.prototype.show=function(){this.hd.setVisible(!0);this.Od.value="";this.Od.focus();Oe(this)};function Pe(a,b,c){b=b.split("-");if(!(1>b.length)){var d=1<b.length?parseInt(b[1],10):null;b={format:"json",q:b[0]};null===d||(b.trans="1");a.Mb.send(b,function(a){var b=a.results[0];null===d||Ga(b.trans,function(a){a.code_trans==d&&(a.code=b.code+"-"+d,a.name=b.name,b=a)});c(b)})}}function Oe(a){Ga(a.fe,Xb);Ga(a.fe,Qc);a.fe=[];a.wh=null}
function Me(a){Oe(a);a.Mb.send({format:"json",trans:"1",q:a.Od.value},L(function(a){var c=L(function(a,b,c,d){var e=b.area,n=b.accuracy.toString()+" m",p=U("TR",a,U("TD",void 0,c),U("TD",void 0,d),U("TD",void 0,e),U("TD",void 0,n));this.fe.push(p);this.Ch.appendChild(p);W(p,"click",function(a){Qe(this,p,b);a.preventDefault()},!1,this);return p},this);Oe(this);var d,e;Ga(a.results,function(a){var b=a.trans,h=a.default_trans,l=U("SPAN","srsdialog-transshower","\x3e");d=U("SPAN",void 0,l,a.code);e=a.name;
c("system"+(0<b.length?" expandable":""),a,d,e);var m=[];Ga(b,function(b){var e=b.code_trans;b.code=a.code+"-"+e;b.name=a.name;d="  "+e;h==e&&(a.bbox=b.bbox);b=c("trans hidden"+(h==e?" default":""),b,d,"");m.push(b)},this);W(l,"click",function(a){Ga(m,function(a){ec(a,"hidden")?hc(a,"hidden"):fc(a,"hidden")},this);a.preventDefault()},!1,this)},this)},a))}function Qe(a,b,c){Ga(a.fe,function(a){a==b?fc(a,"selected"):hc(a,"selected")},a);a.wh=c}var Ne="selected";function Re(a,b){Y.call(this);this.tc=a||1;this.qd=b||v;this.kg=L(this.rn,this);this.Zg=pa()}O(Re,Y);k=Re.prototype;k.enabled=!1;k.F=null;k.setInterval=function(a){this.tc=a;this.F&&this.enabled?(this.stop(),this.start()):this.F&&this.stop()};k.rn=function(){if(this.enabled){var a=pa()-this.Zg;0<a&&a<.8*this.tc?this.F=this.qd.setTimeout(this.kg,this.tc-a):(this.F&&(this.qd.clearTimeout(this.F),this.F=null),this.dispatchEvent(Se),this.enabled&&(this.F=this.qd.setTimeout(this.kg,this.tc),this.Zg=pa()))}};
k.start=function(){this.enabled=!0;this.F||(this.F=this.qd.setTimeout(this.kg,this.tc),this.Zg=pa())};k.stop=function(){this.enabled=!1;this.F&&(this.qd.clearTimeout(this.F),this.F=null)};k.b=function(){Re.h.b.call(this);this.stop();delete this.qd};var Se="tick";function Te(a,b,c){if(ia(a))c&&(a=L(a,c));else if(a&&"function"==typeof a.handleEvent)a=L(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:v.setTimeout(a,b||0)};function We(a,b,c){Y.call(this);this.Pb=a;this.zf=c;this.ma=b;W(b,[Xe,Ye,Ze,$e],this.handleEvent,!1,this);this.Ha=null;this.P=[];this.Lb=-1;this.ca=0;this.ic=this.N=null;this.ej={}}O(We,Y);k=We.prototype;k.km=10;k.Ok=!0;k.di=!1;k.yk=!1;k.pk=!1;var Xe="hilite",Ye="select",$e="dismiss",Ze="canceldismiss";k=We.prototype;
k.handleEvent=function(a){var b=this.Pb;if(a.target==this.ma)switch(a.type){case Xe:this.rb(a.row);break;case Ye:var c=!1;if(ha(a.row)){a=a.row;var d=this.P[af(this,a)],c=!!d&&b.Sg&&b.Sg(d);d&&!c&&this.Lb!=a&&this.rb(a)}c||bf(this);break;case Ze:cf(this);break;case $e:df(this)}};k.Tc=function(){return this.N};k.nd=function(a){this.N=a};
function ef(a){for(var b=a.ca+a.P.length-1,c=a.Lb,d=0;d<a.P.length;d++){if(c>=a.ca&&c<b)c++;else if(-1==c)c=a.ca;else if(a.di&&c==b){a.rb(-1);break}else if(a.yk&&c==b)c=a.ca;else break;if(a.rb(c))break}}function ff(a){for(var b=a.ca+a.P.length-1,c=a.Lb,d=0;d<a.P.length;d++){if(c>a.ca)c--;else if(a.di&&c==a.ca){a.rb(-1);break}else if(!a.yk||-1!=c&&c!=a.ca)break;else c=b;if(a.rb(c))break}}
k.rb=function(a){var b=af(this,a),c=this.P[b];return c&&this.Pb.Sg&&this.Pb.Sg(c)?!1:(this.Lb=a,this.ma.rb(a),-1!=b)};
function bf(a){var b=af(a,a.Lb);if(-1!=b){var c=a.P[b],d=a.zf;if(d.l){var e=c.toString();if(ba(void 0)?0:d.ed){var f=gf(d,d.l.value,hf(d.l)[0]),g=jf(d,d.l.value);d.fn.test(e)||(e=e.replace(/[\s\xa0]+$/,"")+d.Wk);d.Nn&&(0==f||/^[\s\xa0]*$/.test(g[f-1])||(e=" "+e),f==g.length-1&&(e+=" "));if(e!=g[f]){g[f]=e;e=d.l;(ob||Q&&S("9"))&&e.blur();e.value=g.join("");for(var h=0,l=0;l<=f;l++)h+=g[l].length;e.focus();f=h;g=d.l;e=f;kf(g)?g.selectionStart=e:Q&&(h=lf(g),l=h[0],l.inRange(h[1])&&(e=mf(g,e),l.collapse(!0),
l.move("character",e),l.select()));g=d.l;kf(g)?g.selectionEnd=f:Q&&(h=lf(g),e=h[1],h[0].inRange(e)&&(f=mf(g,f),g=mf(g,hf(g)[0]),e.collapse(!0),e.moveEnd("character",f-g),e.select()))}}else d.l.value=e;d.uh=!0}a.pk?(a.Ha=null,df(a)):a.lb();a.dispatchEvent({type:"update",row:c,index:b});a.pk&&a.zf.update(!0);return!0}a.lb();a.dispatchEvent({type:"update",row:null,index:null});return!1}
k.lb=function(){this.Lb=-1;this.Ha=null;this.ca+=this.P.length;this.P=[];window.clearTimeout(this.ic);this.ic=null;this.ma.lb();this.dispatchEvent("suggestionsupdate");this.dispatchEvent($e)};function df(a){a.ic||(a.ic=window.setTimeout(L(a.lb,a),100))}k.dj=function(){return this.ic?(window.clearTimeout(this.ic),this.ic=null,!0):!1};function cf(a){a.dj()||window.setTimeout(L(a.dj,a),10)}k.b=function(){We.h.b.call(this);delete this.ej;this.ma.mb();this.zf.mb();this.Pb=null};
k.gm=function(a,b,c){this.Ha==a&&this.qh(b,c)};k.qh=function(a,b){var c="object"==fa(b)&&b,d=(c?c.no():b)?af(this,this.Lb):-1;this.ca+=this.P.length;this.P=a;for(var e=[],f=0;f<a.length;++f)e.push({id:this.ca+f,data:a[f]});f=null;this.N&&(f=this.ej[H(this.N)]||this.N);this.ma.Jk=f;this.ma.qh(e,this.Ha,this.N);f=this.Ok;c&&void 0!==c.kl()&&(f=c.kl());this.Lb=-1;(f||0<=d)&&0!=e.length&&this.Ha&&(0<=d?this.rb(this.ca+d):ef(this));this.dispatchEvent("suggestionsupdate")};
function af(a,b){var c=b-a.ca;return 0>c||c>=a.P.length?-1:c}k.update=function(a){this.zf.update(a)};var nf;function of(a,b){b?a.setAttribute("role",b):a.removeAttribute("role")}function pf(a,b,c){y(c)&&(c=c.join(" "));var d="aria-"+b;""===c||void 0==c?(nf||(nf={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),c=nf,b in c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)}
function qf(a,b){var c="";b&&(c=b.id);pf(a,"activedescendant",c)};function hf(a){var b=0,c=0;if(kf(a))b=a.selectionStart,c=-1;else if(Q){var d=lf(a),e=d[0],d=d[1];if(e.inRange(d)){e.setEndPoint("EndToStart",d);if("textarea"==a.type){d.duplicate();b=a=e.text;for(c=!1;!c;)0==e.compareEndPoints("StartToEnd",e)?c=!0:(e.moveEnd("character",-1),e.text==a?b+="\r\n":c=!0);e=[b.length,-1];return e}b=e.text.length;c=-1}}return[b,c]}
function lf(a){var b=a.ownerDocument||a.document,c=b.selection.createRange();"textarea"==a.type?(b=b.body.createTextRange(),b.moveToElementText(a)):b=a.createTextRange();return[b,c]}function mf(a,b){"textarea"==a.type&&(b=a.value.substring(0,b).replace(/(\r\n|\r|\n)/g,"\n").length);return b}function kf(a){try{return"number"==typeof a.selectionStart}catch(b){return!1}};function rf(a){jc.call(this);this.Kb=a;this.K={}}O(rf,jc);var sf=[];k=rf.prototype;k.fa=function(a,b,c,d){y(b)||(b&&(sf[0]=b.toString()),b=sf);for(var e=0;e<b.length;e++){var f=W(a,b[e],c||this.handleEvent,d||!1,this.Kb||this);if(!f)break;this.K[f.key]=f}return this};k.bh=function(a,b,c,d){return tf(this,a,b,c,d)};function tf(a,b,c,d,e,f){if(y(c))for(var g=0;g<c.length;g++)tf(a,b,c[g],d,e,f);else{b=Oc(b,c,d||a.handleEvent,e,f||a.Kb||a);if(!b)return a;a.K[b.key]=b}return a}
k.ya=function(a,b,c,d,e){if(y(b))for(var f=0;f<b.length;f++)this.ya(a,b[f],c,d,e);else c=c||this.handleEvent,e=e||this.Kb||this,c=Ic(c),d=!!d,b=yc(a)?a.Gd(b,c,d,e):a?(a=Kc(a))?a.Gd(b,c,d,e):null:null,b&&(X(b),delete this.K[b.key]);return this};k.Yd=function(){ab(this.K,function(a,b){this.K.hasOwnProperty(b)&&X(a)},this);this.K={}};k.b=function(){rf.h.b.call(this);this.Yd()};k.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function uf(a,b){Y.call(this);a&&vf(this,a,b)}O(uf,Y);k=uf.prototype;k.a=null;k.Te=null;k.Tg=null;k.Ue=null;k.ta=-1;k.Nb=-1;k.dg=!1;
var wf={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},xf={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},yf=Q||nb||R&&S("525"),zf=pb&&ob;k=uf.prototype;
k.wl=function(a){if(R||nb)if(17==this.ta&&!a.ctrlKey||18==this.ta&&!a.altKey||pb&&91==this.ta&&!a.metaKey)this.Nb=this.ta=-1;-1==this.ta&&(a.ctrlKey&&17!=a.keyCode?this.ta=17:a.altKey&&18!=a.keyCode?this.ta=18:a.metaKey&&91!=a.keyCode&&(this.ta=91));yf&&!Vc(a.keyCode,this.ta,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Nb=Xc(a.keyCode),zf&&(this.dg=a.altKey))};k.yl=function(a){this.Nb=this.ta=-1;this.dg=a.altKey};
k.handleEvent=function(a){var b=a.I,c,d,e=b.altKey;Q&&"keypress"==a.type?(c=this.Nb,d=13!=c&&27!=c?b.keyCode:0):(R||nb)&&"keypress"==a.type?(c=this.Nb,d=0<=b.charCode&&63232>b.charCode&&Wc(c)?b.charCode:0):mb&&!R?(c=this.Nb,d=Wc(c)?b.keyCode:0):(c=b.keyCode||this.Nb,d=b.charCode||0,zf&&(e=this.dg),pb&&63==d&&224==c&&(c=191));var f=c=Xc(c),g=b.keyIdentifier;c?63232<=c&&c in wf?f=wf[c]:25==c&&a.shiftKey&&(f=9):g&&g in xf&&(f=xf[g]);a=f==this.ta;this.ta=f;b=new Af(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
function vf(a,b,c){a.Ue&&a.detach();a.a=b;a.Te=W(a.a,"keypress",a,c);a.Tg=W(a.a,"keydown",a.wl,c,a);a.Ue=W(a.a,"keyup",a.yl,c,a)}k.detach=function(){this.Te&&(X(this.Te),X(this.Tg),X(this.Ue),this.Ue=this.Tg=this.Te=null);this.a=null;this.Nb=this.ta=-1};k.b=function(){uf.h.b.call(this);this.detach()};function Af(a,b,c,d){uc.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}O(Af,uc);var Bf=lb()||P("iPod"),Cf=P("iPad");function Df(a,b,c,d){jc.call(this);d=d||150;this.ed=null!=c?c:!0;this.ae=a||",;";this.Wk=this.ae.substring(0,1);a=this.ed?"[\\s"+this.ae+"]+":"[\\s]+";this.qk=new RegExp("^"+a+"|"+a+"$","g");this.fn=new RegExp("\\s*["+this.ae+"]$");this.mj=b||"";this.Qm=!1;this.Pm=this.ed;this.F=0<d?new Re(d):null;this.X=new rf(this);this.oe=new rf(this);this.bb=new uf;this.ij=-1}O(Df,jc);var Ef=(Bf||Cf)&&!S("533.17.9");k=Df.prototype;k.Nn=!0;k.il=!0;k.tk=!1;k.hn=!0;k.gn=!0;k.cg=null;k.l=null;k.Yg="";k.ac=!1;
k.uh=!1;k.sk=!0;k.b=function(){Df.h.b.call(this);null!=this.cg&&window.clearTimeout(this.cg);this.X.mb();delete this.X;this.oe.mb();this.bb.mb();nc(this.F)};function Ff(a){a.F?a.F.setInterval(300):a.F=new Re(300)}
function Gf(a,b){switch(b.keyCode){case 40:if(a.O.ma.fb){a.tk?ff(a.O):ef(a.O);b.preventDefault();return}if(!a.ed){a.update(!0);b.preventDefault();return}break;case 38:if(a.O.ma.fb){a.tk?ef(a.O):ff(a.O);b.preventDefault();return}break;case 9:if(!a.O.ma.fb||b.shiftKey||a.Qm)a.O.lb();else if(a.update(),bf(a.O)&&a.Pm){b.preventDefault();return}break;case 13:if(a.O.ma.fb){if(a.update(),bf(a.O)){b.preventDefault();b.stopPropagation();return}}else a.O.lb();break;case 27:if(a.O.ma.fb){a.O.lb();b.preventDefault();
b.stopPropagation();return}break;case 229:if(!a.ac){a.ac||(a.X.fa(a.l,"keyup",a.zj),a.X.fa(a.l,"keypress",a.yj),a.ac=!0);return}break;default:a.F&&!a.sk&&(a.F.stop(),a.F.start())}Hf(a,b)}function Hf(a,b){var c=a.ed&&b.charCode&&-1!=a.ae.indexOf(String.fromCharCode(b.charCode));a.hn&&c&&a.update();a.gn&&c&&bf(a.O)&&b.preventDefault()}k.xl=function(){return!1};k.Ig=function(a){If(this,a.target||null)};
function If(a,b){a.oe.Yd();a.O&&cf(a.O);b!=a.l&&(a.l=b,a.F&&(a.F.start(),a.X.fa(a.F,Se,a.Ej)),a.Yg=a.l.value,vf(a.bb,a.l),a.X.fa(a.bb,"key",a.Aj),a.X.fa(a.l,"mousedown",a.Bj),Q&&a.X.fa(a.l,"keypress",a.wj))}k.Hg=function(){Ef?this.cg=window.setTimeout(L(this.Mj,this),0):this.Mj()};
k.Mj=function(){this.l&&(this.X.ya(this.bb,"key",this.Aj),this.bb.detach(),this.X.ya(this.l,"keyup",this.xl),this.X.ya(this.l,"mousedown",this.Bj),Q&&this.X.ya(this.l,"keypress",this.wj),this.ac&&Jf(this),this.l=null,this.F&&(this.F.stop(),this.X.ya(this.F,Se,this.Ej)),this.O&&df(this.O))};k.Ej=function(){this.update()};k.xj=function(a){this.Ig(a)};k.Aj=function(a){this.ij=a.keyCode;this.O&&Gf(this,a)};k.yj=function(){this.ac&&229!=this.ij&&Jf(this)};
k.zj=function(a){this.ac&&(13==a.keyCode||77==a.keyCode&&a.ctrlKey)&&Jf(this)};k.Bj=function(){};function Jf(a){a.ac&&(a.ac=!1,a.X.ya(a.l,"keypress",a.yj),a.X.ya(a.l,"keyup",a.zj))}k.wj=function(a){Hf(this,a)};
k.update=function(a){if(this.l&&(a||this.l.value!=this.Yg)){if(a||!this.uh){a=hf(this.l)[0];var b=this.l.value;a=jf(this,b)[gf(this,b,a)];a=this.qk?String(a).replace(this.qk,""):a;this.O&&(this.O.nd(this.l),b=this.O,b.Ha!=a&&(b.Ha=a,Kf(b.Pb,b.Ha,b.km,L(b.gm,b)),cf(b)))}this.Yg=this.l.value}this.uh=!1};function gf(a,b,c){a=jf(a,b);if(c==b.length)return a.length-1;for(var d=b=0,e=0;d<a.length&&e<=c;d++)e+=a[d].length,b=d;return b}
function jf(a,b){if(!a.ed)return[b];for(var c=String(b).split(""),d=[],e=[],f=0,g=!1;f<c.length;f++)a.mj&&-1!=a.mj.indexOf(c[f])?(a.il&&!g&&(d.push(e.join("")),e.length=0),e.push(c[f]),g=!g):g||-1==a.ae.indexOf(c[f])?e.push(c[f]):(e.push(c[f]),d.push(e.join("")),e.length=0);d.push(e.join(""));return d};function Lf(){Y.call(this);this.B=Mf;this.endTime=this.startTime=null}O(Lf,Y);var Mf=0;Lf.prototype.vb=function(){this.Ya("begin")};Lf.prototype.Rb=function(){this.Ya("end")};Lf.prototype.Ya=function(a){this.dispatchEvent(a)};function Nf(a,b,c){jc.call(this);this.J=null;this.Rh=!1;this.Qd=a;this.Kb=c;this.gb=b||window;this.ud=L(this.wg,this)}O(Nf,jc);k=Nf.prototype;k.start=function(){this.stop();this.Rh=!1;var a=Of(this),b=Pf(this);a&&!b&&this.gb.mozRequestAnimationFrame?(this.J=W(this.gb,"MozBeforePaint",this.ud),this.gb.mozRequestAnimationFrame(null),this.Rh=!0):this.J=a&&b?a.call(this.gb,this.ud):this.gb.setTimeout(ed(this.ud),20)};
k.stop=function(){if(this.$c()){var a=Of(this),b=Pf(this);a&&!b&&this.gb.mozRequestAnimationFrame?X(this.J):a&&b?b.call(this.gb,this.J):this.gb.clearTimeout(this.J)}this.J=null};k.$c=function(){return null!=this.J};k.wg=function(){this.Rh&&this.J&&X(this.J);this.J=null;this.Qd.call(this.Kb,pa())};k.b=function(){this.stop();Nf.h.b.call(this)};
function Of(a){a=a.gb;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function Pf(a){a=a.gb;return a.cancelAnimationFrame||a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};function Qf(a,b,c){jc.call(this);this.Qd=a;this.tc=b||0;this.Kb=c;this.ud=L(this.wg,this)}O(Qf,jc);k=Qf.prototype;k.J=0;k.b=function(){Qf.h.b.call(this);this.stop();delete this.Qd;delete this.Kb};k.start=function(a){this.stop();this.J=Te(this.ud,ba(a)?a:this.tc)};k.stop=function(){this.$c()&&v.clearTimeout(this.J);this.J=0};k.$c=function(){return 0!=this.J};k.wg=function(){this.J=0;this.Qd&&this.Qd.call(this.Kb)};var Rf={},Sf=null;function Tf(a){a=H(a);delete Rf[a];gb(Rf)&&Sf&&Sf.stop()}function Uf(){Sf||(Sf=new Qf(function(){Vf()},20));var a=Sf;a.$c()||a.start()}function Vf(){var a=pa();ab(Rf,function(b){Wf(b,a)});gb(Rf)||Uf()};function Xf(a,b,c,d){Lf.call(this);if(!y(a)||!y(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.ee=a;this.bl=b;this.duration=c;this.$h=d;this.coords=[];this.Ga=0}O(Xf,Lf);k=Xf.prototype;
k.play=function(a){if(a||this.B==Mf)this.Ga=0,this.coords=this.ee;else if(1==this.B)return!1;Tf(this);this.startTime=a=pa();-1==this.B&&(this.startTime-=this.duration*this.Ga);this.endTime=this.startTime+this.duration;this.Ga||this.vb();this.Ya("play");-1==this.B&&this.Ya("resume");this.B=1;var b=H(this);b in Rf||(Rf[b]=this);Uf();Wf(this,a);return!0};k.stop=function(a){Tf(this);this.B=Mf;a&&(this.Ga=1);Yf(this,this.Ga);this.Ya("stop");this.Rb()};
k.pause=function(){1==this.B&&(Tf(this),this.B=-1,this.Ya("pause"))};k.b=function(){this.B==Mf||this.stop(!1);this.Ya("destroy");Xf.h.b.call(this)};function Wf(a,b){a.Ga=(b-a.startTime)/(a.endTime-a.startTime);1<=a.Ga&&(a.Ga=1);Yf(a,a.Ga);1==a.Ga?(a.B=Mf,Tf(a),a.Ya("finish"),a.Rb()):1==a.B&&a.hh()}function Yf(a,b){ia(a.$h)&&(b=a.$h(b));a.coords=Array(a.ee.length);for(var c=0;c<a.ee.length;c++)a.coords[c]=(a.bl[c]-a.ee[c])*b+a.ee[c]}k.hh=function(){this.Ya("animate")};
k.Ya=function(a){this.dispatchEvent(new Zf(a,this))};function Zf(a,b){V.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.Ga=b.Ga;this.state=b.B}O(Zf,V);function $f(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}k=$f.prototype;k.Jb=function(){return this.right-this.left};k.Sc=function(){return this.bottom-this.top};k.clone=function(){return new $f(this.top,this.right,this.bottom,this.left)};k.contains=function(a){return this&&a?a instanceof $f?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
k.expand=function(a,b,c,d){ja(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};k.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};k.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
k.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};k.translate=function(a,b){a instanceof T?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,ha(b)&&(this.top+=b,this.bottom+=b));return this};k.scale=function(a,b){var c=ha(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function ag(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}k=ag.prototype;k.clone=function(){return new ag(this.left,this.top,this.width,this.height)};k.intersects=function(a){return this.left<=a.left+a.width&&a.left<=this.left+this.width&&this.top<=a.top+a.height&&a.top<=this.top+this.height};
k.contains=function(a){return a instanceof ag?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};k.distance=function(a){var b=a.x<this.left?this.left-a.x:Math.max(a.x-(this.left+this.width),0);a=a.y<this.top?this.top-a.y:Math.max(a.y-(this.top+this.height),0);return Math.sqrt(b*b+a*a)};k.sa=function(){return new Db(this.width,this.height)};
k.getCenter=function(){return new T(this.left+this.width/2,this.top+this.height/2)};k.ceil=function(){this.left=Math.ceil(this.left);this.top=Math.ceil(this.top);this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.left=Math.floor(this.left);this.top=Math.floor(this.top);this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
k.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};k.translate=function(a,b){a instanceof T?(this.left+=a.x,this.top+=a.y):(this.left+=a,ha(b)&&(this.top+=b));return this};k.scale=function(a,b){var c=ha(b)?b:a;this.left*=a;this.width*=a;this.top*=c;this.height*=c;return this};function bg(a,b){var c=Hb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function cg(a,b){return bg(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function dg(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}Q&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function eg(a){if(Q&&!(8<=yb))return a.offsetParent;var b=Hb(a),c=cg(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(11==a.nodeType&&a.host&&(a=a.host),c=cg(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function fg(a){for(var b=new $f(0,Infinity,Infinity,0),c=Fb(a),d=c.ka.body,e=c.ka.documentElement,f=Nb(c.ka);a=eg(a);)if(!(Q&&0==a.clientWidth||R&&0==a.clientHeight&&a==d)&&a!=d&&a!=e&&"visible"!=cg(a,"overflow")){var g=gg(a),h=new T(a.clientLeft,a.clientTop);g.x+=h.x;g.y+=h.y;b.top=Math.max(b.top,g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);
c=Lb(Ob(c.ka)||window);b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);return 0<=b.top&&0<=b.left&&b.bottom>b.top&&b.right>b.left?b:null}function gg(a){var b=Hb(a),c=new T(0,0),d;d=b?Hb(b):document;var e;(e=!Q)||(e=9<=yb);d=e||cc(Fb(d))?d.documentElement:d.body;if(a==d)return c;a=dg(a);b=Fb(b);b=Mb(b.ka);c.x=a.left+b.x;c.y=a.top+b.y;return c}function hg(a){a=dg(a);return new T(a.left,a.top)}
function ig(a){if(1==a.nodeType)return hg(a);a=a.changedTouches?a.changedTouches[0]:a;return new T(a.clientX,a.clientY)}function jg(a){"number"==typeof a&&(a+="px");return a}function kg(a){var b=lg;if("none"!=cg(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=e;return a}
function lg(a){var b=a.offsetWidth,c=a.offsetHeight,d=R&&!b&&!c;return ba(b)&&!d||!a.getBoundingClientRect?new Db(b,c):(a=dg(a),new Db(a.right-a.left,a.bottom-a.top))}function mg(a,b){a.style.display=b?"":"none"}function ng(a){return"rtl"==cg(a,"direction")}var og=ob?"MozUserSelect":R?"WebkitUserSelect":null;
function pg(a){var b=a.getElementsByTagName("*");if(og){var c="none";a.style&&(a.style[og]=c);if(b){a=0;for(var d;d=b[a];a++)d.style&&(d.style[og]=c)}}else if(Q||mb)if(c="on",a.setAttribute("unselectable",c),b)for(a=0;d=b[a];a++)d.setAttribute("unselectable",c)}function qg(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}
function rg(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?qg(a,c,"left","pixelLeft"):0}function sg(a){if(Q){var b=rg(a,"paddingLeft"),c=rg(a,"paddingRight"),d=rg(a,"paddingTop");a=rg(a,"paddingBottom");return new $f(d,c,a,b)}b=bg(a,"paddingLeft");c=bg(a,"paddingRight");d=bg(a,"paddingTop");a=bg(a,"paddingBottom");return new $f(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}var tg={thin:2,medium:4,thick:6};
function ug(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in tg?tg[c]:qg(a,c,"left","pixelLeft")}
function vg(a){if(Q&&!(9<=yb)){var b=ug(a,"borderLeft"),c=ug(a,"borderRight"),d=ug(a,"borderTop");a=ug(a,"borderBottom");return new $f(d,c,a,b)}b=bg(a,"borderLeftWidth");c=bg(a,"borderRightWidth");d=bg(a,"borderTopWidth");a=bg(a,"borderBottomWidth");return new $f(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};function wg(a,b,c,d,e){Xf.call(this,b,c,d,e);this.element=a}O(wg,Xf);wg.prototype.Rf=da;wg.prototype.hh=function(){this.Rf();wg.h.hh.call(this)};wg.prototype.Rb=function(){this.Rf();wg.h.Rb.call(this)};wg.prototype.vb=function(){this.Rf();wg.h.vb.call(this)};function xg(a,b,c,d,e){ha(b)&&(b=[b]);ha(c)&&(c=[c]);wg.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");this.Ye=yg}O(xg,wg);var zg=1/1024,yg=-1;
xg.prototype.Rf=function(){var a=this.coords[0];if(Math.abs(a-this.Ye)>=zg){var b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity\x3d"+100*a+")");this.Ye=a}};xg.prototype.vb=function(){this.Ye=yg;xg.h.vb.call(this)};xg.prototype.Rb=function(){this.Ye=yg;xg.h.Rb.call(this)};xg.prototype.show=function(){this.element.style.display=""};function Ag(a,b,c){xg.call(this,a,1,0,b,c)}O(Ag,xg);
Ag.prototype.vb=function(){this.show();Ag.h.vb.call(this)};Ag.prototype.Rb=function(){this.element.style.display="none";Ag.h.Rb.call(this)};function Bg(a,b,c){xg.call(this,a,0,1,b,c)}O(Bg,xg);Bg.prototype.vb=function(){this.show();Bg.h.vb.call(this)};function Cg(a,b){return(b&4&&ng(a)?b^2:b)&-5};function Dg(){}ea(Dg);Dg.prototype.sj=0;function Eg(a,b,c,d){Y.call(this);this.aa=a||document.body;this.Za=Fb(this.aa);this.bn=!a;this.a=null;this.Ha="";this.P=[];this.Fc=[];this.ek=this.Ne=-1;this.fb=!1;this.className="ac-renderer";this.th="ac-row";this.kj="active";this.ai="ac-active";this.Ul="ac-highlighted";this.Lc=b||null;this.Kn=null!=d?d:!0;this.hm=!0;this.Me=!1;this.en=!!c;this.Nf=!1;this.ff=0;this.ck=!1}O(Eg,Y);k=Eg.prototype;k.qh=function(a,b,c){this.Ha=b;this.P=a;this.Ne=-1;this.ek=pa();this.N=c;this.Fc=[];Fg(this)};
k.lb=function(){this.N&&qf(this.N,null);this.fb&&(this.fb=!1,this.N&&pf(this.N,"haspopup",!1),0<this.ff?(nc(this.Ic),this.Ic=new Ag(this.a,this.ff),this.Ic.play()):mg(this.a,!1))};k.show=function(){this.fb||(this.fb=!0,this.N&&(of(this.N,"combobox"),pf(this.N,"autocomplete","list"),pf(this.N,"haspopup",!0)),0<this.ff?(nc(this.Ic),this.Ic=new Bg(this.a,this.ff),this.Ic.play()):mg(this.a,!0))};
function Gg(a,b){var c=0<=b&&b<a.P.length?a.P[b]:void 0,d=0<=b&&b<a.Fc.length?a.Fc[b]:void 0;if(a.dispatchEvent({type:"rowhilite",po:d,row:c?c.data:null})&&(0<=a.Ne&&ic(a.Fc[a.Ne],[a.ai,a.kj]),a.Ne=b,d)){gc(d,[a.ai,a.kj]);a.N&&qf(a.N,d);var e=(c=a.a||Nb(document))||Nb(document),f=gg(d),g=gg(e),h=vg(e);if(e==Nb(document)){var l=f.x-e.scrollLeft,f=f.y-e.scrollTop;!Q||10<=yb||(l+=h.left,f+=h.top)}else l=f.x-g.x-h.left,f=f.y-g.y-h.top;var h=e.clientHeight-d.offsetHeight,g=e.scrollLeft,m=e.scrollTop,g=
g+Math.min(l,Math.max(l-(e.clientWidth-d.offsetWidth),0)),m=m+Math.min(f,Math.max(f-h,0)),d=new T(g,m);c.scrollLeft=d.x;c.scrollTop=d.y}}k.rb=function(a){if(-1==a)Gg(this,-1);else for(var b=0;b<this.P.length;b++)if(this.P[b].id==a){Gg(this,b);break}};
function Hg(a){if(!a.a){var b=a.Za.vi("DIV",{style:"display:none"});a.ck&&(b.style.overflowY="auto");a.a=b;gc(b,sa(a.className).split(" "));of(b,"listbox");b.id=":"+(Dg.ob().sj++).toString(36);a.Za.appendChild(a.aa,b);W(b,"click",a.qb,!1,a);W(b,"mousedown",a.Oi,!1,a);W(b,"mouseover",a.Pi,!1,a)}}
function Fg(a){Hg(a);a.Nf&&(a.a.style.visibility="hidden");a.xk&&(a.a.style.minWidth=a.xk.clientWidth+"px");a.Fc.length=0;a.Za.Wm(a.a);if(a.Lc&&a.Lc.render)a.Lc.render(a,a.a,a.P,a.Ha);else{var b=null;Ga(a.P,function(a){var d=this.Ha,e=this.Za.vi("DIV",{className:this.th,id:":"+(Dg.ob().sj++).toString(36)});of(e,"option");this.Lc&&this.Lc.Qj?this.Lc.Qj(a,d,e):$b(e,a.data.toString());d&&this.Kn&&(this.wk=!1,Ig(this,e,d));fc(e,this.th);this.Fc.push(e);a=e;this.Nf?this.a.insertBefore(a,b):this.Za.appendChild(this.a,
a);b=a},a)}0==a.P.length?a.lb():(a.show(),Jg(a),pg(a.a))}
function Jg(a){if(a.N&&a.bn){var b=a.Jk||a.N,c,d=a.en?3:1;a.Nf&&(d^=1);c=d;var e=65;a.ck&&(a.a.style.height="",e|=32);var d=a.a,f=c^1,g,h;if(g=d.offsetParent){var l="HTML"==g.tagName||"BODY"==g.tagName;l&&"static"==cg(g,"position")||(h=gg(g),l||(l=(l=ng(g))&&ob?-g.scrollLeft:!l||Q&&S("8")||"visible"==cg(g,"overflowX")?g.scrollLeft:g.scrollWidth-g.clientWidth-g.scrollLeft,h=Cb(h,new T(l,g.scrollTop))))}g=h||new T;h=gg(b);l=kg(b);h=new ag(h.x,h.y,l.width,l.height);if(l=fg(b)){var m=new ag(l.left,l.top,
l.right-l.left,l.bottom-l.top),l=Math.max(h.left,m.left),n=Math.min(h.left+h.width,m.left+m.width);if(l<=n){var p=Math.max(h.top,m.top),m=Math.min(h.top+h.height,m.top+m.height);p<=m&&(h.left=l,h.top=p,h.width=n-l,h.height=m-p)}}l=Fb(b);p=Fb(d);if(l.ka!=p.ka){var n=l.ka.body,p=Ob(p.ka),m=new T(0,0),q;q=(q=Hb(n))?Ob(q):window;var t=n;do{var w=q==p?gg(t):hg(t);m.x+=w.x;m.y+=w.y}while(q&&q!=p&&q!=q.parent&&(t=q.frameElement)&&(q=q.parent));n=Cb(m,gg(n));!Q||9<=yb||cc(l)||(n=Cb(n,Mb(l.ka)));h.left+=n.x;
h.top+=n.y}var b=Cg(b,c),b=new T(b&2?h.left+h.width:h.left,b&1?h.top+h.height:h.top),b=Cb(b,g),u;e&&(u=fg(d))&&(u.top-=g.y,u.right-=g.x,u.bottom-=g.y,u.left-=g.x);b=b.clone();g=Cg(d,f);f=kg(d);c=f.clone();b=b.clone();c=c.clone();h=0;0!=g&&(g&2&&(b.x-=c.width+0),g&1&&(b.y-=c.height+0));e&&(u?(g=b,h=c,l=0,65==(e&65)&&(g.x<u.left||g.x>=u.right)&&(e&=-2),132==(e&132)&&(g.y<u.top||g.y>=u.bottom)&&(e&=-5),g.x<u.left&&e&1&&(g.x=u.left,l|=1),e&16&&(n=g.x,g.x<u.left&&(g.x=u.left,l|=4),g.x+h.width>u.right&&
(h.width=Math.min(u.right-g.x,n+h.width-u.left),h.width=Math.max(h.width,0),l|=4)),g.x+h.width>u.right&&e&1&&(g.x=Math.max(u.right-h.width,u.left),l|=1),e&2&&(l=l|(g.x<u.left?16:0)|(g.x+h.width>u.right?32:0)),g.y<u.top&&e&4&&(g.y=u.top,l|=2),e&32&&(n=g.y,g.y<u.top&&(g.y=u.top,l|=8),g.y+h.height>u.bottom&&(h.height=Math.min(u.bottom-g.y,n+h.height-u.top),h.height=Math.max(h.height,0),l|=8)),g.y+h.height>u.bottom&&e&4&&(g.y=Math.max(u.bottom-h.height,u.top),l|=2),e&8&&(l=l|(g.y<u.top?64:0)|(g.y+h.height>
u.bottom?128:0)),e=l):e=256,h=e);e=new ag(0,0,0,0);e.left=b.x;e.top=b.y;e.width=c.width;e.height=c.height;h&496||(b=new T(e.left,e.top),b instanceof T?(u=b.x,b=b.y):(u=b,b=void 0),d.style.left=jg(u),d.style.top=jg(b),c=e.sa(),Eb(f,c)||(e=c,u=cc(Fb(Hb(d))),!Q||S("10")||u&&S("8")?(d=d.style,ob?d.MozBoxSizing="border-box":R?d.WebkitBoxSizing="border-box":d.boxSizing="border-box",d.width=Math.max(e.width,0)+"px",d.height=Math.max(e.height,0)+"px"):(f=d.style,u?(u=sg(d),d=vg(d),f.pixelWidth=e.width-d.left-
u.left-u.right-d.right,f.pixelHeight=e.height-d.top-u.top-u.bottom-d.bottom):(f.pixelWidth=e.width,f.pixelHeight=e.height))));a.Nf&&(a.a.style.visibility="visible")}}k.Tc=function(){return this.N||null};k.b=function(){this.a&&(Pc(this.a,"click",this.qb,!1,this),Pc(this.a,"mousedown",this.Oi,!1,this),Pc(this.a,"mouseover",this.Pi,!1,this),this.Za.removeNode(this.a),this.a=null,this.fb=!1);nc(this.Ic);this.aa=null;Eg.h.b.call(this)};
function Ig(a,b,c){if(a.Me||!a.wk)if(3==b.nodeType){var d=null;y(c)&&1<c.length&&!a.Me&&(d=Ra(c,1));c=Kg(a,c);if(0!=c.length){var e=b.nodeValue,f=a.hm?new RegExp("\\b(?:"+c+")","gi"):new RegExp(c,"gi");c=[];for(var g=0,h=f.exec(e),l=0;h;)l++,c.push(e.substring(g,h.index)),c.push(e.substring(h.index,f.lastIndex)),g=f.lastIndex,h=f.exec(e);c.push(e.substring(g));if(1<c.length){d=a.Me?l:1;for(e=0;e<d;e++)f=2*e,b.nodeValue=c[f],g=a.Za.createElement("B"),g.className=a.Ul,a.Za.appendChild(g,a.Za.createTextNode(c[f+
1])),g=b.parentNode.insertBefore(g,b.nextSibling),b.parentNode.insertBefore(a.Za.createTextNode(""),g.nextSibling),b=g.nextSibling;b.nodeValue=Ra(c,2*d).join("");a.wk=!0}else d&&Ig(a,b,d)}}else for(b=b.firstChild;b;)d=b.nextSibling,Ig(a,b,c),b=d}
function Kg(a,b){var c="";if(!b)return c;y(b)&&(b=Ha(b,function(a){return!/^[\s\xa0]*$/.test(null==a?"":String(a))}));a.Me?y(b)?c=Ia(b,Ca).join("|"):(c=b.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,""),c=Ca(c),c=c.replace(/ /g,"|")):y(b)?c=0<b.length?Ca(b[0]):"":/^\W/.test(b)||(c=Ca(b));return c}function Lg(a,b){for(;b&&b!=a.a&&!ec(b,a.th);)b=b.parentNode;return b?Fa(a.Fc,b):-1}k.qb=function(a){var b=Lg(this,a.target);0<=b&&this.dispatchEvent({type:Ye,row:this.P[b].id});a.stopPropagation()};
k.Oi=function(a){a.stopPropagation();a.preventDefault()};k.Pi=function(a){a=Lg(this,a.target);0<=a&&!(300>pa()-this.ek)&&this.dispatchEvent({type:Xe,row:this.P[a].id})};function Mg(a,b){this.Hn=a||"http://open.mapquestapi.com/nominatim/v1/search";this.Ud=b||{};this.Mb=new Fe(this.Hn,"json_callback")}
function Kf(a,b,c,d){a.Ud.q=b;a.Ud.format="json";a.Ud.addressdetails=1;a.Ud.limit=c;b&&1!=b.length?(1==c&&(a.Dm=b),1<c&&b===a.Dm||(null!==a.Wj&&a.Mb.cancel(a.Wj),a.Wj=a.Mb.send(a.Ud,function(a){function c(a){var b=[];Ga(a,function(a){var c=a.boundingbox;b.push({formatted_address:a.display_name,type:a.type,bounds:c?[parseFloat(c[2]),parseFloat(c[0]),parseFloat(c[3]),parseFloat(c[1])]:null,viewport:null})},this);return b}var g=Ha(a,function(a){return("place"==a["class"]||"highway"==a["class"]||"boundary"==
a["class"])&&"state"!==a.type&&"country"!==a.type}),h=Ha(a,function(a){return"place"!==a["class"]&&"highway"!==a["class"]});0<g.length?(Ga(g,function(a){var b="us"==a.address.country_code?a.address.state:"gb"==a.address.country_code?"UK":"de"==a.address.country_code?"Germany":a.address.country,c=a.address.city?a.address.city:a.address.town?a.address.town:a.address.village?a.address.village:a.address.hamlet;if("suburb"==a.type)var d=a.address.suburb+(c?", "+c:"")+", "+b;d="city"==a.type||"town"==a.type||
"village"==a.type||"hamlet"==a.type?c+", "+b:"way"==a.osm_type?(a.address.road?a.address.road:a.address.pedestrian)+", "+c+", "+b:"house"==a.type?a.address.road+" "+a.address.house_number+", "+c+", "+b:a.display_name;a.display_name=d}),d(b,c(Oa(g,h)))):d(b,c(a))}))):d(b,[])};function Ng(a,b,c){this.Yc=a;var d=new Eg(null,{Qj:function(a,b,c){c.innerHTML=a.data.formatted_address+" ("+a.data.type+")"}});d.xk=this.Yc;this.Pb=new Mg(b,c);this.Zc=new Df(null,null,!1);Ff(this.Zc);this.Zc.sk=!1;this.Zc.O=this;We.call(this,this.Pb,d,this.Zc);this.yg=!1;this.fa("update",function(b){a.value=b.row?b.row.formatted_address:""});this.enable(!0)}O(Ng,We);
Ng.prototype.enable=function(a){if(this.yg!=a)if(this.yg=a){a=this.Zc;var b=this.Yc;Yb(b)&&pf(b,"haspopup",!0);a.X.fa(b,"focus",a.Ig);a.X.fa(b,"blur",a.Hg);if(!a.l&&(a.oe.fa(b,"keydown",a.xj),Yb(b))){var c;a:{var d=Hb(b);try{c=d&&d.activeElement;break a}catch(e){}c=null}c==b&&If(a,b)}}else c=this.Zc,a=this.Yc,a==c.l&&c.Hg(),c.X.ya(a,"focus",c.Ig),c.X.ya(a,"blur",c.Hg),c.l||c.oe.ya(a,"keydown",c.xj)};
function Og(a,b){W(a,"update",function(a){a.row&&(a=a.row.bounds||a.row.viewport)&&b(a)},!1,a);var c=L(function(a){a.preventDefault();this.yg&&this.search(this.Yc.value,1,L(function(a,c){var d=c[0];d&&b(d.bounds||d.viewport)},this))},a),d=ac(a.Yc);d&&W(d,"submit",c);W(a.Yc,["webkitspeechchange","speechchange"],c)}Ng.prototype.search=function(a,b,c){Kf(this.Pb,a,b,c)};function Pg(){this.Oj=pa()}new Pg;Pg.prototype.set=function(a){this.Oj=a};Pg.prototype.reset=function(){this.set(pa())};Pg.prototype.get=function(){return this.Oj};function Qg(a){Y.call(this);this.Uf=a||window;this.dh=W(this.Uf,"resize",this.Kl,!1,this);this.Ub=Lb(this.Uf||window)}O(Qg,Y);Qg.prototype.sa=function(){return this.Ub?this.Ub.clone():null};Qg.prototype.b=function(){Qg.h.b.call(this);this.dh&&(X(this.dh),this.dh=null);this.Ub=this.Uf=null};Qg.prototype.Kl=function(){var a=Lb(this.Uf||window);Eb(a,this.Ub)||(this.Ub=a,this.dispatchEvent("resize"))};function Rg(a,b){Y.call(this);this.a=a;var c=Yb(this.a)?this.a:this.a?this.a.body:null;this.Xl=!!c&&ng(c);this.lj=W(this.a,ob?"DOMMouseScroll":"mousewheel",this,b)}O(Rg,Y);
Rg.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.I;if("mousewheel"==a.type){c=1;if(Q||R&&(qb||S("532.0")))c=40;d=Sg(-a.wheelDelta,c);ba(a.wheelDeltaX)?(b=Sg(-a.wheelDeltaX,c),c=Sg(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),ba(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;ha(this.oj)&&(b=Math.min(Math.max(b,-this.oj),this.oj));ha(this.pj)&&(c=Math.min(Math.max(c,-this.pj),this.pj));this.Xl&&(b=-b);b=new Tg(d,a,b,c);this.dispatchEvent(b)};
function Sg(a,b){return R&&(pb||rb)&&0!=a%b?a:a/b}Rg.prototype.b=function(){Rg.h.b.call(this);X(this.lj);this.lj=null};function Tg(a,b,c,d){uc.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}O(Tg,uc);function Ug(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Ug.prototype.BYTES_PER_ELEMENT=4;Ug.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Ug.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(Ug.BYTES_PER_ELEMENT=4,Ug.prototype.BYTES_PER_ELEMENT=Ug.prototype.BYTES_PER_ELEMENT,Ug.prototype.set=Ug.prototype.set,Ug.prototype.toString=Ug.prototype.toString,ca("Float32Array",Ug));function Vg(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}Vg.prototype.BYTES_PER_ELEMENT=8;Vg.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};Vg.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{Vg.BYTES_PER_ELEMENT=8}catch(a){}Vg.prototype.BYTES_PER_ELEMENT=Vg.prototype.BYTES_PER_ELEMENT;Vg.prototype.set=Vg.prototype.set;Vg.prototype.toString=Vg.prototype.toString;ca("Float64Array",Vg)};function Wg(a,b,c,d,e){a[0]=b;a[1]=c;a[2]=d;a[3]=e};function Xg(){var a=Array(16);Yg(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function Zg(){var a=Array(16);Yg(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return a}function Yg(a,b,c,d,e,f,g,h,l,m,n,p,q,t,w,u,F){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=l;a[8]=m;a[9]=n;a[10]=p;a[11]=q;a[12]=t;a[13]=w;a[14]=u;a[15]=F}function $g(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1}
function ah(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}function bh(a,b,c){Yg(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}
function ch(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=a[6],m=a[7],n=Math.cos(b),p=Math.sin(b);a[0]=c*n+g*p;a[1]=d*n+h*p;a[2]=e*n+l*p;a[3]=f*n+m*p;a[4]=c*-p+g*n;a[5]=d*-p+h*n;a[6]=e*-p+l*n;a[7]=f*-p+m*n}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);new Float64Array(16);var dh;function eh(){Y.call(this);this.Qa=0}O(eh,Y);eh.prototype.changed=function(){++this.Qa;this.dispatchEvent("change")};function fh(a,b,c,d){return W(a,b,c,!1,d)};function gh(a,b,c){V.call(this,a);this.key=b;this.oldValue=c}O(gh,V);function hh(a){eh.call(this);H(this);this.$b={};void 0!==a&&this.be(a)}O(hh,eh);var ih={};function jh(a){return ih.hasOwnProperty(a)?ih[a]:ih[a]="change:"+a}k=hh.prototype;k.get=function(a){var b;this.$b.hasOwnProperty(a)&&(b=this.$b[a]);return b};k.La=function(){return Object.keys(this.$b)};k.getProperties=function(){var a={},b;for(b in this.$b)a[b]=this.$b[b];return a};
k.notify=function(a,b){var c;c=jh(a);this.dispatchEvent(new gh(c,a,b));this.dispatchEvent(new gh("propertychange",a,b))};k.set=function(a,b,c){c?this.$b[a]=b:(c=this.$b[a],this.$b[a]=b,c!==b&&this.notify(a,c))};k.be=function(a,b){for(var c in a)this.set(c,a[c],b)};function kh(a,b,c){V.call(this,a,c);this.element=b}O(kh,V);function lh(a){hh.call(this);this.Ia=a?a:[];mh(this)}O(lh,hh);k=lh.prototype;k.clear=function(){for(;0<this.getLength();)this.pop()};k.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};k.forEach=function(a,b){this.Ia.forEach(a,b)};k.getArray=function(){return this.Ia};k.item=function(a){return this.Ia[a]};k.getLength=function(){return this.get("length")};
k.insertAt=function(a,b){Qa(this.Ia,a,0,b);mh(this);this.dispatchEvent(new kh("add",b,this))};k.pop=function(){return this.removeAt(this.getLength()-1)};k.push=function(a){var b=this.Ia.length;this.insertAt(b,a);return b};k.remove=function(a){var b=this.Ia,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return this.removeAt(c)};k.removeAt=function(a){var b=this.Ia[a];Array.prototype.splice.call(this.Ia,a,1);mh(this);this.dispatchEvent(new kh("remove",b,this));return b};
k.setAt=function(a,b){var c=this.getLength();if(a<c)c=this.Ia[a],this.Ia[a]=b,this.dispatchEvent(new kh("remove",c,this)),this.dispatchEvent(new kh("add",b,this));else{for(;c<a;++c)this.insertAt(c,void 0);this.insertAt(a,b)}};function mh(a){a.set("length",a.Ia.length)};function nh(){};function ph(a,b){a[0]+=b[0];a[1]+=b[1]}function qh(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function rh(a,b,c){V.call(this,a);this.map=b;this.frameState=void 0!==c?c:null}O(rh,V);function sh(a,b,c){V.call(this,a);this.ha=b;a=c?c:{};this.buttons=th(a);this.pressure=uh(a,this.buttons);this.bubbles="bubbles"in a?a.bubbles:!1;this.cancelable="cancelable"in a?a.cancelable:!1;this.view="view"in a?a.view:null;this.detail="detail"in a?a.detail:null;this.screenX="screenX"in a?a.screenX:0;this.screenY="screenY"in a?a.screenY:0;this.clientX="clientX"in a?a.clientX:0;this.clientY="clientY"in a?a.clientY:0;this.ctrlKey="ctrlKey"in a?a.ctrlKey:!1;this.altKey="altKey"in a?a.altKey:!1;this.shiftKey=
"shiftKey"in a?a.shiftKey:!1;this.metaKey="metaKey"in a?a.metaKey:!1;this.button="button"in a?a.button:0;this.relatedTarget="relatedTarget"in a?a.relatedTarget:null;this.pointerId="pointerId"in a?a.pointerId:0;this.width="width"in a?a.width:0;this.height="height"in a?a.height:0;this.tiltX="tiltX"in a?a.tiltX:0;this.tiltY="tiltY"in a?a.tiltY:0;this.pointerType="pointerType"in a?a.pointerType:"";this.hwTimestamp="hwTimestamp"in a?a.hwTimestamp:0;this.isPrimary="isPrimary"in a?a.isPrimary:!1;b.preventDefault&&
(this.preventDefault=function(){b.preventDefault()})}O(sh,V);function th(a){if(a.buttons||vh)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function uh(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var vh=!1;try{vh=1===(new MouseEvent("click",{buttons:1})).buttons}catch(a){};function wh(a,b){var c=document.createElement("CANVAS");a&&(c.width=a);b&&(c.height=b);return c.getContext("2d")}
var xh=function(){var a;return function(){if(void 0===a)if(v.getComputedStyle){var b=document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=v.getComputedStyle(b).getPropertyValue(d[e]));Xb(b);a=c&&"none"!==c}else a=!1;return a}}(),yh=function(){var a;return function(){if(void 0===a)if(v.getComputedStyle){var b=
document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=v.getComputedStyle(b).getPropertyValue(d[e]));Xb(b);a=c&&"none"!==c}else a=!1;return a}}();
function zh(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.Sn=b;c.msTransform=b;c.transform=b;Q&&S("9.0")&&(a.style.transformOrigin="0 0")};var Ah=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Bh(a,b){var c,d,e=Ah.length;for(d=0;d<e;++d)try{if(c=a.getContext(Ah[d],b))return c}catch(f){}return null};var Ch,Dh=v.devicePixelRatio||1,Eh=!1,Fh=function(){if(!("HTMLCanvasElement"in v))return!1;try{var a=wh();return a?(void 0!==a.setLineDash&&(Eh=!0),!0):!1}catch(b){return!1}}(),Gh="ontouchstart"in v,Hh="PointerEvent"in v,Ih=!!v.navigator.msPointerEnabled,Jh=!1,Kh=[];if("WebGLRenderingContext"in v)try{var Lh=Bh(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});Lh&&(Jh=!0,Kh=Lh.getSupportedExtensions())}catch(a){}Ch=Jh;dh=Kh;function Mh(a,b){this.j=a;this.df=b};function Nh(a){Mh.call(this,a,{mousedown:this.nm,mousemove:this.om,mouseup:this.rm,mouseover:this.qm,mouseout:this.pm});this.T=a.T;this.jj=[]}O(Nh,Mh);function Oh(a,b){for(var c=a.jj,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var l=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=l)return!0}return!1}function Ph(a){var b=Qh(a,a.I),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=Nh.prototype;
k.nm=function(a){if(!Oh(this,a)){(1).toString()in this.T&&this.cancel(a);var b=Ph(a);this.T[(1).toString()]=a;this.j.fireEvent(Rh,b,a)}};k.om=function(a){if(!Oh(this,a)){var b=Ph(a);this.j.move(b,a)}};k.rm=function(a){if(!Oh(this,a)){var b=this.T[(1).toString()];b&&b.button===a.button&&(b=Ph(a),this.j.fireEvent(Sh,b,a),delete this.T[(1).toString()])}};k.qm=function(a){if(!Oh(this,a)){var b=Ph(a);Th(this.j,b,a)}};k.pm=function(a){if(!Oh(this,a)){var b=Ph(a);Uh(this.j,b,a)}};
k.cancel=function(a){var b=Ph(a);this.j.cancel(b,a);delete this.T[(1).toString()]};function Vh(a){Mh.call(this,a,{MSPointerDown:this.wm,MSPointerMove:this.xm,MSPointerUp:this.Am,MSPointerOut:this.ym,MSPointerOver:this.zm,MSPointerCancel:this.vm,MSGotPointerCapture:this.tm,MSLostPointerCapture:this.um});this.T=a.T;this.Ak=["","unavailable","touch","pen","mouse"]}O(Vh,Mh);function Wh(a,b){var c=b;ha(b.I.pointerType)&&(c=Qh(b,b.I),c.pointerType=a.Ak[b.I.pointerType]);return c}k=Vh.prototype;
k.wm=function(a){this.T[a.I.pointerId.toString()]=a;var b=Wh(this,a);this.j.fireEvent(Rh,b,a)};k.xm=function(a){var b=Wh(this,a);this.j.move(b,a)};k.Am=function(a){var b=Wh(this,a);this.j.fireEvent(Sh,b,a);delete this.T[a.I.pointerId.toString()]};k.ym=function(a){var b=Wh(this,a);Uh(this.j,b,a)};k.zm=function(a){var b=Wh(this,a);Th(this.j,b,a)};k.vm=function(a){var b=Wh(this,a);this.j.cancel(b,a);delete this.T[a.I.pointerId.toString()]};
k.um=function(a){this.j.dispatchEvent(new sh("lostpointercapture",a,a.I))};k.tm=function(a){this.j.dispatchEvent(new sh("gotpointercapture",a,a.I))};function Xh(a){Mh.call(this,a,{pointerdown:this.Km,pointermove:this.Lm,pointerup:this.Om,pointerout:this.Mm,pointerover:this.Nm,pointercancel:this.Jm,gotpointercapture:this.rl,lostpointercapture:this.em})}O(Xh,Mh);k=Xh.prototype;k.Km=function(a){Yh(this.j,a)};k.Lm=function(a){Yh(this.j,a)};k.Om=function(a){Yh(this.j,a)};k.Mm=function(a){Yh(this.j,a)};k.Nm=function(a){Yh(this.j,a)};k.Jm=function(a){Yh(this.j,a)};k.em=function(a){Yh(this.j,a)};k.rl=function(a){Yh(this.j,a)};function Zh(a,b){Mh.call(this,a,{touchstart:this.yn,touchmove:this.xn,touchend:this.wn,touchcancel:this.vn});this.T=a.T;this.mm=b;this.Ed=void 0;this.og=0;this.Zd=void 0}O(Zh,Mh);k=Zh.prototype;k.Xj=function(){this.og=0;this.Zd=void 0};
function $h(a,b,c){b=Qh(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.og;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.Ed===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function ai(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.I.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=$h(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
k.yn=function(a){var b=a.I.touches,c=Object.keys(this.T),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.T[g];var l;if(!(l=1==g))a:{l=b.length;for(var m=void 0,n=0;n<l;n++)if(m=b[n],m.identifier===g-2){l=!0;break a}l=!1}l||e.push(h.zc)}for(f=0;f<e.length;++f)this.mg(a,e[f])}b=cb(this.T);if(0===b||1===b&&(1).toString()in this.T)this.Ed=a.I.changedTouches[0].identifier,void 0!==this.Zd&&v.clearTimeout(this.Zd);bi(this,a);this.og++;ai(this,a,this.Gm)};
k.Gm=function(a,b){this.T[b.pointerId]={target:b.target,zc:b,Gj:b.target};var c=this.j;b.bubbles=!0;c.fireEvent(ci,b,a);c=this.j;b.bubbles=!1;c.fireEvent(di,b,a);this.j.fireEvent(Rh,b,a)};k.xn=function(a){a.preventDefault();ai(this,a,this.sm)};
k.sm=function(a,b){var c=this.T[b.pointerId];if(c){var d=c.zc,e=c.Gj;this.j.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Uh(this.j,d,a),Th(this.j,b,a)):(b.target=e,b.relatedTarget=null,this.mg(a,b)));c.zc=b;c.Gj=b.target}};k.wn=function(a){bi(this,a);ai(this,a,this.Fn)};
k.Fn=function(a,b){this.j.fireEvent(Sh,b,a);this.j.zc(b,a);var c=this.j;b.bubbles=!1;c.fireEvent(ei,b,a);delete this.T[b.pointerId];b.isPrimary&&(this.Ed=void 0,this.Zd=v.setTimeout(L(this.Xj,this),200))};k.vn=function(a){ai(this,a,this.mg)};k.mg=function(a,b){this.j.cancel(b,a);this.j.zc(b,a);var c=this.j;b.bubbles=!1;c.fireEvent(ei,b,a);delete this.T[b.pointerId];b.isPrimary&&(this.Ed=void 0,this.Zd=v.setTimeout(L(this.Xj,this),200))};
function bi(a,b){var c=a.mm.jj,d=b.I.changedTouches[0];if(a.Ed===d.identifier){var e=[d.clientX,d.clientY];c.push(e);v.setTimeout(function(){Na(c,e)},2500)}};function fi(a){Y.call(this);this.a=a;this.T={};this.Gi={};this.Dd=[];Hh?gi(this,new Xh(this)):Ih?gi(this,new Vh(this)):(a=new Nh(this),gi(this,a),Gh&&gi(this,new Zh(this,a)));a=this.Dd.length;for(var b,c=0;c<a;c++)b=this.Dd[c],hi(this,Object.keys(b.df))}O(fi,Y);function gi(a,b){var c=Object.keys(b.df);c&&(c.forEach(function(a){var c=b.df[a];c&&(this.Gi[a]=L(c,b))},a),a.Dd.push(b))}k=fi.prototype;k.Fi=function(a){var b=this.Gi[a.type];b&&b(a)};
function hi(a,b){b.forEach(function(a){W(this.a,a,this.Fi,!1,this)},a)}function ii(a,b){b.forEach(function(a){Pc(this.a,a,this.Fi,!1,this)},a)}function Qh(a,b){for(var c={},d,e=0,f=ji.length;e<f;e++)d=ji[e][0],c[d]=a[d]||b[d]||ji[e][1];return c}k.move=function(a,b){this.fireEvent(ki,a,b)};k.zc=function(a,b){a.bubbles=!0;this.fireEvent(li,a,b)};k.cancel=function(a,b){this.fireEvent(mi,a,b)};function Uh(a,b,c){a.zc(b,c);var d=b.relatedTarget;d&&Zb(b.target,d)||(b.bubbles=!1,a.fireEvent(ei,b,c))}
function Th(a,b,c){b.bubbles=!0;a.fireEvent(ci,b,c);var d=b.relatedTarget;d&&Zb(b.target,d)||(b.bubbles=!1,a.fireEvent(di,b,c))}k.fireEvent=function(a,b,c){this.dispatchEvent(new sh(a,c,b))};function Yh(a,b){a.dispatchEvent(new sh(b.type,b,b.I))}k.b=function(){for(var a=this.Dd.length,b,c=0;c<a;c++)b=this.Dd[c],ii(this,Object.keys(b.df));fi.h.b.call(this)};
var ki="pointermove",Rh="pointerdown",Sh="pointerup",ci="pointerover",li="pointerout",di="pointerenter",ei="pointerleave",mi="pointercancel",ji=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function ni(a,b,c,d,e){rh.call(this,a,b,e);this.ha=c;this.originalEvent=c.I;c=b.W;a=ig(this.originalEvent);c=ig(c);a=new T(a.x-c.x,a.y-c.y);this.pixel=[a.x,a.y];this.coordinate=b.Fd(this.pixel);this.dragging=void 0!==d?d:!1}O(ni,rh);ni.prototype.preventDefault=function(){ni.h.preventDefault.call(this);this.ha.preventDefault()};ni.prototype.stopPropagation=function(){ni.h.stopPropagation.call(this);this.ha.stopPropagation()};function oi(a,b,c,d,e){ni.call(this,a,b,c.ha,d,e);this.Ij=c}O(oi,ni);
function pi(a){Y.call(this);this.c=a;this.xd=0;this.xe=!1;this.Fb=this.pf=this.jc=null;a=this.c.W;this.bi=0;this.Lh={};this.gd=new fi(a);this.Eb=null;this.pf=W(this.gd,Rh,this.Hl,!1,this);this.ph=W(this.gd,ki,this.Vm,!1,this)}O(pi,Y);function qi(a,b){var c;c=new oi(ri,a.c,b);a.dispatchEvent(c);0!==a.xd?(v.clearTimeout(a.xd),a.xd=0,c=new oi(si,a.c,b),a.dispatchEvent(c)):a.xd=v.setTimeout(L(function(){this.xd=0;var a=new oi(ti,this.c,b);this.dispatchEvent(a)},a),250)}
function ui(a,b){b.type==vi||b.type==wi?delete a.Lh[b.pointerId]:b.type==xi&&(a.Lh[b.pointerId]=!0);a.bi=cb(a.Lh)}k=pi.prototype;k.Qi=function(a){ui(this,a);var b=new oi(vi,this.c,a);this.dispatchEvent(b);!this.xe&&0===a.button&&qi(this,this.Fb);0===this.bi&&(this.jc.forEach(X),this.jc=null,this.xe=!1,this.Fb=null,nc(this.Eb),this.Eb=null)};
k.Hl=function(a){ui(this,a);var b=new oi(xi,this.c,a);this.dispatchEvent(b);this.Fb=a;this.jc||(this.Eb=new fi(document),this.jc=[W(this.Eb,yi,this.Il,!1,this),W(this.Eb,vi,this.Qi,!1,this),W(this.gd,wi,this.Qi,!1,this)])};k.Il=function(a){if(a.clientX!=this.Fb.clientX||a.clientY!=this.Fb.clientY){this.xe=!0;var b=new oi(zi,this.c,a,this.xe);this.dispatchEvent(b)}a.preventDefault()};k.Vm=function(a){this.dispatchEvent(new oi(a.type,this.c,a,!(!this.Fb||a.clientX==this.Fb.clientX&&a.clientY==this.Fb.clientY)))};
k.b=function(){this.ph&&(X(this.ph),this.ph=null);this.pf&&(X(this.pf),this.pf=null);this.jc&&(this.jc.forEach(X),this.jc=null);this.Eb&&(nc(this.Eb),this.Eb=null);this.gd&&(nc(this.gd),this.gd=null);pi.h.b.call(this)};var ti="singleclick",ri="click",si="dblclick",zi="pointerdrag",yi="pointermove",xi="pointerdown",vi="pointerup",wi="pointercancel",Ai={bo:ti,Qn:ri,Rn:si,Vn:zi,Yn:yi,Un:xi,ao:vi,$n:"pointerover",Zn:"pointerout",Wn:"pointerenter",Xn:"pointerleave",Tn:wi};function Bi(a,b){if(y(a))return a;void 0===b?b=[a,a]:(b[0]=a,b[1]=a);return b};function Ci(a){for(var b=Di(),c=0,d=a.length;c<d;++c)Ei(b,a[c]);return b}function Fi(a,b){var c=Math.min.apply(null,a),d=Math.min.apply(null,b),e=Math.max.apply(null,a),f=Math.max.apply(null,b);return Gi(c,d,e,f,void 0)}function Di(){return[Infinity,Infinity,-Infinity,-Infinity]}function Gi(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}
function Hi(a,b,c,d){d=Gi(Infinity,Infinity,-Infinity,-Infinity,d);for(var e=0;e<b;e+=c){var f=d,g=a[e],h=a[e+1];f[0]=Math.min(f[0],g);f[1]=Math.min(f[1],h);f[2]=Math.max(f[2],g);f[3]=Math.max(f[3],h)}return d}function Ei(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])}function Ii(a){var b=0;a[2]<a[0]||a[3]<a[1]||(b=Ji(a)*Ki(a));return b}function Li(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}
function Mi(a,b,c,d){var e=b*d[0]/2;d=b*d[1]/2;b=Math.cos(c);c=Math.sin(c);e=[-e,-e,e,e];d=[-d,d,-d,d];var f,g,h;for(f=0;4>f;++f)g=e[f],h=d[f],e[f]=a[0]+g*b-h*c,d[f]=a[1]+g*c+h*b;return Fi(e,d)}function Ki(a){return a[3]-a[1]}function Ni(a,b){var c=Di();Oi(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}function Pi(a){return[a[0],a[3]]}function Ji(a){return a[2]-a[0]}
function Oi(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function Qi(a,b){var c=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]];b(c,c,2);return Fi([c[0],c[2],c[4],c[6]],[c[1],c[3],c[5],c[7]])};function Ri(a,b,c){return Math.min(Math.max(a,b),c)}var Si="cosh"in Math?Math.cosh:function(a){a=Math.exp(a);return(a+1/a)/2};function Ti(a,b,c,d){this.u=a;this.L=b;this.D=c;this.H=d}k=Ti.prototype;k.contains=function(a){return this.zd(a[1],a[2])};function Ui(a,b){return a.u<=b.u&&b.L<=a.L&&a.D<=b.D&&b.H<=a.H}k.zd=function(a,b){return this.u<=a&&a<=this.L&&this.D<=b&&b<=this.H};k.equals=function(a){return this.u==a.u&&this.D==a.D&&this.L==a.L&&this.H==a.H};k.extend=function(a){a.u<this.u&&(this.u=a.u);a.L>this.L&&(this.L=a.L);a.D<this.D&&(this.D=a.D);a.H>this.H&&(this.H=a.H)};k.Sc=function(){return this.H-this.D+1};
k.sa=function(){return[this.Jb(),this.Sc()]};k.Jb=function(){return this.L-this.u+1};k.intersects=function(a){return this.u<=a.L&&this.L>=a.u&&this.D<=a.H&&this.H>=a.D};function Vi(a){this.Wi=a.html;this.Kf=a.tileRanges?a.tileRanges:null};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licensed under CC-BY-3.0.
*/
function Wi(a){this.radius=a}function Xi(a,b){var c=a[1]*Math.PI/180,d=b[1]*Math.PI/180,e=(d-c)/2,f=(b[0]-a[0])*Math.PI/180/2,c=Math.sin(e)*Math.sin(e)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(d);return 2*Yi.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}
Wi.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var Yi=new Wi(6370997);var Zi={};Zi.degrees=2*Math.PI*Yi.radius/360;Zi.ft=.3048;Zi.m=1;Zi["us-ft"]=1200/3937;
function $i(a){this.gc=a.code;this.Va=a.units;this.U=void 0!==a.extent?a.extent:null;this.Jd=void 0!==a.global?a.global:!1;this.se=!(!this.Jd||!this.U);this.ml=void 0!==a.getPointResolution?a.getPointResolution:this.nl;this.xi=null;var b=aj,c=a.code,d=bj||v.proj4;if("function"==typeof d&&void 0===b[c]){var e=d.defs(c);if(void 0!==e){void 0===a.units&&(a=e.units,void 0===e.to_meter||void 0!==a&&void 0!==Zi[a]||(a=e.to_meter.toString(),Zi[a]=e.to_meter),this.Va=a);var f,g;for(f in b)if(b=d.defs(f),
void 0!==b)if(a=cj(f),b===e)dj([a,this]);else{g=d(f,c);b=g.forward;g=g.inverse;a=cj(a);var h=cj(this);ej(a,h,fj(b));ej(h,a,fj(g))}}}}$i.prototype.w=function(){return this.U};$i.prototype.bk=function(a){this.U=a;this.se=!(!this.Jd||!a)};$i.prototype.nl=function(a,b){if("degrees"==this.Va)return a;var c=gj(this,cj("EPSG:4326")),d=[b[0]-a/2,b[1],b[0]+a/2,b[1],b[0],b[1]-a/2,b[0],b[1]+a/2],d=c(d,d,2),c=(Xi(d.slice(0,2),d.slice(2,4))+Xi(d.slice(4,6),d.slice(6,8)))/2,d=Zi[this.Va];void 0!==d&&(c/=d);return c};
$i.prototype.getPointResolution=function(a,b){return this.ml(a,b)};var aj={},hj={},bj=null;function dj(a){ij(a);a.forEach(function(b){a.forEach(function(a){b!==a&&ej(b,a,jj)})})}function kj(a){aj[a.gc]=a;ej(a,a,jj)}function ij(a){var b=[];a.forEach(function(a){b.push(kj(a))})}function lj(a){return a?B(a)?cj(a):a:cj("EPSG:3857")}function ej(a,b,c){a=a.gc;b=b.gc;a in hj||(hj[a]={});hj[a][b]=c}
function fj(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2;c=void 0!==c?c:Array(e);var f,g;for(g=0;g<e;g+=d)for(f=a([b[g],b[g+1]]),c[g]=f[0],c[g+1]=f[1],f=d-1;2<=f;--f)c[g+f]=b[g+f];return c}}function cj(a){var b;if(a instanceof $i)b=a;else if(B(a)){b=aj[a];var c=bj||v.proj4;void 0===b&&"function"==typeof c&&void 0!==c.defs(a)&&(b=new $i({code:a}),kj(b))}else b=null;return b}function mj(a,b){if(a===b)return!0;var c=a.Va===b.Va;return a.gc===b.gc?c:gj(a,b)===jj&&c}
function nj(a,b){var c=cj(a),d=cj(b);return gj(c,d)}function gj(a,b){var c=a.gc,d=b.gc,e;c in hj&&d in hj[c]&&(e=hj[c][d]);void 0===e&&(e=oj);return e}function oj(a,b){if(void 0!==b&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function jj(a,b){var c;if(void 0!==b){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c}function pj(a,b,c){return nj(b,c)(a,void 0,a.length)}function qj(a,b){var c=nj("EPSG:4326",b);return Qi(a,c)};function rj(a){hh.call(this);this.oh=cj(a.projection);this.ig=void 0!==a.attributions?a.attributions:null;this.cm=a.logo;this.B=void 0!==a.state?a.state:"ready";this.Pn=void 0!==a.wrapX?a.wrapX:!1}O(rj,hh);rj.prototype.getProjection=function(){return this.oh};rj.prototype.G=function(){return this.B};function sj(a){hh.call(this);var b=ib(a);b.opacity=void 0!==a.opacity?a.opacity:1;b.visible=void 0!==a.visible?a.visible:!0;b.zIndex=void 0!==a.zIndex?a.zIndex:0;b.maxResolution=void 0!==a.maxResolution?a.maxResolution:Infinity;b.minResolution=void 0!==a.minResolution?a.minResolution:0;this.be(b)}O(sj,hh);
function tj(a){var b=a.getOpacity(),c=a.Li(),d=a.getVisible(),e=a.w(),f=a.getZIndex(),g=a.get("maxResolution"),h=a.get("minResolution");return{layer:a,opacity:Ri(b,0,1),zh:c,visible:d,fm:!0,extent:e,zIndex:f,maxResolution:g,minResolution:Math.max(h,0)}}k=sj.prototype;k.w=function(){return this.get("extent")};k.getOpacity=function(){return this.get("opacity")};k.getVisible=function(){return this.get("visible")};k.getZIndex=function(){return this.get("zIndex")};k.bk=function(a){this.set("extent",a)};
k.setOpacity=function(a){this.set("opacity",a)};k.setVisible=function(a){this.set("visible",a)};k.setZIndex=function(a){this.set("zIndex",a)};function uj(){};function vj(a,b,c,d,e,f){V.call(this,a,b);this.vectorContext=c;this.frameState=d;this.context=e;this.glContext=f}O(vj,V);function wj(a){var b=ib(a);delete b.source;sj.call(this,b);this.Cf=this.gh=this.fh=null;a.map&&this.setMap(a.map);W(this,jh("source"),this.Nl,!1,this);this.set("source",a.source?a.source:null)}O(wj,sj);k=wj.prototype;k.Eg=function(a){a=a?a:[];a.push(tj(this));return a};k.Ib=function(){return this.get("source")||null};k.Li=function(){var a=this.Ib();return a?a.G():"undefined"};k.Ml=function(){this.changed()};
k.Nl=function(){this.Cf&&(X(this.Cf),this.Cf=null);var a=this.Ib();a&&(this.Cf=W(a,"change",this.Ml,!1,this));this.changed()};k.setMap=function(a){X(this.fh);this.fh=null;a||this.changed();X(this.gh);this.gh=null;a&&(this.fh=W(a,"precompose",function(a){var c=tj(this);c.fm=!1;c.zIndex=Infinity;a.frameState.layerStatesArray.push(c);a.frameState.layerStates[H(this)]=c},!1,this),this.gh=W(this,"change",a.render,!1,a),this.changed())};function xj(a,b){Y.call(this);this.v=a;this.state=b;this.V=null;this.key=""}O(xj,Y);xj.prototype.changed=function(){this.dispatchEvent("change")};xj.prototype.getKey=function(){return H(this).toString()};xj.prototype.G=function(){return this.state};function yj(){this.s=0;this.Oc={};this.Ea=this.ua=null}k=yj.prototype;k.clear=function(){this.s=0;this.Oc={};this.Ea=this.ua=null};k.ia=function(a){return this.Oc.hasOwnProperty(a)};k.forEach=function(a,b){for(var c=this.ua;c;)a.call(b,c.Zb,c.Ve,this),c=c.Oa};k.get=function(a){a=this.Oc[a];if(a===this.Ea)return a.Zb;a===this.ua?(this.ua=this.ua.Oa,this.ua.Qb=null):(a.Oa.Qb=a.Qb,a.Qb.Oa=a.Oa);a.Oa=null;a.Qb=this.Ea;this.Ea=this.Ea.Oa=a;return a.Zb};k.Gb=function(){return this.s};
k.La=function(){var a=Array(this.s),b=0,c;for(c=this.Ea;c;c=c.Qb)a[b++]=c.Ve;return a};k.Ca=function(){var a=Array(this.s),b=0,c;for(c=this.Ea;c;c=c.Qb)a[b++]=c.Zb;return a};k.pop=function(){var a=this.ua;delete this.Oc[a.Ve];a.Oa&&(a.Oa.Qb=null);this.ua=a.Oa;this.ua||(this.Ea=null);--this.s;return a.Zb};k.replace=function(a,b){this.get(a);this.Oc[a].Zb=b};k.set=function(a,b){var c={Ve:a,Oa:null,Qb:this.Ea,Zb:b};this.Ea?this.Ea.Oa=c:this.ua=c;this.Ea=c;this.Oc[a]=c;++this.s};function zj(a){yj.call(this);this.Tl=void 0!==a?a:2048}O(zj,yj);zj.prototype.ec=function(){return this.Gb()>this.Tl};zj.prototype.Pc=function(a){for(var b,c;this.ec()&&!(b=this.ua.Zb,c=b.v[0].toString(),c in a&&a[c].contains(b.v));)this.pop().mb()};function Aj(a,b){return a>b?1:a<b?-1:0}function Bj(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function Cj(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0;this.xf=a.resolutions;this.maxZoom=this.xf.length-1;this.Pa=void 0!==a.origin?a.origin:null;this.lh=null;void 0!==a.origins&&(this.lh=a.origins);var b=a.extent;void 0===b||this.Pa||this.lh||(this.Pa=Pi(b));this.Jh=null;void 0!==a.tileSizes&&(this.Jh=a.tileSizes);this.lk=void 0!==a.tileSize?a.tileSize:this.Jh?null:256;this.U=void 0!==b?b:null;this.Rc=null;void 0!==a.sizes?this.Rc=a.sizes.map(function(a){return new Ti(Math.min(0,a[0]),Math.max(a[0]-
1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&Dj(this,b);this.zb=[0,0]}var Ej=[0,0,0];function Fj(a,b,c,d,e){e=Gj(a,b,e);for(b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,Hj(a,e,b,d)))return!0;--b}return!1}Cj.prototype.w=function(){return this.U};Cj.prototype.Hb=function(a){return this.Pa?this.Pa:this.lh[a]};Cj.prototype.A=function(a){return this.xf[a]};function Ij(a,b,c,d){return b[0]<a.maxZoom?(d=Gj(a,b,d),Hj(a,d,b[0]+1,c)):null}
function Jj(a,b,c,d){Kj(a,b[0],b[1],c,!1,Ej);var e=Ej[1],f=Ej[2];Kj(a,b[2],b[3],c,!0,Ej);a=Ej[1];b=Ej[2];void 0!==d?(d.u=e,d.L=a,d.D=f,d.H=b):d=new Ti(e,a,f,b);return d}function Hj(a,b,c,d){c=a.A(c);return Jj(a,b,c,d)}function Lj(a,b){var c=a.Hb(b[0]),d=a.A(b[0]),e=Bi(Mj(a,b[0]),a.zb);return[c[0]+(b[1]+.5)*e[0]*d,c[1]+(b[2]+.5)*e[1]*d]}function Gj(a,b,c){var d=a.Hb(b[0]),e=a.A(b[0]);a=Bi(Mj(a,b[0]),a.zb);var f=d[0]+b[1]*a[0]*e;b=d[1]+b[2]*a[1]*e;return Gi(f,b,f+a[0]*e,b+a[1]*e,c)}
function Kj(a,b,c,d,e,f){var g=Nj(a,d),h=d/a.A(g),l=a.Hb(g);a=Bi(Mj(a,g),a.zb);b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0];c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1];e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));e=b;void 0!==f?(f[0]=g,f[1]=e,f[2]=c):f=[g,e,c];return f}function Oj(a,b,c){c=a.A(c);return Kj(a,b[0],b[1],c,!1,void 0)}function Mj(a,b){return a.lk?a.lk:a.Jh[b]}function Nj(a,b){var c=Bj(a.xf,b,0);return Ri(c,a.minZoom,a.maxZoom)}
function Dj(a,b){for(var c=a.xf.length,d=Array(c),e=a.minZoom;e<c;++e)d[e]=Hj(a,b,e);a.Rc=d}function Pj(a){var b=a.xi;if(!b){var b=Qj(a),c=Rj(b,void 0,void 0),b=new Cj({extent:b,origin:Pi(b),resolutions:c,tileSize:void 0});a.xi=b}return b}function Sj(a){var b={};kb(b,void 0!==a?a:{});void 0===b.extent&&(b.extent=cj("EPSG:3857").w());b.resolutions=Rj(b.extent,b.maxZoom,b.tileSize);delete b.maxZoom;return new Cj(b)}
function Rj(a,b,c){b=void 0!==b?b:42;var d=Ki(a);a=Ji(a);c=Bi(void 0!==c?c:256);c=Math.max(a/c[0],d/c[1]);b+=1;d=Array(b);for(a=0;a<b;++a)d[a]=c/Math.pow(2,a);return d}function Qj(a){a=cj(a);var b=a.w();b||(a=180*Zi.degrees/Zi[a.Va],b=Gi(-a,-a,a,a));return b};function Tj(a){rj.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX});this.Fm=void 0!==a.opaque?a.opaque:!1;this.jk=void 0!==a.tilePixelRatio?a.tilePixelRatio:1;this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;this.wa=new zj(a.fi);this.nk=[0,0]}O(Tj,rj);k=Tj.prototype;k.ec=function(){return this.wa.ec()};k.Pc=function(a,b){var c=this.Id(a);c&&c.Pc(b)};
function Uj(a,b,c,d,e){b=a.Id(b);if(!b)return!1;for(var f=!0,g,h,l=d.u;l<=d.L;++l)for(var m=d.D;m<=d.H;++m)g=a.Fe(c,l,m),h=!1,b.ia(g)&&(g=b.get(g),(h=2===g.G())&&(h=!1!==e(g))),h||(f=!1);return f}k.Fe=function(a,b,c){return a+"/"+b+"/"+c};k.pb=function(a){return this.tileGrid?this.tileGrid:Pj(a)};k.Id=function(a){var b=this.getProjection();return b&&!mj(b,a)?null:this.wa};
function Vj(a,b,c){var d=a.pb(c);c=a.jk;b=Bi(Mj(d,b),a.nk);1==c?a=b:(a=a.nk,void 0===a&&(a=[0,0]),a[0]=b[0]*c+.5|0,a[1]=b[1]*c+.5|0);return a}function Wj(a,b,c){var d=void 0!==c?c:a.getProjection();c=a.pb(d);if(a.Pn&&d.Jd){var e=b;b=e[0];a=Lj(c,e);var d=Qj(d),f=a[0],g=a[1];d[0]<=f&&f<=d[2]&&d[1]<=g&&g<=d[3]?b=e:(e=Ji(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=Oj(c,a,b))}d=b[0];a=b[1];e=b[2];c=c.minZoom>d||d>c.maxZoom?!1:(c=(f=c.w())?Hj(c,f,d):c.Rc?c.Rc[d]:null)?c.zd(a,e):!0;return c?b:null}k.uk=nh;
function Xj(a,b){V.call(this,a);this.tile=b}O(Xj,V);function Yj(a,b,c,d,e,f,g,h){$g(a);0===b&&0===c||ah(a,b,c);1==d&&1==e||bh(a,d,e);0!==f&&ch(a,f);0===g&&0===h||ah(a,g,h);return a}function Zj(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function ak(a){eh.call(this);this.vc=a}O(ak,eh);ak.prototype.we=function(a,b,c){return function(d,e){return Uj(a,b,d,e,function(a){c[d]||(c[d]={});c[d][a.v.toString()]=a})}};function bk(a,b){b.ec()&&a.postRenderFunctions.push(oa(function(a,b,e){b=H(a).toString();a.Pc(e.viewState.projection,e.usedTiles[b])},b))}function ck(a,b){var c=b.cm;void 0!==c&&(B(c)?a.logos[c]="":ja(c)&&(a.logos[c.src]=c.href))}
function dk(a,b,c,d){b=H(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}function ek(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function fk(a,b,c,d,e,f,g,h,l,m){var n=H(b).toString();n in a.wantedTiles||(a.wantedTiles[n]={});var p=a.wantedTiles[n];a=a.tileQueue;var q=c.minZoom,t,w,u,F,r,z;for(z=g;z>=q;--z)for(w=Hj(c,f,z,w),u=c.A(z),F=w.u;F<=w.L;++F)for(r=w.D;r<=w.H;++r)g-z<=h?(t=b.getTile(z,F,r,d,e),0==t.G()&&(p[t.v.toString()]=!0,t.getKey()in a.ld||a.enqueue([t,n,Lj(c,t.v),u])),void 0!==l&&l.call(m,t)):b.uk(z,F,r,e)};function gk(){this.dc={};this.qe=0;this.im=32}ea(gk);gk.prototype.clear=function(){this.dc={};this.qe=0};gk.prototype.get=function(a,b){var c=b+":"+a;return c in this.dc?this.dc[c]:null};gk.prototype.set=function(a,b,c){this.dc[b+":"+a]=c;++this.qe};function hk(a,b){jc.call(this);this.c=b;this.Na={};this.$g={}}O(hk,jc);
function ik(a){var b=a.viewState,c=a.coordinateToPixelMatrix;Yj(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);a=a.pixelToCoordinateMatrix;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],l=c[6],m=c[7],n=c[8],p=c[9],q=c[10],t=c[11],w=c[12],u=c[13],F=c[14],c=c[15],r=b*h-d*g,z=b*l-e*g,D=b*m-f*g,C=d*l-e*h,x=d*m-f*h,I=e*m-f*l,J=n*u-p*w,G=n*F-q*w,A=n*c-t*w,K=p*F-q*u,N=p*c-t*u,E=q*c-t*F,M=r*E-z*N+D*K+C*A-x*G+I*J;0!=M&&(M=1/M,a[0]=(h*E-l*N+m*K)*M,a[1]=(-d*E+
e*N-f*K)*M,a[2]=(u*I-F*x+c*C)*M,a[3]=(-p*I+q*x-t*C)*M,a[4]=(-g*E+l*A-m*G)*M,a[5]=(b*E-e*A+f*G)*M,a[6]=(-w*I+F*D-c*z)*M,a[7]=(n*I-q*D+t*z)*M,a[8]=(g*N-h*A+m*J)*M,a[9]=(-b*N+d*A-f*J)*M,a[10]=(w*x-u*D+c*r)*M,a[11]=(-n*x+p*D-t*r)*M,a[12]=(-g*K+h*G-l*J)*M,a[13]=(b*K-d*G+e*J)*M,a[14]=(-w*C+u*z-F*r)*M,a[15]=(n*C-p*z+q*r)*M)}k=hk.prototype;k.b=function(){ab(this.Na,nc);hk.h.b.call(this)};
function jk(){var a=gk.ob();if(a.qe>a.im){var b=0,c,d;for(c in a.dc){d=a.dc[c];var e;if(e=0===(b++&3))yc(d)?d=d.hasListener(void 0,void 0):(d=Kc(d),d=!!d&&d.hasListener(void 0,void 0)),e=!d;e&&(delete a.dc[c],--a.qe)}}}function kk(a,b){var c=H(b).toString();if(c in a.Na)return a.Na[c];var d=a.tg(b);a.Na[c]=d;a.$g[c]=W(d,"change",a.Cl,!1,a);return d}k.getMap=function(){return this.c};k.Cl=function(){this.c.render()};k.sf=nh;
k.Xm=function(a,b){for(var c in this.Na)if(!(b&&c in b.layerStates)){var d=c,e=this.Na[d];delete this.Na[d];X(this.$g[d]);delete this.$g[d];nc(e)}};function lk(a,b){for(var c in a.Na)if(!(c in b.layerStates)){b.postRenderFunctions.push(L(a.Xm,a));break}}function Va(a,b){return a.zIndex-b.zIndex};function mk(a,b){this.Lj=a;this.Ug=b;this.$a=[];this.kd=[];this.ld={}}mk.prototype.clear=function(){this.$a.length=0;this.kd.length=0;hb(this.ld)};function nk(a){var b=a.$a,c=a.kd,d=b[0];1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),ok(a,0));b=a.Ug(d);delete a.ld[b];return d}mk.prototype.enqueue=function(a){var b=this.Lj(a);return Infinity!=b?(this.$a.push(a),this.kd.push(b),this.ld[this.Ug(a)]=!0,pk(this,0,this.$a.length-1),!0):!1};mk.prototype.Gb=function(){return this.$a.length};
mk.prototype.isEmpty=function(){return 0===this.$a.length};function ok(a,b){for(var c=a.$a,d=a.kd,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var l=2*b+1,m=2*b+2,l=m<e&&d[m]<d[l]?m:l;c[b]=c[l];d[b]=d[l];b=l}c[b]=f;d[b]=g;pk(a,h,b)}function pk(a,b,c){var d=a.$a;a=a.kd;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f}
function qk(a){var b=a.Lj,c=a.$a,d=a.kd,e=0,f=c.length,g,h,l;for(h=0;h<f;++h)g=c[h],l=b(g),Infinity==l?delete a.ld[a.Ug(g)]:(d[e]=l,c[e++]=g);c.length=e;d.length=e;for(b=(a.$a.length>>1)-1;0<=b;b--)ok(a,b)};function rk(a,b){mk.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.sn=b;this.Lf=0;this.Kh={}}O(rk,mk);rk.prototype.enqueue=function(a){var b=rk.h.enqueue.call(this,a);b&&W(a[0],"change",this.Je,!1,this);return b};rk.prototype.Je=function(a){a=a.target;var b=a.G();if(2===b||3===b||4===b)Pc(a,"change",this.Je,!1,this),a=a.getKey(),a in this.Kh&&(delete this.Kh[a],--this.Lf),this.sn()};function sk(a){return function(b){if(b)return[Ri(b[0],a[0],a[2]),Ri(b[1],a[1],a[3])]}}function tk(a){return a};function uk(a){return function(b,c,d){if(void 0!==b)return b=Bj(a,b,d),b=Ri(b+c,0,a.length-1),a[b]}}function vk(a,b,c){return function(d,e,f){if(void 0!==d)return d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(0<f?0:0>f?1:.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)}};function wk(a){if(void 0!==a)return 0}function xk(a,b){if(void 0!==a)return a+b}function yk(a){var b=2*Math.PI/a;return function(a,d){if(void 0!==a)return a=Math.floor((a+d)/b+.5)*b}}function zk(){var a=5*Math.PI/180;return function(b,c){if(void 0!==b)return Math.abs(b+c)<=a?0:b+c}};function Ak(a,b,c){this.center=a;this.resolution=b;this.rotation=c};function Bk(){hh.call(this);this.U=Di();this.Hi=-1}O(Bk,hh);Bk.prototype.zd=bd;Bk.prototype.w=function(a){this.Hi!=this.Qa&&(this.U=Hi(this.qa,this.qa.length,this.Ta,this.U),this.Hi=this.Qa);var b=this.U;a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};Bk.prototype.transform=function(a,b){var c=nj(a,b);this.qa&&(c(this.qa,this.qa,this.Ta),this.changed());return this};function Ck(a,b,c,d,e,f){var g=e[0],h=e[1],l=e[4],m=e[5],n=e[12];e=e[13];for(var p=f?f:[],q=0;b<c;b+=d){var t=a[b],w=a[b+1];p[q++]=g*t+l*w+n;p[q++]=h*t+m*w+e}f&&p.length!=q&&(p.length=q);return p};function Dk(){Bk.call(this);this.$e="XY";this.Ta=2;this.qa=null}O(Dk,Bk);function Ek(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}Dk.prototype.zd=bd;Dk.prototype.ab=function(){return this.qa};Dk.prototype.Ba=function(){return this.Ta};Dk.prototype.translate=function(a,b){var c=this.ab();if(c){var d=c.length,e=this.Ba(),f=c?c:[],g=0,h,l;for(h=0;h<d;h+=e)for(f[g++]=c[h]+a,f[g++]=c[h+1]+b,l=h+2;l<h+e;++l)f[g++]=c[l];c&&f.length!=g&&(f.length=g);this.changed()}};function Fk(a,b,c,d,e,f){for(var g=!1,h=a[c-d],l=a[c-d+1];b<c;b+=d){var m=a[b],n=a[b+1];l>f!=n>f&&e<(m-h)*(f-l)/(n-l)+h&&(g=!g);h=m;l=n}return g}function Gk(a,b,c,d,e){if(0===b.length||!Fk(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(Fk(a,b[f-1],b[f],c,d,e))return!1;return!0};function Hk(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],l=a[b+1],e=e+(h-f)*(l+g),f=h,g=l;return 0<e};function Ik(a,b){Dk.call(this);this.Ka=[];this.Ii=-1;this.Ji=null;this.Fj=-1;this.Td=null;Jk(this,a,b)}O(Ik,Dk);Ik.prototype.clone=function(){var a=new Ik(null);Kk(a,this.$e,this.qa.slice(),this.Ka.slice());return a};Ik.prototype.zd=function(a,b){return Gk(this.Hd(),this.Ka,this.Ta,a,b)};
Ik.prototype.Hd=function(){if(this.Fj!=this.Qa){var a=this.qa,b;a:{b=this.Ka;var c=0,d,e;d=0;for(e=b.length;d<e;++d){var f=b[d],c=Hk(a,c,f,this.Ta);if(0===d){if(!c){b=!1;break a}}else if(c){b=!1;break a}c=f}b=!0}if(b)this.Td=a;else{b=a=this.Td=a.slice();d=this.Ka;e=this.Ta;for(var g=0,f=0,c=d.length;f<c;++f){var h=d[f],l=Hk(b,g,h,e);if(0===f?!l:l)for(var l=b,m=h,n=e;g<m-n;){var p;for(p=0;p<n;++p){var q=l[g+p];l[g+p]=l[m-n+p];l[m-n+p]=q}g+=n;m-=n}g=h}a.length=g}this.Fj=this.Qa}return this.Td};
Ik.prototype.getType=function(){return"Polygon"};
function Jk(a,b,c){if(b){a:{var d=b;if(c)d=Ek(c);else{for(c=0;2>c;++c){if(0===d.length){a.$e="XY";a.Ta=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}a.$e=c;a.Ta=d}a.qa||(a.qa=[]);c=a.qa;var d=a.Ta,e=a.Ka,f=0,e=e?e:[],g=0,h,l;h=0;for(l=b.length;h<l;++h){var m;m=c;for(var n=b[h],p=d,q=void 0,t=void 0,q=0,t=n.length;q<t;++q){var w=n[q],u;for(u=0;u<p;++u)m[f++]=w[u]}m=f;f=e[g++]=m}e.length=g;a.qa.length=0===e.length?0:e[e.length-1];a.changed()}else Kk(a,"XY",null,a.Ka)}
function Kk(a,b,c,d){a.Ta=Ek(b);a.$e=b;a.qa=c;a.Ka=d;a.changed()};function Lk(a){hh.call(this);a=a||{};this.Lg=[0,0];var b={};b.center=void 0!==a.center?a.center:null;this.oh=lj(a.projection);var c,d,e,f=void 0!==a.minZoom?a.minZoom:0;c=void 0!==a.maxZoom?a.maxZoom:28;var g=void 0!==a.zoomFactor?a.zoomFactor:2;if(void 0!==a.resolutions)c=a.resolutions,d=c[0],e=c[c.length-1],c=uk(c);else{d=lj(a.projection);e=d.w();var h=(e?Math.max(Ji(e),Ki(e)):360*Zi.degrees/Zi[d.Va])/256/Math.pow(2,0),l=h/Math.pow(2,28);d=a.maxResolution;void 0!==d?f=0:d=h/Math.pow(g,f);e=a.minResolution;
void 0===e&&(e=void 0!==a.maxZoom?void 0!==a.maxResolution?d/Math.pow(g,c):h/Math.pow(g,c):l);c=f+Math.floor(Math.log(d/e)/Math.log(g));e=d/Math.pow(g,c-f);c=vk(g,d,c-f)}this.ef=d;this.lm=e;this.hf=f;f=void 0!==a.extent?sk(a.extent):tk;(void 0!==a.enableRotation?a.enableRotation:1)?(d=a.constrainRotation,d=void 0===d||!0===d?zk():!1===d?xk:ha(d)?yk(d):xk):d=wk;this.sg=new Ak(f,c,d);void 0!==a.resolution?b.resolution=a.resolution:void 0!==a.zoom&&(b.resolution=this.constrainResolution(this.ef,a.zoom-
this.hf));b.rotation=void 0!==a.rotation?a.rotation:0;this.be(b)}O(Lk,hh);function Mk(a,b){return a.sg.center(b)}k=Lk.prototype;k.constrainResolution=function(a,b,c){return this.sg.resolution(a,b||0,c||0)};k.constrainRotation=function(a,b){return this.sg.rotation(a,b||0)};k.getCenter=function(){return this.get("center")};k.getProjection=function(){return this.oh};k.A=function(){return this.get("resolution")};function Nk(a){return a.get("rotation")}
k.G=function(){var a=this.getCenter(),b=this.getProjection(),c=this.A(),d=Nk(this);return{center:[Math.round(a[0]/c)*c,Math.round(a[1]/c)*c],projection:void 0!==b?b:null,resolution:c,rotation:d}};k.getZoom=function(){var a,b=this.A();if(void 0!==b){var c,d=0;do{c=this.constrainResolution(this.ef,d);if(c==b){a=d;break}++d}while(c>this.lm)}return void 0!==a?this.hf+a:a};
function Ok(a,b,c){if(!(b instanceof Dk)){var d=b[0],e=b[1],f=b[2],g=b[3],d=[d,e,d,g,f,g,f,e,d,e],e=new Ik(null);Kk(e,"XY",d,[d.length]);b=e}var e={},d=void 0!==e.padding?e.padding:[0,0,0,0],h=void 0!==e.constrainResolution?e.constrainResolution:!0,f=void 0!==e.nearest?e.nearest:!1,l;l=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?a.constrainResolution(a.ef,e.maxZoom-a.hf,0):0;var m=b.ab(),g=Nk(a),e=Math.cos(-g),g=Math.sin(-g),n=Infinity,p=Infinity,q=-Infinity,t=-Infinity;b=b.Ba();for(var w=
0,u=m.length;w<u;w+=b)var F=m[w]*e-m[w+1]*g,r=m[w]*g+m[w+1]*e,n=Math.min(n,F),p=Math.min(p,r),q=Math.max(q,F),t=Math.max(t,r);m=[n,p,q,t];c=[c[0]-d[1]-d[3],c[1]-d[0]-d[2]];c=Math.max(Ji(m)/c[0],Ki(m)/c[1]);c=isNaN(c)?l:Math.max(c,l);h&&(h=a.constrainResolution(c,0,0),!f&&h<c&&(h=a.constrainResolution(h,-1,0)),c=h);Pk(a,c);g=-g;f=(n+q)/2+(d[1]-d[3])/2*c;c=(p+t)/2+(d[0]-d[2])/2*c;a.setCenter([f*e-c*g,c*e+f*g])}k.Rg=function(){return!!this.getCenter()&&void 0!==this.A()};
k.rotate=function(a,b){if(void 0!==b){var c,d=this.getCenter();void 0!==d&&(c=[d[0]-b[0],d[1]-b[1]],qh(c,a-Nk(this)),ph(c,b));this.setCenter(c)}this.set("rotation",a)};k.setCenter=function(a){this.set("center",a)};function Qk(a,b){a.Lg[1]+=b}function Pk(a,b){a.set("resolution",b)}k.setZoom=function(a){a=this.constrainResolution(this.ef,a-this.hf,0);Pk(this,a)};function Rk(a){hh.call(this);this.element=a.element?a.element:null;this.c=this.N=null;this.af=[];this.render=a.render?a.render:nh;a.target&&this.nd(a.target)}O(Rk,hh);Rk.prototype.b=function(){Xb(this.element);Rk.h.b.call(this)};Rk.prototype.getMap=function(){return this.c};
Rk.prototype.setMap=function(a){this.c&&Xb(this.element);0<this.af.length&&(this.af.forEach(X),this.af.length=0);if(this.c=a)(this.N?this.N:a.kf).appendChild(this.element),this.render!==nh&&this.af.push(W(a,"postrender",this.render,!1,this)),a.render()};Rk.prototype.nd=function(a){this.N=Ib(a)};function Sk(a){a=a?a:{};this.Of=document.createElement("UL");this.bf=document.createElement("LI");this.Of.appendChild(this.bf);mg(this.bf,!1);this.Kc=void 0!==a.collapsed?a.collapsed:!0;this.ue=void 0!==a.collapsible?a.collapsible:!0;this.ue||(this.Kc=!1);var b=a.className?a.className:"ol-attribution",c=a.tipLabel?a.tipLabel:"Attributions",d=a.collapseLabel?a.collapseLabel:"\u00bb";this.pg=B(d)?U("SPAN",{},d):d;d=a.label?a.label:"i";this.Ma=B(d)?U("SPAN",{},d):d;c=U("BUTTON",{type:"button",title:c},
this.ue&&!this.Kc?this.pg:this.Ma);W(c,"click",this.qb,!1,this);b=U("DIV",b+" ol-unselectable ol-control"+(this.Kc&&this.ue?" ol-collapsed":"")+(this.ue?"":" ol-uncollapsible"),this.Of,c);Rk.call(this,{element:b,render:a.render?a.render:Tk,target:a.target});this.M=!0;this.bc={};this.Cb={};this.bm={}}O(Sk,Rk);
function Tk(a){if(a=a.frameState){var b,c,d,e,f,g,h,l,m,n,p,q=a.layerStatesArray,t=ib(a.attributions),w={},u=a.viewState.projection;c=0;for(b=q.length;c<b;c++)if(g=q[c].layer.Ib())if(n=H(g).toString(),m=g.ig)for(d=0,e=m.length;d<e;d++)if(h=m[d],l=H(h).toString(),!(l in t)){if(f=a.usedTiles[n]){var F=g.pb(u);a:{p=h;var r=u;if(p.Kf){var z=void 0,D=void 0,C=void 0,x=void 0;for(x in f)if(x in p.Kf)for(var C=f[x],I,z=0,D=p.Kf[x].length;z<D;++z){I=p.Kf[x][z];if(I.intersects(C)){p=!0;break a}var J=Hj(F,
r.w(),parseInt(x,10)),G=J.Jb();if(C.u<J.u||C.L>J.L)if(I.intersects(new Ti(Ab(C.u,G),Ab(C.L,G),C.D,C.H))||C.Jb()>G&&I.intersects(J)){p=!0;break a}}p=!1}else p=!0}}else p=!1;p?(l in w&&delete w[l],t[l]=h):w[l]=h}b=[t,w];c=b[0];b=b[1];for(var A in this.bc)A in c?(this.Cb[A]||(mg(this.bc[A],!0),this.Cb[A]=!0),delete c[A]):A in b?(this.Cb[A]&&(mg(this.bc[A],!1),delete this.Cb[A]),delete b[A]):(Xb(this.bc[A]),delete this.bc[A],delete this.Cb[A]);for(A in c)d=document.createElement("LI"),d.innerHTML=c[A].Wi,
this.Of.appendChild(d),this.bc[A]=d,this.Cb[A]=!0;for(A in b)d=document.createElement("LI"),d.innerHTML=b[A].Wi,mg(d,!1),this.Of.appendChild(d),this.bc[A]=d;A=!gb(this.Cb)||!gb(a.logos);this.M!=A&&(mg(this.element,A),this.M=A);A&&gb(this.Cb)?fc(this.element,"ol-logo-only"):hc(this.element,"ol-logo-only");var K;a=a.logos;A=this.bm;for(K in A)K in a||(Xb(A[K]),delete A[K]);for(var N in a)N in A||(K=new Image,K.src=N,c=a[N],""===c?c=K:(c=U("A",{href:c}),c.appendChild(K)),this.bf.appendChild(c),A[N]=
c);mg(this.bf,!gb(a))}else this.M&&(mg(this.element,!1),this.M=!1)}Sk.prototype.qb=function(a){a.preventDefault();a=this.element;ec(a,"ol-collapsed")?hc(a,"ol-collapsed"):fc(a,"ol-collapsed");if(this.Kc){a=this.Ma;var b=a.parentNode;b&&b.replaceChild(this.pg,a)}else a=this.pg,(b=a.parentNode)&&b.replaceChild(this.Ma,a);this.Kc=!this.Kc};function Uk(a){return 1-Math.pow(1-a,3)}function Vk(a){return 3*a*a-2*a*a*a}function Wk(a){return a};function Xk(a){var b=a.source,c=a.start?a.start:Date.now(),d=b[0],e=b[1],f=void 0!==a.duration?a.duration:1E3,g=a.easing?a.easing:Vk;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var m=1-g((b.time-c)/f),n=d-b.viewState.center[0],p=e-b.viewState.center[1];b.animate=!0;b.viewState.center[0]+=m*n;b.viewState.center[1]+=m*p;b.viewHints[0]+=1;return!0}return!1}}
function Yk(a){var b=a.rotation?a.rotation:0,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1E3,e=a.easing?a.easing:Vk,f=a.anchor?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.viewHints[0]+=1,!0;if(h.time<c+d){var l=1-e((h.time-c)/d),l=(b-h.viewState.rotation)*l;h.animate=!0;h.viewState.rotation+=l;if(f){var m=h.viewState.center;m[0]-=f[0];m[1]-=f[1];qh(m,l);ph(m,f)}h.viewHints[0]+=1;return!0}return!1}}
function Zk(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1E3,e=a.easing?a.easing:Vk;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),l=b-g.viewState.resolution;g.animate=!0;g.viewState.resolution+=h*l;g.viewHints[0]+=1;return!0}return!1}};function $k(a){a=a?a:{};var b=a.className?a.className:"ol-rotate",c=a.label?a.label:"\u21e7";this.Ma=null;B(c)?this.Ma=U("SPAN","ol-compass",c):(this.Ma=c,fc(this.Ma,"ol-compass"));c=U("BUTTON",{"class":b+"-reset",type:"button",title:a.tipLabel?a.tipLabel:"Reset rotation"},this.Ma);W(c,"click",$k.prototype.qb,!1,this);b=U("DIV",b+" ol-unselectable ol-control",c);c=a.render?a.render:al;this.hi=a.resetNorth?a.resetNorth:void 0;Rk.call(this,{element:b,render:c,target:a.target});this.R=void 0!==a.duration?
a.duration:250;this.ei=void 0!==a.autoHide?a.autoHide:!0;this.xb=void 0;this.ei&&fc(this.element,"ol-hidden")}O($k,Rk);$k.prototype.qb=function(a){a.preventDefault();if(void 0!==this.hi)this.hi();else{a=this.getMap();var b=Z(a);if(b){var c=Nk(b);void 0!==c&&(0<this.R&&(c%=2*Math.PI,c<-Math.PI&&(c+=2*Math.PI),c>Math.PI&&(c-=2*Math.PI),a.Ja(Yk({rotation:c,duration:this.R,easing:Uk}))),b.set("rotation",0))}}};
function al(a){if(a=a.frameState){a=a.viewState.rotation;if(a!=this.xb){var b="rotate("+a+"rad)";if(this.ei){var c=this.element;0===a?fc(c,"ol-hidden"):hc(c,"ol-hidden")}this.Ma.style.msTransform=b;this.Ma.style.webkitTransform=b;this.Ma.style.transform=b}this.xb=a}};function bl(a){a=a?a:{};var b=a.className?a.className:"ol-zoom",c=a.delta?a.delta:1,d=a.zoomOutLabel?a.zoomOutLabel:"\u2212",e=a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",f=U("BUTTON",{"class":b+"-in",type:"button",title:a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in"},a.zoomInLabel?a.zoomInLabel:"+");W(f,"click",oa(bl.prototype.qb,c),!1,this);d=U("BUTTON",{"class":b+"-out",type:"button",title:e},d);W(d,"click",oa(bl.prototype.qb,-c),!1,this);b=U("DIV",b+" ol-unselectable ol-control",f,d);Rk.call(this,
{element:b,target:a.target});this.R=void 0!==a.duration?a.duration:250}O(bl,Rk);bl.prototype.qb=function(a,b){b.preventDefault();var c=this.getMap(),d=Z(c);if(d){var e=d.A();e&&(0<this.R&&c.Ja(Zk({resolution:e,duration:this.R,easing:Uk})),c=d.constrainResolution(e,a),Pk(d,c))}};function cl(a,b,c){this.vg=a;this.gf=b;this.Xk=c;this.Fa=[];this.Xc=this.gg=0}cl.prototype.update=function(a,b){this.Fa.push(a,b,Date.now())};cl.prototype.end=function(){if(6>this.Fa.length)return!1;var a=Date.now()-this.Xk,b=this.Fa.length-3;if(this.Fa[b+2]<a)return!1;for(var c=b-3;0<c&&this.Fa[c+2]>a;)c-=3;var a=this.Fa[b+2]-this.Fa[c+2],d=this.Fa[b]-this.Fa[c],b=this.Fa[b+1]-this.Fa[c+1];this.gg=Math.atan2(b,d);this.Xc=Math.sqrt(d*d+b*b)/a;return this.Xc>this.gf};
cl.prototype.pan=function(a){var b=this.vg,c=this.Xc,d=this.gf-c,e=Math.log(this.gf/this.Xc)/this.vg;return Xk({source:a,duration:e,easing:function(a){return c*(Math.exp(b*a*e)-1)/d}})};function dl(a){hh.call(this);this.c=null;this.setActive(!0);this.handleEvent=a.handleEvent}O(dl,hh);dl.prototype.getMap=function(){return this.c};dl.prototype.setActive=function(a){this.set("active",a)};dl.prototype.setMap=function(a){this.c=a};function el(a,b,c,d,e){if(void 0!==c){var f=Nk(b),g=b.getCenter();void 0!==f&&g&&e&&0<e&&(a.Ja(Yk({rotation:f,duration:e,easing:Uk})),d&&a.Ja(Xk({source:g,duration:e,easing:Uk})));b.rotate(c,d)}}
function fl(a,b,c,d,e){var f=b.A();c=b.constrainResolution(f,c,0);gl(a,b,c,d,e)}function gl(a,b,c,d,e){if(c){var f=b.A(),g=b.getCenter();void 0!==f&&g&&c!==f&&e&&0<e&&(a.Ja(Zk({resolution:f,duration:e,easing:Uk})),d&&a.Ja(Xk({source:g,duration:e,easing:Uk})));if(d){var h;a=b.getCenter();e=b.A();void 0!==a&&void 0!==e&&(h=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]);b.setCenter(h)}Pk(b,c)}};function hl(a){a=a?a:{};this.Xa=a.delta?a.delta:1;dl.call(this,{handleEvent:il});this.R=void 0!==a.duration?a.duration:250}O(hl,dl);function il(a){var b=!1,c=a.ha;if(a.type==si){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.Xa:this.Xa,e=Z(b);fl(b,e,c,d,this.R);a.preventDefault();b=!0}return!b};function jl(a){a=a.ha;return a.altKey&&!a.of&&a.shiftKey}function kl(a){a=a.ha;return!a.altKey&&!a.of&&!a.shiftKey}function ll(a){a=a.ha;return!a.altKey&&!a.of&&a.shiftKey}function ml(a){a=a.ha.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function nl(a){return"mouse"==a.Ij.pointerType};function ol(a){a=a?a:{};dl.call(this,{handleEvent:a.handleEvent?a.handleEvent:pl});this.sl=a.handleDownEvent?a.handleDownEvent:bd;this.tl=a.handleDragEvent?a.handleDragEvent:nh;this.Gl=a.handleMoveEvent?a.handleMoveEvent:nh;this.Ql=a.handleUpEvent?a.handleUpEvent:bd;this.Vc=!1;this.ke={};this.ga=[]}O(ol,dl);function ql(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}
function pl(a){if(!(a instanceof oi))return!0;var b=!1,c=a.type;if(c===xi||c===zi||c===vi)c=a.Ij,a.type==vi?delete this.ke[c.pointerId]:a.type==xi?this.ke[c.pointerId]=c:c.pointerId in this.ke&&(this.ke[c.pointerId]=c),this.ga=db(this.ke);this.Vc&&(a.type==zi?this.tl(a):a.type==vi&&(this.Vc=this.Ql(a)));a.type==xi?(this.Vc=a=this.sl(a),b=this.de(a)):a.type==yi&&this.Gl(a);return!b}ol.prototype.de=dd;function rl(a){ol.call(this,{handleDownEvent:sl,handleDragEvent:tl,handleUpEvent:ul});a=a?a:{};this.sb=a.kinetic;this.bd=this.Pd=null;this.kb=a.condition?a.condition:kl;this.tj=!1}O(rl,ol);function tl(a){var b=ql(this.ga);this.sb&&this.sb.update(b[0],b[1]);if(this.bd){var c=this.bd[0]-b[0],d=b[1]-this.bd[1];a=a.map;var e=Z(a),f=e.G(),d=c=[c,d],g=f.resolution;d[0]*=g;d[1]*=g;qh(c,f.rotation);ph(c,f.center);c=Mk(e,c);a.render();e.setCenter(c)}this.bd=b}
function ul(a){a=a.map;var b=Z(a);if(0===this.ga.length){if(!this.tj&&this.sb&&this.sb.end()){var c;c=this.sb;c=(c.gf-c.Xc)/c.vg;var d=this.sb.gg,e=b.getCenter();this.Pd=this.sb.pan(e);a.Ja(this.Pd);var f;(f=a.mc)?(e=e.slice(0,2),f=Zj(f.coordinateToPixelMatrix,e,e)):f=null;c=a.Fd([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=Mk(b,c);b.setCenter(c)}Qk(b,-1);a.render();return!1}this.bd=null;return!0}
function sl(a){if(0<this.ga.length&&this.kb(a)){var b=a.map,c=Z(b);this.bd=null;this.Vc||Qk(c,1);b.render();this.Pd&&Na(b.qf,this.Pd)&&(c.setCenter(a.frameState.viewState.center),this.Pd=null);this.sb&&(a=this.sb,a.Fa.length=0,a.gg=0,a.Xc=0);this.tj=1<this.ga.length;return!0}return!1}rl.prototype.de=bd;function vl(a){a=a?a:{};ol.call(this,{handleDownEvent:wl,handleDragEvent:xl,handleUpEvent:yl});this.kb=a.condition?a.condition:jl;this.tb=void 0;this.R=void 0!==a.duration?a.duration:250}O(vl,ol);function xl(a){if(nl(a)){var b=a.map,c=b.sa();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(void 0!==this.tb){a=c-this.tb;var d=Z(b),e=Nk(d);b.render();el(b,d,e-a)}this.tb=c}}
function yl(a){if(!nl(a))return!0;a=a.map;var b=Z(a);Qk(b,-1);var c=Nk(b),d=this.R,c=b.constrainRotation(c,0);el(a,b,c,void 0,d);return!1}function wl(a){return nl(a)&&wc(a.ha)&&this.kb(a)?(a=a.map,Qk(Z(a),1),a.render(),this.tb=void 0,!0):!1}vl.prototype.de=bd;function zl(a){this.De=null;this.a=document.createElement("div");this.a.style.position="absolute";this.a.className="ol-box "+a;this.ye=this.Sa=this.c=null}O(zl,jc);zl.prototype.b=function(){this.setMap(null);zl.h.b.call(this)};function Al(a){var b=a.Sa,c=a.ye;a=a.a.style;a.left=Math.min(b[0],c[0])+"px";a.top=Math.min(b[1],c[1])+"px";a.width=Math.abs(c[0]-b[0])+"px";a.height=Math.abs(c[1]-b[1])+"px"}
zl.prototype.setMap=function(a){if(this.c){this.c.lf.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit"}(this.c=a)&&this.c.lf.appendChild(this.a)};function Bl(a){var b=a.Sa,c=a.ye,b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.c.Fd,a.c);b[4]=b[0].slice();a.De?Jk(a.De,[b]):a.De=new Ik([b])}zl.prototype.getGeometry=function(){return this.De};function Cl(a,b){V.call(this,a);this.coordinate=b}O(Cl,V);function Dl(a){ol.call(this,{handleDownEvent:El,handleDragEvent:Fl,handleUpEvent:Gl});a=a?a:{};this.td=new zl(a.className||"ol-dragbox");this.Sa=null;this.kb=a.condition?a.condition:cd}O(Dl,ol);function Fl(a){if(nl(a)){var b=this.td;a=a.pixel;b.Sa=this.Sa;b.ye=a;Bl(b);Al(b)}}Dl.prototype.getGeometry=function(){return this.td.getGeometry()};Dl.prototype.uj=nh;
function Gl(a){if(!nl(a))return!0;this.td.setMap(null);var b=a.pixel[0]-this.Sa[0],c=a.pixel[1]-this.Sa[1];64<=b*b+c*c&&(this.uj(a),this.dispatchEvent(new Cl("boxend",a.coordinate)));return!1}function El(a){if(nl(a)&&wc(a.ha)&&this.kb(a)){this.Sa=a.pixel;this.td.setMap(a.map);var b=this.td,c=this.Sa;b.Sa=this.Sa;b.ye=c;Bl(b);Al(b);this.dispatchEvent(new Cl("boxstart",a.coordinate));return!0}return!1};function Hl(a){a=a?a:{};var b=a.condition?a.condition:ll;this.R=void 0!==a.duration?a.duration:200;Dl.call(this,{condition:b,className:a.className||"ol-dragzoom"})}O(Hl,Dl);Hl.prototype.uj=function(){var a=this.getMap(),b=Z(a),c=a.sa(),d=this.getGeometry().w(),c=b.constrainResolution(Math.max(Ji(d)/c[0],Ki(d)/c[1])),e=b.A(),f=b.getCenter();a.Ja(Zk({resolution:e,duration:this.R,easing:Uk}));a.Ja(Xk({source:f,duration:this.R,easing:Uk}));b.setCenter(Li(d));Pk(b,c)};function Il(a){dl.call(this,{handleEvent:Jl});a=a||{};this.kb=void 0!==a.condition?a.condition:gd(kl,ml);this.R=void 0!==a.duration?a.duration:100;this.Hm=void 0!==a.pixelDelta?a.pixelDelta:128}O(Il,dl);
function Jl(a){var b=!1;if("key"==a.type){var c=a.ha.keyCode;if(this.kb(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=Z(d),e=b.A()*this.Hm,f=0,g=0;40==c?g=-e:37==c?f=-e:39==c?f=e:g=e;c=[f,g];qh(c,Nk(b));e=this.R;if(f=b.getCenter())e&&0<e&&d.Ja(Xk({source:f,duration:e,easing:Wk})),d=Mk(b,[f[0]+c[0],f[1]+c[1]]),b.setCenter(d);a.preventDefault();b=!0}}return!b};function Kl(a){dl.call(this,{handleEvent:Ll});a=a?a:{};this.kb=a.condition?a.condition:ml;this.Xa=a.delta?a.delta:1;this.R=void 0!==a.duration?a.duration:100}O(Kl,dl);function Ll(a){var b=!1;if("key"==a.type){var c=a.ha.charCode;if(this.kb(a)&&(43==c||45==c)){b=a.map;c=43==c?this.Xa:-this.Xa;b.render();var d=Z(b);fl(b,d,c,void 0,this.R);a.preventDefault();b=!0}}return!b};function Ml(a){dl.call(this,{handleEvent:Nl});a=a||{};this.Xa=0;this.R=void 0!==a.duration?a.duration:250;this.Jn=void 0!==a.useAnchor?a.useAnchor:!0;this.Vg=null;this.Xb=this.Gf=void 0}O(Ml,dl);function Nl(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.ha;this.Jn&&(this.Vg=a.coordinate);this.Xa+=c.deltaY;void 0===this.Gf&&(this.Gf=Date.now());c=Math.max(80-(Date.now()-this.Gf),0);v.clearTimeout(this.Xb);this.Xb=v.setTimeout(L(this.Yk,this,b),c);a.preventDefault();b=!0}return!b}
Ml.prototype.Yk=function(a){var b=Ri(this.Xa,-1,1),c=Z(a);a.render();fl(a,c,-b,this.Vg,this.R);this.Xa=0;this.Vg=null;this.Xb=this.Gf=void 0};function Ol(a){ol.call(this,{handleDownEvent:Pl,handleDragEvent:Ql,handleUpEvent:Rl});a=a||{};this.jb=null;this.tb=void 0;this.$d=!1;this.yf=0;this.pn=void 0!==a.threshold?a.threshold:.3;this.R=void 0!==a.duration?a.duration:250}O(Ol,ol);
function Ql(a){var b=0,c=this.ga[0],d=this.ga[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.tb&&(b=c-this.tb,this.yf+=b,!this.$d&&Math.abs(this.yf)>this.pn&&(this.$d=!0));this.tb=c;a=a.map;c=ig(a.W);d=ql(this.ga);d[0]-=c.x;d[1]-=c.y;this.jb=a.Fd(d);this.$d&&(c=Z(a),d=Nk(c),a.render(),el(a,c,d+b,this.jb))}function Rl(a){if(2>this.ga.length){a=a.map;var b=Z(a);Qk(b,-1);if(this.$d){var c=Nk(b),d=this.jb,e=this.R,c=b.constrainRotation(c,0);el(a,b,c,d,e)}return!1}return!0}
function Pl(a){return 2<=this.ga.length?(a=a.map,this.jb=null,this.tb=void 0,this.$d=!1,this.yf=0,this.Vc||Qk(Z(a),1),a.render(),!0):!1}Ol.prototype.de=bd;function Sl(a){ol.call(this,{handleDownEvent:Tl,handleDragEvent:Ul,handleUpEvent:Vl});a=a?a:{};this.jb=null;this.R=void 0!==a.duration?a.duration:400;this.We=void 0;this.Wg=1}O(Sl,ol);function Ul(a){var b=1,c=this.ga[0],d=this.ga[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);void 0!==this.We&&(b=this.We/e);this.We=e;1!=b&&(this.Wg=b);a=a.map;var e=Z(a),c=e.A(),d=ig(a.W),f=ql(this.ga);f[0]-=d.x;f[1]-=d.y;this.jb=a.Fd(f);a.render();gl(a,e,c*b,this.jb)}
function Vl(a){if(2>this.ga.length){a=a.map;var b=Z(a);Qk(b,-1);var c=b.A(),d=this.jb,e=this.R,c=b.constrainResolution(c,0,this.Wg-1);gl(a,b,c,d,e);return!1}return!0}function Tl(a){return 2<=this.ga.length?(a=a.map,this.jb=null,this.We=void 0,this.Wg=1,this.Vc||Qk(Z(a),1),a.render(),!0):!1}Sl.prototype.de=bd;function Wl(a){var b=a||{};a=ib(b);delete a.layers;b=b.layers;sj.call(this,a);this.ah=[];this.cd={};W(this,jh("layers"),this.El,!1,this);b?y(b)&&(b=new lh(b.slice())):b=new lh;Xl(this,b)}O(Wl,sj);k=Wl.prototype;k.Ie=function(){this.getVisible()&&this.changed()};
k.El=function(){this.ah.forEach(X);this.ah.length=0;var a=this.Ge();this.ah.push(W(a,"add",this.Dl,!1,this),W(a,"remove",this.Fl,!1,this));ab(this.cd,function(a){a.forEach(X)});hb(this.cd);var a=a.getArray(),b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.cd[H(d).toString()]=[W(d,"propertychange",this.Ie,!1,this),W(d,"change",this.Ie,!1,this)];this.changed()};k.Dl=function(a){a=a.element;var b=H(a).toString();this.cd[b]=[W(a,"propertychange",this.Ie,!1,this),W(a,"change",this.Ie,!1,this)];this.changed()};
k.Fl=function(a){a=H(a.element).toString();this.cd[a].forEach(X);delete this.cd[a];this.changed()};k.Ge=function(){return this.get("layers")};function Xl(a,b){a.set("layers",b)}
k.Eg=function(a){var b=void 0!==a?a:[],c=b.length;this.Ge().forEach(function(a){a.Eg(b)});a=tj(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),void 0!==a.extent&&(e.extent=void 0!==e.extent?Ni(e.extent,a.extent):a.extent);return b};k.Li=function(){return"ready"};function Yl(a){$i.call(this,{code:a,units:"m",extent:Zl,global:!0,worldExtent:$l})}O(Yl,$i);Yl.prototype.getPointResolution=function(a,b){return a/Si(b[1]/6378137)};var am=6378137*Math.PI,Zl=[-am,-am,am,am],$l=[-180,-85,180,85],bm="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new Yl(a)});
function cm(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function dm(a,b,c){var d=a.length;c=1<c?c:2;void 0===b&&(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function em(a,b){$i.call(this,{code:a,units:"degrees",extent:fm,axisOrientation:b,global:!0,worldExtent:fm})}O(em,$i);em.prototype.getPointResolution=function(a){return a};
var fm=[-180,-90,180,90],gm=[new em("CRS:84"),new em("EPSG:4326","neu"),new em("urn:ogc:def:crs:EPSG::4326","neu"),new em("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new em("urn:ogc:def:crs:OGC:1.3:CRS84"),new em("urn:ogc:def:crs:OGC:2:84"),new em("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new em("urn:x-ogc:def:crs:EPSG:4326","neu")];function hm(a){a=a?a:{};var b=ib(a);delete b.preload;delete b.useInterimTilesOnError;wj.call(this,b);this.set("preload",void 0!==a.preload?a.preload:0);this.set("useInterimTilesOnError",void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0)}O(hm,wj);function im(a){return a.get("useInterimTilesOnError")};function jm(a,b,c,d,e){this.vd={};this.o=a;this.Ac=b;this.U=c;this.oa=d;this.Mn=e;this.da=this.ba=this.Aa=this.si=this.ri=this.pi=null;this.Zi=this.Yi=this.Pe=this.pc=this.Ng=this.Mg=0;this.$i=!1;this.Nd=this.aj=0;this.bj=!1;this.qc=0;this.eb="";this.Jf=this.Eh=this.nn=this.mn=0;this.hk=this.Fh=this.Dh=null;this.nf=[];this.mk=Xg()}
function km(a,b,c){if(a.da){b=Ck(b,0,c,2,a.oa,a.nf);c=a.o;var d=a.mk,e=c.globalAlpha;1!=a.Pe&&(c.globalAlpha=e*a.Pe);var f=a.aj;a.$i&&(f+=a.Mn);var g,h;g=0;for(h=b.length;g<h;g+=2){var l=b[g]-a.Mg,m=b[g+1]-a.Ng;a.bj&&(l=l+.5|0,m=m+.5|0);if(0!==f||1!=a.Nd){var n=l+a.Mg,p=m+a.Ng;Yj(d,n,p,a.Nd,a.Nd,f,-n,-p);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.da,a.Yi,a.Zi,a.qc,a.pc,l,m,a.qc,a.pc)}0===f&&1==a.Nd||c.setTransform(1,0,0,1,0,0);1!=a.Pe&&(c.globalAlpha=e)}}
function lm(a,b,c,d){var e=0;if(a.hk&&""!==a.eb){a.Dh&&mm(a,a.Dh);a.Fh&&nm(a,a.Fh);var f=a.hk,g=a.o,h=a.si;h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.si={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline});b=Ck(b,e,c,d,a.oa,a.nf);for(f=a.o;e<c;e+=d){g=b[e]+a.mn;h=b[e+1]+a.nn;
if(0!==a.Eh||1!=a.Jf){var l=Yj(a.mk,g,h,a.Jf,a.Jf,a.Eh,-g,-h);f.setTransform(l[0],l[1],l[4],l[5],l[12],l[13])}a.Fh&&f.strokeText(a.eb,g,h);a.Dh&&f.fillText(a.eb,g,h)}0===a.Eh&&1==a.Jf||f.setTransform(1,0,0,1,0,0)}}function om(a,b,c,d,e,f){var g=a.o;a=Ck(b,c,d,e,a.oa,a.nf);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}function pm(a,b,c,d,e){var f=a.o,g,h;g=0;for(h=d.length;g<h;++g)c=om(a,b,c,d[g],e,!0),f.closePath();return c}k=jm.prototype;
k.zi=function(a){if(Oi(this.U,a.w())){if(this.Aa||this.ba){this.Aa&&mm(this,this.Aa);this.ba&&nm(this,this.ba);var b;b=this.oa;var c=this.nf,d=a.ab();b=d?Ck(d,0,d.length,a.Ba(),b,c):null;c=b[2]-b[0];d=b[3]-b[1];c=Math.sqrt(c*c+d*d);d=this.o;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);this.Aa&&d.fill();this.ba&&d.stroke()}""!==this.eb&&lm(this,a.getCenter(),2,2)}};k.xg=function(a,b){var c=a.ll(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];qm[f.getType()].call(this,f,b)}};
k.Bd=function(a){var b=a.ab();a=a.Ba();this.da&&km(this,b,b.length);""!==this.eb&&lm(this,b,b.length,a)};k.Ad=function(a){var b=a.ab();a=a.Ba();this.da&&km(this,b,b.length);""!==this.eb&&lm(this,b,b.length,a)};k.Bi=function(a){if(Oi(this.U,a.w())){if(this.ba){nm(this,this.ba);var b=this.o,c=a.ab();b.beginPath();om(this,c,0,c.length,a.Ba(),!1);b.stroke()}""!==this.eb&&(a=a.io(),lm(this,a,2,2))}};
k.Ci=function(a){var b=a.w();if(Oi(this.U,b)){if(this.ba){nm(this,this.ba);var b=this.o,c=a.ab(),d=0,e=a.Ka,f=a.Ba();b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=om(this,c,d,e[g],f,!1);b.stroke()}""!==this.eb&&(a=a.jo(),lm(this,a,a.length,2))}};
k.Ei=function(a){if(Oi(this.U,a.w())){if(this.ba||this.Aa){this.Aa&&mm(this,this.Aa);this.ba&&nm(this,this.ba);var b=this.o;b.beginPath();pm(this,a.Hd(),0,a.Ka,a.Ba());this.Aa&&b.fill();this.ba&&b.stroke()}if(""!==this.eb){if(a.Ii!=a.Qa){b=Li(a.w());var c=a.Hd(),d=a.Ka,e=a.Ta,f,g,h,l,m,n=b[1],p=[],q=d[0];h=c[q-e];m=c[q-e+1];for(f=0;f<q;f+=e){l=c[f];g=c[f+1];if(n<=m&&g<=n||m<=n&&n<=g)h=(n-m)/(g-m)*(l-h)+h,p.push(h);h=l;m=g}q=NaN;m=-Infinity;p.sort(Aj);h=p[0];f=1;for(g=p.length;f<g;++f){l=p[f];var t=
Math.abs(l-h);t>m&&(h=(h+l)/2,Gk(c,d,e,h,n)&&(q=h,m=t));h=l}isNaN(q)&&(q=b[0]);b=[q,n];a.Ji=b;a.Ii=a.Qa}lm(this,a.Ji,2,2)}}};k.Di=function(a){if(Oi(this.U,a.w())){if(this.ba||this.Aa){this.Aa&&mm(this,this.Aa);this.ba&&nm(this,this.ba);var b=this.o,c=a.Hd(),d=0,e=a.fo(),f=a.Ba(),g,h;g=0;for(h=e.length;g<h;++g){var l=e[g];b.beginPath();d=pm(this,c,d,l,f);this.Aa&&b.fill();this.ba&&b.stroke()}}""!==this.eb&&(a=a.ho(),lm(this,a,a.length,2))}};
k.flush=function(){var a=Object.keys(this.vd).map(Number);a.sort(Aj);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.vd[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};function mm(a,b){var c=a.o,d=a.pi;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.pi={fillStyle:b.fillStyle})}
function nm(a,b){var c=a.o,d=a.ri;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Eh&&!Wa(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,Eh&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=
b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.ri={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}k.Bf=function(a){if(a){var b=a.jl(),c=a.ra(1),d=a.Hb(),e=a.sa();this.Mg=b[0];this.Ng=b[1];this.pc=e[1];this.da=c;this.Pe=a.getOpacity();this.Yi=d[0];this.Zi=d[1];this.$i=a.ol();this.aj=Nk(a);this.Nd=a.pl();this.bj=a.oo();this.qc=e[0]}else this.da=null};
var qm={Point:jm.prototype.Bd,LineString:jm.prototype.Bi,Polygon:jm.prototype.Ei,MultiPoint:jm.prototype.Ad,MultiLineString:jm.prototype.Ci,MultiPolygon:jm.prototype.Di,GeometryCollection:jm.prototype.xg,Circle:jm.prototype.zi};function rm(a){ak.call(this,a);this.oa=Xg()}O(rm,ak);
rm.prototype.yd=function(a,b,c){this.ja("precompose",c,a,void 0);var d=this.ra();if(d){var e=b.extent,f=void 0!==e;if(f){var g=a.pixelRatio,h=Pi(e),l=[e[2],e[3]],m=[e[2],e[1]],e=[e[0],e[1]];Zj(a.coordinateToPixelMatrix,h,h);Zj(a.coordinateToPixelMatrix,l,l);Zj(a.coordinateToPixelMatrix,m,m);Zj(a.coordinateToPixelMatrix,e,e);c.save();c.beginPath();c.moveTo(h[0]*g,h[1]*g);c.lineTo(l[0]*g,l[1]*g);c.lineTo(m[0]*g,m[1]*g);c.lineTo(e[0]*g,e[1]*g);c.clip()}g=this.cj;h=c.globalAlpha;c.globalAlpha=b.opacity;
0===a.viewState.rotation?c.drawImage(d,0,0,+d.width,+d.height,Math.round(g[12]),Math.round(g[13]),Math.round(d.width*g[0]),Math.round(d.height*g[5])):(c.setTransform(g[0],g[1],g[4],g[5],g[12],g[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0));c.globalAlpha=h;f&&c.restore()}this.ja("postcompose",c,a,void 0)};
rm.prototype.ja=function(a,b,c,d){var e=this.vc;e.hasListener(a)&&(d=void 0!==d?d:this.Fg(c,0),d=new jm(b,c.pixelRatio,c.extent,d,c.viewState.rotation),e.dispatchEvent(new vj(a,e,d,c,b,null)),d.flush())};rm.prototype.Fg=function(a,b){var c=a.viewState,d=a.pixelRatio;return Yj(this.oa,d*a.size[0]/2,d*a.size[1]/2,d/c.resolution,-d/c.resolution,-c.rotation,-c.center[0]+b,-c.center[1])};
var sm=function(){var a=null,b=null;return function(c){if(!a){a=wh(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Wa(b.data,c.data));return e}}();var tm=["Polygon","LineString","Image","Text"];function um(a,b,c,d){this.rk=a;this.Ae=b;this.Ka=c;this.Nj=d}k=um.prototype;k.get=function(a){return this.Nj[a]};k.w=function(){if(!this.U){var a;if("Point"===this.rk){var b=this.Ae;a=b[0];b=b[1];a=Gi(a,b,a,b,void 0)}else a=Hi(this.Ae,this.Ae.length,2);this.U=a}return this.U};k.ab=um.prototype.Hd=function(){return this.Ae};k.getGeometry=function(){return this};k.getProperties=function(){return this.Nj};k.Ba=function(){return 2};k.getType=function(){return this.rk};var vm=!((P("Chrome")||P("CriOS"))&&!P("Opera")&&!P("OPR")&&!P("Edge"))||lb()||P("iPad")||P("iPod");function wm(a,b,c,d){a=c-a;b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}
function xm(a,b,c,d,e,f,g,h,l,m){var n=wh(Math.round(c*a),Math.round(c*b));if(0===l.length)return n.canvas;n.scale(c,c);var p=Di();l.forEach(function(a){a=a.extent;a[0]<p[0]&&(p[0]=a[0]);a[2]>p[2]&&(p[2]=a[2]);a[1]<p[1]&&(p[1]=a[1]);a[3]>p[3]&&(p[3]=a[3])});var q=wh(Math.round(c*Ji(p)/d),Math.round(c*Ki(p)/d));q.scale(c/d,c/d);q.translate(-p[0],p[3]);l.forEach(function(a){q.drawImage(a.image,a.extent[0],-a.extent[3],Ji(a.extent),Ki(a.extent))});var t=Pi(g);h.Yb.forEach(function(a){var b=a.source,
e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-t[0])/f;var x=-(e[0][1]-t[1])/f,I=(e[1][0]-t[0])/f,J=-(e[1][1]-t[1])/f,G=(e[2][0]-t[0])/f,A=-(e[2][1]-t[1])/f,e=b[0][0],b=b[0][1],g=g-e,h=h-b,l=l-e,m=m-b;a:{g=[[g,h,0,0,I-a],[l,m,0,0,G-a],[0,0,g,h,J-x],[0,0,l,m,A-x]];h=g.length;for(l=0;l<h;l++){for(var m=l,K=Math.abs(g[l][l]),N=l+1;N<h;N++){var E=Math.abs(g[N][l]);E>K&&(K=E,m=N)}if(0===K){g=null;break a}K=g[m];g[m]=g[l];g[l]=K;for(m=l+1;m<h;m++)for(K=-g[m][l]/g[l][l],N=l;N<h+1;N++)g[m][N]=
l==N?0:g[m][N]+K*g[l][N]}l=Array(h);for(m=h-1;0<=m;m--)for(l[m]=g[m][h]/g[m][m],K=m-1;0<=K;K--)g[K][h]-=g[K][m]*l[m];g=l}g&&(n.save(),n.beginPath(),vm?(l=(a+I+G)/3,m=(x+J+A)/3,h=wm(l,m,a,x),I=wm(l,m,I,J),G=wm(l,m,G,A),n.moveTo(h[0],h[1]),n.lineTo(I[0],I[1]),n.lineTo(G[0],G[1])):(n.moveTo(a,x),n.lineTo(I,J),n.lineTo(G,A)),n.closePath(),n.clip(),n.transform(g[0],g[2],g[1],g[3],a,x),n.translate(p[0]-e,p[3]-b),n.scale(d/c,-d/c),n.drawImage(q.canvas,0,0),n.restore())});m&&(n.save(),n.strokeStyle="black",
n.lineWidth=1,h.Yb.forEach(function(a){var b=a.target;a=(b[0][0]-t[0])/f;var c=-(b[0][1]-t[1])/f,d=(b[1][0]-t[0])/f,e=-(b[1][1]-t[1])/f,g=(b[2][0]-t[0])/f,b=-(b[2][1]-t[1])/f;n.beginPath();n.moveTo(a,c);n.lineTo(d,e);n.lineTo(g,b);n.closePath();n.stroke()}),n.restore());return n.canvas};function ym(a,b,c,d,e){this.Vb=a;this.Hf=b;var f={},g=nj(this.Hf,this.Vb);this.Ab=function(a){var b=a[0]+"/"+a[1];f[b]||(f[b]=g(a));return f[b]};this.qj=d;this.cl=e*e;this.Yb=[];this.zk=!1;this.Rk=this.Vb.se&&!!d&&!!this.Vb.w()&&Ji(d)==Ji(this.Vb.w());this.va=this.Vb.w()?Ji(this.Vb.w()):null;this.fk=this.Hf.w()?Ji(this.Hf.w()):null;a=Pi(c);b=[c[2],c[3]];d=[c[2],c[1]];c=[c[0],c[1]];e=this.Ab(a);var h=this.Ab(b),l=this.Ab(d),m=this.Ab(c);zm(this,a,b,d,c,e,h,l,m,10);if(this.zk){var n=Infinity;this.Yb.forEach(function(a){n=
Math.min(n,a.source[0][0],a.source[1][0],a.source[2][0])});this.Yb.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.va/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-n>this.va/2&&(b[0][0]-=this.va);b[1][0]-n>this.va/2&&(b[1][0]-=this.va);b[2][0]-n>this.va/2&&(b[2][0]-=this.va);Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.va/2&&(a.source=b)}},this)}f={}}
function zm(a,b,c,d,e,f,g,h,l,m){var n=Ci([f,g,h,l]),p=a.va?Ji(n)/a.va:null,q=a.Vb.se&&.5<p&&1>p,t=!1;if(0<m){if(a.Hf.Jd&&a.fk)var w=Ci([b,c,d,e]),t=t|.25<Ji(w)/a.fk;!q&&a.Vb.Jd&&p&&(t|=.25<p)}if(t||!a.qj||Oi(n,a.qj)){if(!(t||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1])))if(0<m)t=!0;else return;if(0<m&&(t||(p=a.Ab([(b[0]+d[0])/2,(b[1]+d[1])/2]),n=q?(Ab(f[0],a.va)+Ab(h[0],a.va))/2-Ab(p[0],a.va):(f[0]+h[0])/2-p[0],p=(f[1]+
h[1])/2-p[1],t=n*n+p*p>a.cl),t)){Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(q=[(c[0]+d[0])/2,(c[1]+d[1])/2],n=a.Ab(q),p=[(e[0]+b[0])/2,(e[1]+b[1])/2],t=a.Ab(p),zm(a,b,c,q,p,f,g,n,t,m-1),zm(a,p,q,d,e,t,n,h,l,m-1)):(q=[(b[0]+c[0])/2,(b[1]+c[1])/2],n=a.Ab(q),p=[(d[0]+e[0])/2,(d[1]+e[1])/2],t=a.Ab(p),zm(a,b,q,p,e,f,n,t,l,m-1),zm(a,q,c,d,p,n,g,h,t,m-1));return}if(q){if(!a.Rk)return;a.zk=!0}a.Yb.push({source:[f,h,l],target:[b,d,e]});a.Yb.push({source:[f,g,h],target:[b,c,d]})}}
function Am(a){var b=Di();a.Yb.forEach(function(a){a=a.source;Ei(b,a[0]);Ei(b,a[1]);Ei(b,a[2])});return b};function Bm(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function Cm(){}Cm.prototype.gi=null;function Dm(a){var b;(b=a.gi)||(b={},Em(a)&&(b[0]=!0,b[1]=!0),b=a.gi=b);return b};var Fm;function Gm(){}O(Gm,Cm);function Hm(a){return(a=Em(a))?new ActiveXObject(a):new XMLHttpRequest}function Em(a){if(!a.Xi&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Xi=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Xi}Fm=new Gm;function Im(a){Y.call(this);this.headers=new hd;this.Yf=a||null;this.Bb=!1;this.Xf=this.g=null;this.Xe=this.Xg="";this.sc=this.Qg=this.Qe=this.zg=!1;this.Mf=0;this.Xb=null;this.Yj=Jm;this.Qh=this.Rm=this.On=!1}O(Im,Y);var Jm="",Km=/^https?$/i,Lm=["POST","PUT"],Mm=[];function Nm(a,b){var c=new Im;Mm.push(c);b&&c.fa("complete",b);c.bh("ready",c.Sk);c.send(a,void 0,void 0,void 0)}k=Im.prototype;k.Sk=function(){this.mb();Na(Mm,this)};
k.send=function(a,b,c,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Xg+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Xg=a;this.Xe="";this.zg=!1;this.Bb=!0;this.g=this.Yf?Hm(this.Yf):Hm(Fm);this.Xf=this.Yf?Dm(this.Yf):Dm(Fm);this.g.onreadystatechange=L(this.Dj,this);this.Rm&&"onprogress"in this.g&&(this.g.onprogress=L(function(a){this.Cj(a,!0)},this),this.g.upload&&(this.g.upload.onprogress=L(this.Cj,this)));try{this.Qg=!0,this.g.open(b,String(a),!0),
this.Qg=!1}catch(f){this.ze(5,f);return}a=c||"";var e=this.headers.clone();d&&$c(d,function(a,b){e.set(b,a)});d=Ka(e.La());c=v.FormData&&a instanceof v.FormData;!(0<=Fa(Lm,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(a,b){this.g.setRequestHeader(b,a)},this);this.Yj&&(this.g.responseType=this.Yj);fb(this.g)&&(this.g.withCredentials=this.On);try{Om(this),0<this.Mf&&((this.Qh=Pm(this.g))?(this.g.timeout=this.Mf,this.g.ontimeout=L(this.Gc,this)):
this.Xb=Te(this.Gc,this.Mf,this)),this.Qe=!0,this.g.send(a),this.Qe=!1}catch(f){this.ze(5,f)}};function Pm(a){return Q&&S(9)&&ha(a.timeout)&&ba(a.ontimeout)}function Ma(a){return"content-type"==a.toLowerCase()}k.Gc=function(){"undefined"!=typeof aa&&this.g&&(this.Xe="Timed out after "+this.Mf+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};k.ze=function(a,b){this.Bb=!1;this.g&&(this.sc=!0,this.g.abort(),this.sc=!1);this.Xe=b;Qm(this);Rm(this)};
function Qm(a){a.zg||(a.zg=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}k.abort=function(){this.g&&this.Bb&&(this.Bb=!1,this.sc=!0,this.g.abort(),this.sc=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rm(this))};k.b=function(){this.g&&(this.Bb&&(this.Bb=!1,this.sc=!0,this.g.abort(),this.sc=!1),Rm(this,!0));Im.h.b.call(this)};k.Dj=function(){this.Mc||(this.Qg||this.Qe||this.sc?Sm(this):this.Em())};k.Em=function(){Sm(this)};
function Sm(a){if(a.Bb&&"undefined"!=typeof aa&&(!a.Xf[1]||4!=Tm(a)||2!=a.getStatus()))if(a.Qe&&4==Tm(a))Te(a.Dj,0,a);else if(a.dispatchEvent("readystatechange"),4==Tm(a)){a.Bb=!1;try{if(Vm(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<Tm(a)?a.g.statusText:""}catch(c){b=""}a.Xe=b+" ["+a.getStatus()+"]";Qm(a)}}finally{Rm(a)}}}k.Cj=function(a,b){this.dispatchEvent(Wm(a,"progress"));this.dispatchEvent(Wm(a,b?"downloadprogress":"uploadprogress"))};
function Wm(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}function Rm(a,b){if(a.g){Om(a);var c=a.g,d=a.Xf[0]?da:null;a.g=null;a.Xf=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function Om(a){a.g&&a.Qh&&(a.g.ontimeout=null);ha(a.Xb)&&(v.clearTimeout(a.Xb),a.Xb=null)}k.$c=function(){return!!this.g};
function Vm(a){var b=a.getStatus(),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Xg).match(ld)[1]||null,!a&&v.self&&v.self.location&&(a=v.self.location.protocol,a=a.substr(0,a.length-1)),b=!Km.test(a?a.toLowerCase():"");c=b}return c}function Tm(a){return a.g?a.g.readyState:0}k.getStatus=function(){try{return 2<Tm(this)?this.g.status:-1}catch(a){return-1}};
k.getResponseHeader=function(a){return this.g&&4==Tm(this)?this.g.getResponseHeader(a):void 0};k.getAllResponseHeaders=function(){return this.g&&4==Tm(this)?this.g.getAllResponseHeaders():""};function Xm(){if(!Q)return!1;try{return new ActiveXObject("MSXML2.DOMDocument"),!0}catch(a){return!1}}var Ym=Q&&Xm();a:if(!document.implementation||!document.implementation.createDocument){if(Ym){var Zm=new ActiveXObject("MSXML2.DOMDocument");if(Zm){Zm.resolveExternals=!1;Zm.validateOnParse=!1;try{Zm.setProperty("ProhibitDTD",!0),Zm.setProperty("MaxXMLSize",2048),Zm.setProperty("MaxElementDepth",256)}catch(a){}}if(Zm)break a}throw Error("Your browser does not support creating new documents");};(function(){var a={fl:{}};(function(){function b(a,c){if(!(this instanceof b))return new b(a,c);this.Zf=Math.max(4,a||9);this.Yh=Math.max(2,Math.ceil(.4*this.Zf));c&&this.Gk(c);this.clear()}function c(a,b){a.bbox=d(a,0,a.children.length,b)}function d(a,b,c,d){for(var f=[Infinity,Infinity,-Infinity,-Infinity],g;b<c;b++)g=a.children[b],e(f,a.la?d(g):g.bbox);return f}function e(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[2]);a[3]=Math.max(a[3],b[3])}function f(a,b){return a.bbox[0]-
b.bbox[0]}function g(a,b){return a.bbox[1]-b.bbox[1]}function h(a){return(a[2]-a[0])*(a[3]-a[1])}function l(a){return a[2]-a[0]+(a[3]-a[1])}function m(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function n(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function p(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,q(a,b,c,g,e),f.push(b,g,g,c))}function q(a,b,c,d,e){for(var f,g,h,l,m;c>b;){600<c-b&&(f=c-b+1,g=d-b+1,h=Math.log(f),
l=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*l*(f-l)/f)*(0>g-f/2?-1:1),h=Math.max(b,Math.floor(d-g*l/f+m)),g=Math.min(c,Math.floor(d+(f-g)*l/f+m)),q(a,h,g,d,e));f=a[d];g=b;l=c;t(a,b,d);for(0<e(a[c],f)&&t(a,b,c);g<l;){t(a,g,l);g++;for(l--;0>e(a[g],f);)g++;for(;0<e(a[l],f);)l--}0===e(a[b],f)?t(a,b,l):(l++,t(a,l,c));l<=d&&(b=l+1);d<=l&&(c=l-1)}}function t(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}b.prototype={all:function(){return this.Uh(this.data,[])},search:function(a){var b=this.data,c=[],d=this.xa;if(!n(a,b.bbox))return c;
for(var e=[],f,g,h,l;b;){f=0;for(g=b.children.length;f<g;f++)h=b.children[f],l=b.la?d(h):h.bbox,n(a,l)&&(b.la?c.push(h):m(a,l)?this.Uh(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.Yh){for(var b=0,c=a.length;b<c;b++)this.Vl(a[b]);return this}a=this.Wh(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.Zh(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.Xh(a,this.data.height-a.height-1,
!0)):this.data=a;return this},Vl:function(a){a&&this.Xh(a,this.data.height-1);return this},clear:function(){this.data={children:[],height:1,bbox:[Infinity,Infinity,-Infinity,-Infinity],la:!0};return this},remove:function(a){if(!a)return this;for(var b=this.data,c=this.xa(a),d=[],e=[],f,g,h,l;b||d.length;){b||(b=d.pop(),g=d[d.length-1],f=e.pop(),l=!0);if(b.la&&(h=b.children.indexOf(a),-1!==h)){b.children.splice(h,1);d.push(b);this.Fk(d);break}l||b.la||!m(b.bbox,c)?g?(f++,b=g.children[f],l=!1):b=null:
(d.push(b),e.push(f),f=0,g=b,b=b.children[0])}return this},xa:function(a){return a},qg:function(a,b){return a[0]-b[0]},rg:function(a,b){return a[1]-b[1]},toJSON:function(){return this.data},Uh:function(a,b){for(var c=[];a;)a.la?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},Wh:function(a,b,d,e){var f=d-b+1,g=this.Zf,h;if(f<=g)return h={children:a.slice(b,d+1),height:1,bbox:null,la:!0},c(h,this.xa),h;e||(e=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,e-1)));
h={children:[],height:e,bbox:null};var f=Math.ceil(f/g),g=f*Math.ceil(Math.sqrt(g)),l,m,n;for(p(a,b,d,g,this.qg);b<=d;b+=g)for(m=Math.min(b+g-1,d),p(a,b,m,f,this.rg),l=b;l<=m;l+=f)n=Math.min(l+f-1,m),h.children.push(this.Wh(a,l,n,e-1));c(h,this.xa);return h},Ek:function(a,b,c,d){for(var e,f,g,l,m,n,p,q;;){d.push(b);if(b.la||d.length-1===c)break;p=q=Infinity;e=0;for(f=b.children.length;e<f;e++)g=b.children[e],m=h(g.bbox),n=g.bbox,n=(Math.max(n[2],a[2])-Math.min(n[0],a[0]))*(Math.max(n[3],a[3])-Math.min(n[1],
a[1]))-m,n<q?(q=n,p=m<p?m:p,l=g):n===q&&m<p&&(p=m,l=g);b=l}return b},Xh:function(a,b,c){var d=this.xa;c=c?a.bbox:d(a);var d=[],f=this.Ek(c,this.data,b,d);f.children.push(a);for(e(f.bbox,c);0<=b;)if(d[b].children.length>this.Zf)this.Hk(d,b),b--;else break;this.Bk(c,d,b)},Hk:function(a,b){var d=a[b],e=d.children.length,f=this.Yh;this.Ck(d,f,e);e=this.Dk(d,f,e);e={children:d.children.splice(e,d.children.length-e),height:d.height};d.la&&(e.la=!0);c(d,this.xa);c(e,this.xa);b?a[b-1].children.push(e):this.Zh(d,
e)},Zh:function(a,b){this.data={children:[a,b],height:a.height+1};c(this.data,this.xa)},Dk:function(a,b,c){var e,f,g,l,m,n,p;m=n=Infinity;for(e=b;e<=c-b;e++)f=d(a,0,e,this.xa),g=d(a,e,c,this.xa),l=Math.max(0,Math.min(f[2],g[2])-Math.max(f[0],g[0]))*Math.max(0,Math.min(f[3],g[3])-Math.max(f[1],g[1])),f=h(f)+h(g),l<m?(m=l,p=e,n=f<n?f:n):l===m&&f<n&&(n=f,p=e);return p},Ck:function(a,b,c){var d=a.la?this.qg:f,e=a.la?this.rg:g,h=this.Vh(a,b,c,d);b=this.Vh(a,b,c,e);h<b&&a.children.sort(d)},Vh:function(a,
b,c,f){a.children.sort(f);f=this.xa;var g=d(a,0,b,f),h=d(a,c-b,c,f),m=l(g)+l(h),n,p;for(n=b;n<c-b;n++)p=a.children[n],e(g,a.la?f(p):p.bbox),m+=l(g);for(n=c-b-1;n>=b;n--)p=a.children[n],e(h,a.la?f(p):p.bbox),m+=l(h);return m},Bk:function(a,b,c){for(;0<=c;c--)e(b[c].bbox,a)},Fk:function(a){for(var b=a.length-1,d;0<=b;b--)0===a[b].children.length?0<b?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():c(a[b],this.xa)},Gk:function(a){var b=["return a"," - b",";"];this.qg=new Function("a","b",
b.join(a[0]));this.rg=new Function("a","b",b.join(a[1]));this.xa=new Function("a","return [a"+a.join(", a")+"];")}};"undefined"!==typeof a?a.fl=b:"undefined"!==typeof self?self.Um=b:window.Um=b})()})();function $m(a){rm.call(this,a);this.Wa=this.f=null;this.ng=!1;this.o=null;this.cj=Xg();this.Tj=this.Uj=this.Rj=NaN;this.uf=this.Cc=null;this.zb=[0,0]}O($m,rm);$m.prototype.ra=function(){return this.f};
$m.prototype.Vd=function(a,b){function c(a){a=a.G();return 2==a||4==a||3==a&&!G}var d=a.pixelRatio,e=a.viewState,f=e.projection,g=this.vc,h=g.Ib(),l=h.pb(f),m=Nj(l,e.resolution),n=Vj(h,m,f),p=n[0]/Bi(Mj(l,m),this.zb)[0],q=l.A(m),p=q/p,t=e.center,w;q==e.resolution?(t=ek(t,q,a.size),w=Mi(t,q,e.rotation,a.size)):w=a.extent;void 0!==b.extent&&(w=Ni(w,b.extent));if(w[2]<w[0]||w[3]<w[1])return!1;var u=Jj(l,w,q),F=n[0]*u.Jb(),r=n[1]*u.Sc(),z,D;this.f?(z=this.f,D=this.o,this.Wa[0]<F||this.Wa[1]<r||this.Uj!==
n[0]||this.Tj!==n[1]||this.ng&&(this.Wa[0]>F||this.Wa[1]>r)?(z.width=F,z.height=r,this.Wa=[F,r],this.ng=!sm(this.Wa),this.Cc=null):(F=this.Wa[0],r=this.Wa[1],m==this.Rj&&Ui(this.Cc,u)||(this.Cc=null))):(D=wh(F,r),this.f=D.canvas,this.Wa=[F,r],this.o=D,this.ng=!sm(this.Wa));var C,x;this.Cc?(r=this.Cc,F=r.Jb()):(F/=n[0],r/=n[1],C=u.u-Math.floor((F-u.Jb())/2),x=u.D-Math.floor((r-u.Sc())/2),this.Rj=m,this.Uj=n[0],this.Tj=n[1],this.Cc=new Ti(C,C+F-1,x,x+r-1),this.uf=Array(F*r),r=this.Cc);z={};z[m]={};
var I=[],J=this.we(h,f,z),G=im(g),A=Di(),K=new Ti(0,0,0,0),N,E,M;for(x=u.u;x<=u.L;++x)for(M=u.D;M<=u.H;++M)E=h.getTile(m,x,M,d,f),!c(E)&&E.V&&(E=E.V),c(E)?z[m][E.v.toString()]=E:(N=Fj(l,E.v,J,K,A),N||(I.push(E),(N=Ij(l,E.v,K,A))&&J(m+1,N)));J=0;for(N=I.length;J<N;++J)E=I[J],x=n[0]*(E.v[1]-r.u),M=n[1]*(r.H-E.v[2]),D.clearRect(x,M,n[0],n[1]);I=Object.keys(z).map(Number);I.sort(Aj);var La=h.Fm,Ue=Pi(Gj(l,[m,r.u,r.H],A)),tb,Ve,Ba,rd,Pb,oh,J=0;for(N=I.length;J<N;++J)if(tb=I[J],n=Vj(h,tb,f),rd=z[tb],tb==
m)for(Ve in rd)E=rd[Ve],C=(E.v[2]-r.D)*F+(E.v[1]-r.u),this.uf[C]!=E&&(x=n[0]*(E.v[1]-r.u),M=n[1]*(r.H-E.v[2]),Ba=E.G(),4!=Ba&&(3!=Ba||G)&&La||D.clearRect(x,M,n[0],n[1]),2==Ba&&D.drawImage(E.ra(),0,0,n[0],n[1],x,M,n[0],n[1]),this.uf[C]=E);else for(Ve in tb=l.A(tb)/q,rd)for(E=rd[Ve],C=Gj(l,E.v,A),x=(C[0]-Ue[0])/p,M=(Ue[1]-C[3])/p,oh=tb*n[0],Pb=tb*n[1],Ba=E.G(),4!=Ba&&La||D.clearRect(x,M,oh,Pb),2==Ba&&D.drawImage(E.ra(),0,0,n[0],n[1],x,M,oh,Pb),E=Hj(l,C,m,K),C=Math.max(E.u,r.u),M=Math.min(E.L,r.L),x=
Math.max(E.D,r.D),E=Math.min(E.H,r.H),Ba=C;Ba<=M;++Ba)for(Pb=x;Pb<=E;++Pb)C=(Pb-r.D)*F+(Ba-r.u),this.uf[C]=void 0;dk(a.usedTiles,h,m,u);fk(a,h,l,d,f,w,m,g.get("preload"));bk(a,h);ck(a,h);Yj(this.cj,d*a.size[0]/2,d*a.size[1]/2,d*p/e.resolution,d*p/e.resolution,e.rotation,(Ue[0]-t[0])/p,(t[1]-Ue[1])/p);return!0};function an(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){if(g)return a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){return((b.Rc?b.Rc[g[0]]:null).Sc()+g[2]).toString()})}}function bn(a,b){for(var c=a.length,d=Array(c),e=0;e<c;++e)d[e]=an(a[e],b);return cn(d)}function cn(a){return 1===a.length?a[0]:function(b,c,d){if(b)return a[Ab((b[1]<<b[0])+b[2],a.length)](b,c,d)}}function dn(){};function en(a){Tj.call(this,{attributions:a.attributions,fi:a.fi,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state?a.state:void 0,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX});this.tileLoadFunction=a.tileLoadFunction;this.tileUrlFunction=a.tileUrlFunction?a.tileUrlFunction:dn;this.urls=null;if(a.urls)if(a.tileUrlFunction)this.urls=a.urls;else{var b=a.urls;fn(this,bn(b,this.tileGrid));this.urls=b}else a.url&&this.setUrl(a.url);a.tileUrlFunction&&
fn(this,a.tileUrlFunction)}O(en,Tj);en.prototype.Je=function(a){a=a.target;switch(a.G()){case 1:this.dispatchEvent(new Xj("tileloadstart",a));break;case 2:this.dispatchEvent(new Xj("tileloadend",a));break;case 3:this.dispatchEvent(new Xj("tileloaderror",a))}};function fn(a,b){a.wa.clear();a.tileUrlFunction=b;a.changed()}
en.prototype.setUrl=function(a){var b=[],c=/\{(\d)-(\d)\}/.exec(a)||/\{([a-z])-([a-z])\}/.exec(a);if(c){var d=c[2].charCodeAt(0),e;for(e=c[1].charCodeAt(0);e<=d;++e)b.push(a.replace(c[0],String.fromCharCode(e)))}else b.push(a);fn(this,bn(b,this.tileGrid));this.urls=[a]};en.prototype.uk=function(a,b,c){a=this.Fe(a,b,c);this.wa.ia(a)&&this.wa.get(a)};function gn(a,b){hk.call(this,0,b);this.o=wh();this.f=this.o.canvas;this.f.style.width="100%";this.f.style.height="100%";this.f.className="ol-unselectable";Wb(a,this.f,0);this.M=!0;this.oa=Xg()}O(gn,hk);k=gn.prototype;k.tg=function(a){return a instanceof hm?new $m(a):null};k.ja=function(a,b){var c=this.getMap(),d=this.o;if(c.hasListener(a)){var e=b.extent,f=b.pixelRatio,g=b.viewState.rotation,h=this.Fg(b),e=new jm(d,f,e,h,g);c.dispatchEvent(new vj(a,c,e,b,d,null));e.flush()}};
k.Fg=function(a){var b=a.pixelRatio;a=a.viewState;var c=a.resolution;return Yj(this.oa,this.f.width/2,this.f.height/2,b/c,-b/c,-a.rotation,-a.center[0],-a.center[1])};k.getType=function(){return"canvas"};
k.sf=function(a){if(a){var b=this.o,c=a.size[0]*a.pixelRatio,d=a.size[1]*a.pixelRatio;this.f.width!=c||this.f.height!=d?(this.f.width=c,this.f.height=d):b.clearRect(0,0,this.f.width,this.f.height);ik(a);this.ja("precompose",a);c=a.layerStatesArray;Ua(c);var d=a.viewState.resolution,e,f,g,h;e=0;for(f=c.length;e<f;++e)h=c[e],g=h.layer,g=kk(this,g),h.visible&&d>=h.minResolution&&d<h.maxResolution&&"ready"==h.zh&&g.Vd(a,h)&&g.yd(a,h,b);this.ja("postcompose",a);this.M||(mg(this.f,!0),this.M=!0);lk(this,
a);a.postRenderFunctions.push(jk)}else this.M&&(mg(this.f,!1),this.M=!1)};function hn(a,b){ak.call(this,a);this.target=b}O(hn,ak);hn.prototype.ki=nh;hn.prototype.yd=nh;hn.prototype.Tc=function(){return this.target};function jn(a){var b=document.createElement("DIV");b.style.position="absolute";hn.call(this,a,b);this.M=!0;this.Sj=1;this.Dc=0;this.Ua={}}O(jn,hn);jn.prototype.ki=function(){Vb(this.target);this.Dc=0};
jn.prototype.Vd=function(a,b){if(!b.visible)return this.M&&(mg(this.target,!1),this.M=!1),!0;var c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.vc,g=f.Ib(),h=g.pb(e),l=Nj(h,d.resolution),m=h.A(l),n=d.center,p;m==d.resolution?(n=ek(n,m,a.size),p=Mi(n,m,d.rotation,a.size)):p=a.extent;void 0!==b.extent&&(p=Ni(p,b.extent));var m=Jj(h,p,m),q={};q[l]={};var t=this.we(g,e,q),w=im(f),u=Di(),F=new Ti(0,0,0,0),r,z,D,C;for(D=m.u;D<=m.L;++D)for(C=m.D;C<=m.H;++C)r=g.getTile(l,D,C,c,e),z=r.G(),z=2==z||4==z||
3==z&&!w,!z&&r.V&&(r=r.V),z=r.G(),2==z?q[l][r.v.toString()]=r:4==z||3==z&&!w||(z=Fj(h,r.v,t,F,u),z||(r=Ij(h,r.v,F,u))&&t(l+1,r));var x;if(this.Dc!=g.Qa){for(x in this.Ua)w=this.Ua[+x],Xb(w.target);this.Ua={};this.Dc=g.Qa}u=Object.keys(q).map(Number);u.sort(Aj);var t={},I;D=0;for(C=u.length;D<C;++D){x=u[D];x in this.Ua?w=this.Ua[x]:(w=Oj(h,n,x),w=new kn(h,w),t[x]=!0,this.Ua[x]=w);x=q[x];for(I in x){r=w;z=x[I];var J=z.v,G=J[0],A=J[1],K=J[2],J=J.toString();if(!(J in r.je)){var G=Bi(Mj(r.ik,G),r.zb),
N=z.ra(r),E=N.style;E.maxWidth="none";var M=void 0,La=void 0;E.width=G[0]+"px";E.height=G[1]+"px";M=N;La=E;La.position="absolute";La.left=(A-r.Hh[1])*G[0]+"px";La.top=(r.Hh[2]-K)*G[1]+"px";r.Nc||(r.Nc=document.createDocumentFragment());r.Nc.appendChild(M);r.je[J]=z}}w.Nc&&(w.target.appendChild(w.Nc),w.Nc=null)}I=Object.keys(this.Ua).map(Number);I.sort(Aj);C=Xg();u=0;for(D=I.length;u<D;++u)if(x=I[u],w=this.Ua[x],x in q)if(z=w.A(),r=w.Hb(),Yj(C,a.size[0]/2,a.size[1]/2,z/d.resolution,z/d.resolution,
d.rotation,(r[0]-n[0])/z,(n[1]-r[1])/z),w.setTransform(C),x in t){for(--x;0<=x;--x)if(x in this.Ua){r=this.Ua[x].target;r.parentNode&&r.parentNode.insertBefore(w.target,r.nextSibling);break}0>x&&Wb(this.target,w.target,0)}else{if(!a.viewHints[0]&&!a.viewHints[1]){A=Hj(w.ik,p,w.Hh[0],F);x=[];z=r=void 0;for(z in w.je)r=w.je[z],A.contains(r.v)||x.push(r);K=A=void 0;A=0;for(K=x.length;A<K;++A)r=x[A],z=r.v.toString(),Xb(r.ra(w)),delete w.je[z]}}else Xb(w.target),delete this.Ua[x];b.opacity!=this.Sj&&(this.Sj=
this.target.style.opacity=b.opacity);b.visible&&!this.M&&(mg(this.target,!0),this.M=!0);dk(a.usedTiles,g,l,m);fk(a,g,h,c,e,p,l,f.get("preload"));bk(a,g);ck(a,g);return!0};function kn(a,b){this.target=document.createElement("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.ik=a;this.Hh=b;this.Pa=Pi(Gj(a,b));this.wf=a.A(b[0]);this.je={};this.Nc=null;this.oa=Zg();this.zb=[0,0]}kn.prototype.Hb=function(){return this.Pa};kn.prototype.A=function(){return this.wf};
kn.prototype.setTransform=function(a){var b=this.oa;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(yh()){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);zh(b,"matrix3d("+d.join(",")+")")}else if(xh()){var d=[a[0],a[1],a[4],a[5],a[12],a[13]],e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);zh(b,"matrix("+e.join(",")+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+"px";b=this.oa;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=
a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function ln(a,b){hk.call(this,0,b);this.o=wh();var c=this.o.canvas;c.style.position="absolute";c.style.width="100%";c.style.height="100%";c.className="ol-unselectable";Wb(a,c,0);this.oa=Xg();this.Ob=document.createElement("DIV");this.Ob.className="ol-unselectable";c=this.Ob.style;c.position="absolute";c.width="100%";c.height="100%";W(this.Ob,"touchstart",sc);Wb(a,this.Ob,0);this.M=!0}O(ln,hk);k=ln.prototype;k.b=function(){Xb(this.Ob);ln.h.b.call(this)};
k.tg=function(a){if(a instanceof hm)a=new jn(a);else return null;return a};k.ja=function(a,b){var c=this.getMap();if(c.hasListener(a)){var d=b.extent,e=b.pixelRatio,f=b.viewState,g=f.rotation,h=this.o,l=h.canvas;Yj(this.oa,l.width/2,l.height/2,e/f.resolution,-e/f.resolution,-f.rotation,-f.center[0],-f.center[1]);d=new jm(h,e,d,this.oa,g);c.dispatchEvent(new vj(a,c,d,b,h,null));d.flush()}};k.getType=function(){return"dom"};
k.sf=function(a){if(a){var b=this.getMap();if(b.hasListener("precompose")||b.hasListener("postcompose")){var b=this.o.canvas,c=a.pixelRatio;b.width=a.size[0]*c;b.height=a.size[1]*c}this.ja("precompose",a);b=a.layerStatesArray;Ua(b);var c=a.viewState.resolution,d,e,f,g;d=0;for(e=b.length;d<e;++d)g=b[d],f=g.layer,f=kk(this,f),Wb(this.Ob,f.Tc(),d),g.visible&&c>=g.minResolution&&c<g.maxResolution&&"ready"==g.zh?f.Vd(a,g)&&f.yd(a,g):f.ki();var b=a.layerStates,h;for(h in this.Na)h in b||(f=this.Na[h],Xb(f.Tc()));
this.M||(mg(this.Ob,!0),this.M=!0);ik(a);lk(this,a);a.postRenderFunctions.push(jk);this.ja("postcompose",a)}else this.M&&(mg(this.Ob,!1),this.M=!1)};function mn(a){this.yb=a}mn.prototype.Ib=function(){return this.yb};function nn(a){this.yb=a}O(nn,mn);nn.prototype.getType=function(){return 35632};function on(a){this.yb=a}O(on,mn);on.prototype.getType=function(){return 35633};function pn(){this.yb="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor\x3dtexture2D(l,a);gl_FragColor.rgb\x3dtexColor.rgb;float alpha\x3dtexColor.a*b*k;if(alpha\x3d\x3d0.0){discard;}gl_FragColor.a\x3dalpha;}"}O(pn,nn);ea(pn);
function qn(){this.yb="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix\x3di;if(g\x3d\x3d1.0){offsetMatrix\x3di*j;}vec4 offsets\x3doffsetMatrix*vec4(e,0.,0.);gl_Position\x3dh*vec4(c,0.,1.)+offsets;a\x3dd;b\x3df;}"}O(qn,on);ea(qn);
function rn(a,b){this.zn=a.getUniformLocation(b,"j");this.An=a.getUniformLocation(b,"i");this.Nh=a.getUniformLocation(b,"k");this.Oh=a.getUniformLocation(b,"h");this.$f=a.getAttribLocation(b,"e");this.ag=a.getAttribLocation(b,"f");this.hb=a.getAttribLocation(b,"c");this.bg=a.getAttribLocation(b,"g");this.ib=a.getAttribLocation(b,"d")};function sn(a,b){this.Mk=void 0!==a?a:[];this.In=void 0!==b?b:35044}sn.prototype.getArray=function(){return this.Mk};function tn(a,b){this.f=a;this.Y=b;this.cc={};this.ce={};this.Wd={};this.Ui=this.Vi=this.Ti=this.ug=null;(this.Wc=0<=dh.indexOf("OES_element_index_uint"))&&b.getExtension("OES_element_index_uint");W(this.f,"webglcontextlost",this.nc,!1,this);W(this.f,"webglcontextrestored",this.Jg,!1,this)}k=tn.prototype;
k.bindBuffer=function(a,b){var c=this.Y,d=b.getArray(),e=H(b);if(e in this.cc)c.bindBuffer(a,this.cc[e].buffer);else{var f=c.createBuffer();c.bindBuffer(a,f);var g;34962==a?g=new Float32Array(d):34963==a&&(g=this.Wc?new Uint32Array(d):new Uint16Array(d));c.bufferData(a,g,b.In);this.cc[e]={eo:b,buffer:f}}};k.deleteBuffer=function(a){var b=this.Y;a=H(a);var c=this.cc[a];b.isContextLost()||b.deleteBuffer(c.buffer);delete this.cc[a]};
k.b=function(){var a=this.Y;a.isContextLost()||(ab(this.cc,function(b){a.deleteBuffer(b.buffer)}),ab(this.Wd,function(b){a.deleteProgram(b)}),ab(this.ce,function(b){a.deleteShader(b)}),a.deleteFramebuffer(this.Ti),a.deleteRenderbuffer(this.Ui),a.deleteTexture(this.Vi))};function un(a,b){var c=H(b);if(c in a.ce)return a.ce[c];var d=a.Y,e=d.createShader(b.getType());d.shaderSource(e,b.Ib());d.compileShader(e);return a.ce[c]=e}
function vn(a,b,c){var d=H(b)+"/"+H(c);if(d in a.Wd)return a.Wd[d];var e=a.Y,f=e.createProgram();e.attachShader(f,un(a,b));e.attachShader(f,un(a,c));e.linkProgram(f);return a.Wd[d]=f}k.nc=function(){hb(this.cc);hb(this.ce);hb(this.Wd);this.Ui=this.Vi=this.Ti=this.ug=null};k.Jg=function(){};k.useProgram=function(a){if(a==this.ug)return!1;this.Y.useProgram(a);this.ug=a;return!0};
function wn(a,b,c){var d=a.createTexture();a.bindTexture(a.TEXTURE_2D,d);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR);void 0!==b&&a.texParameteri(3553,10242,b);void 0!==c&&a.texParameteri(3553,10243,c);return d}function xn(a,b,c){var d=wn(a,void 0,void 0);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null);return d};function yn(a,b){this.fg=this.eg=void 0;this.Pa=Li(b);this.Gg=[];this.Ld=[];this.Kg=void 0;this.rc=[];this.oc=[];this.qc=this.pc=void 0;this.ea=[];this.hc=this.Re=null;this.ih=void 0;this.Bm=Zg();this.Cm=Zg();this.kh=this.jh=void 0;this.Tm=Zg();this.vh=this.xb=this.sh=void 0;this.Gh=[];this.Md=[];this.i=[];this.Sf=null;this.Ra=[];this.Ff=[];this.Th=void 0}O(yn,uj);k=yn.prototype;
k.Ee=function(a){var b=this.Sf,c=this.Re,d=this.Gh,e=this.Md,f=a.Y;return function(){if(!f.isContextLost()){var g,h;g=0;for(h=d.length;g<h;++g)f.deleteTexture(d[g]);g=0;for(h=e.length;g<h;++g)f.deleteTexture(e[g])}a.deleteBuffer(b);a.deleteBuffer(c)}};
k.Ai=function(a,b,c){var d=this.eg,e=this.fg,f=this.Kg,g=this.pc,h=this.qc,l=this.ih,m=this.jh,n=this.kh,p=this.sh?1:0,q=this.xb,t=this.vh,w=this.Th,u=Math.cos(q),q=Math.sin(q),F=this.ea.length,r=this.i.length,z,D,C,x,I,J;for(z=0;z<b;z+=c)I=a[z]-this.Pa[0],J=a[z+1]-this.Pa[1],D=r/8,C=-t*d,x=-t*(f-e),this.i[r++]=I,this.i[r++]=J,this.i[r++]=C*u-x*q,this.i[r++]=C*q+x*u,this.i[r++]=m/h,this.i[r++]=(n+f)/g,this.i[r++]=l,this.i[r++]=p,C=t*(w-d),x=-t*(f-e),this.i[r++]=I,this.i[r++]=J,this.i[r++]=C*u-x*q,
this.i[r++]=C*q+x*u,this.i[r++]=(m+w)/h,this.i[r++]=(n+f)/g,this.i[r++]=l,this.i[r++]=p,C=t*(w-d),x=t*e,this.i[r++]=I,this.i[r++]=J,this.i[r++]=C*u-x*q,this.i[r++]=C*q+x*u,this.i[r++]=(m+w)/h,this.i[r++]=n/g,this.i[r++]=l,this.i[r++]=p,C=-t*d,x=t*e,this.i[r++]=I,this.i[r++]=J,this.i[r++]=C*u-x*q,this.i[r++]=C*q+x*u,this.i[r++]=m/h,this.i[r++]=n/g,this.i[r++]=l,this.i[r++]=p,this.ea[F++]=D,this.ea[F++]=D+1,this.ea[F++]=D+2,this.ea[F++]=D,this.ea[F++]=D+2,this.ea[F++]=D+3};
k.Ad=function(a,b){this.Ra.push(this.ea.length);this.Ff.push(b);var c=a.ab();this.Ai(c,c.length,a.Ba())};k.Bd=function(a,b){this.Ra.push(this.ea.length);this.Ff.push(b);var c=a.ab();this.Ai(c,c.length,a.Ba())};
k.finish=function(a){var b=a.Y;this.Gg.push(this.ea.length);this.Ld.push(this.ea.length);this.Sf=new sn(this.i);a.bindBuffer(34962,this.Sf);this.Re=new sn(this.ea);a.bindBuffer(34963,this.Re);a={};zn(this.Gh,this.rc,a,b);zn(this.Md,this.oc,a,b);this.Kg=this.fg=this.eg=void 0;this.oc=this.rc=null;this.qc=this.pc=void 0;this.ea=null;this.vh=this.xb=this.sh=this.kh=this.jh=this.ih=void 0;this.i=null;this.Th=void 0};
function zn(a,b,c,d){var e,f,g,h,l=b.length;for(h=0;h<l;++h){f=b[h];g=H(f).toString();if(g in c)e=c[g];else{e=d;var m=wn(e,33071,33071);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,f);e=m;c[g]=e}a[h]=e}}
k.vf=function(a,b,c,d,e,f,g,h,l,m,n){f=a.Y;a.bindBuffer(34962,this.Sf);a.bindBuffer(34963,this.Re);var p=pn.ob(),q=qn.ob(),q=vn(a,p,q);this.hc?p=this.hc:this.hc=p=new rn(f,q);a.useProgram(q);f.enableVertexAttribArray(p.hb);f.vertexAttribPointer(p.hb,2,5126,!1,32,0);f.enableVertexAttribArray(p.$f);f.vertexAttribPointer(p.$f,2,5126,!1,32,8);f.enableVertexAttribArray(p.ib);f.vertexAttribPointer(p.ib,2,5126,!1,32,16);f.enableVertexAttribArray(p.ag);f.vertexAttribPointer(p.ag,1,5126,!1,32,24);f.enableVertexAttribArray(p.bg);
f.vertexAttribPointer(p.bg,1,5126,!1,32,28);q=this.Tm;Yj(q,0,0,2/(c*e[0]),2/(c*e[1]),-d,-(b[0]-this.Pa[0]),-(b[1]-this.Pa[1]));b=this.Cm;c=2/e[0];e=2/e[1];$g(b);b[0]=c;b[5]=e;b[10]=1;b[15]=1;e=this.Bm;$g(e);0!==d&&ch(e,-d);f.uniformMatrix4fv(p.Oh,!1,q);f.uniformMatrix4fv(p.An,!1,b);f.uniformMatrix4fv(p.zn,!1,e);f.uniform1f(p.Nh,g);var t;if(void 0===l)An(this,f,a,h,this.Gh,this.Gg);else{if(m)a:{d=a.Wc?5125:5123;a=a.Wc?4:2;e=this.Ra.length-1;for(g=this.Md.length-1;0<=g;--g)for(f.bindTexture(3553,this.Md[g]),
m=0<g?this.Ld[g-1]:0,b=this.Ld[g];0<=e&&this.Ra[e]>=m;){t=this.Ra[e];c=this.Ff[e];q=H(c).toString();if(void 0===h[q]&&c.getGeometry()&&(void 0===n||Oi(n,c.getGeometry().w()))&&(f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.drawElements(4,b-t,d,t*a),b=l(c))){h=b;break a}b=t;e--}h=void 0}else f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),An(this,f,a,h,this.Md,this.Ld),h=(h=l(null))?h:void 0;t=h}f.disableVertexAttribArray(p.hb);f.disableVertexAttribArray(p.$f);f.disableVertexAttribArray(p.ib);f.disableVertexAttribArray(p.ag);
f.disableVertexAttribArray(p.bg);return t};
function An(a,b,c,d,e,f){var g=c.Wc?5125:5123;c=c.Wc?4:2;if(gb(d)){var h;a=0;d=e.length;for(h=0;a<d;++a){b.bindTexture(3553,e[a]);var l=f[a];b.drawElements(4,l-h,g,h*c);h=l}}else{h=0;var m,l=0;for(m=e.length;l<m;++l){b.bindTexture(3553,e[l]);for(var n=0<l?f[l-1]:0,p=f[l],q=n;h<a.Ra.length&&a.Ra[h]<=p;){var t=H(a.Ff[h]).toString();void 0!==d[t]?(q!==n&&b.drawElements(4,n-q,g,q*c),n=q=h===a.Ra.length-1?p:a.Ra[h+1]):n=h===a.Ra.length-1?p:a.Ra[h+1];h++}q!==n&&b.drawElements(4,n-q,g,q*c)}}}
k.Bf=function(a){var b=a.jl(),c=a.ra(1),d=a.mo(),e=a.ko(1);a.lo();var f=a.getOpacity(),g=a.Hb(),h=a.ol(),l=Nk(a),m=a.sa();a=a.pl();var n;0===this.rc.length?this.rc.push(c):(n=this.rc[this.rc.length-1],H(n)!=H(c)&&(this.Gg.push(this.ea.length),this.rc.push(c)));0===this.oc.length?this.oc.push(e):(n=this.oc[this.oc.length-1],H(n)!=H(e)&&(this.Ld.push(this.ea.length),this.oc.push(e)));this.eg=b[0];this.fg=b[1];this.Kg=m[1];this.pc=d[1];this.qc=d[0];this.ih=f;this.jh=g[0];this.kh=g[1];this.xb=l;this.sh=
h;this.vh=a;this.Th=m[0]};function Bn(a,b){this.jm=b;this.un=a;this.Sb={}}k=Bn.prototype;k.Ee=function(a){var b=[],c;for(c in this.Sb)b.push(this.Sb[c].Ee(a));return fd.apply(null,b)};k.finish=function(a){for(var b in this.Sb)this.Sb[b].finish(a)};k.Ki=function(){var a=this.Sb.Image;void 0===a&&(a=new Cn.Image(this.un,this.jm),this.Sb.Image=a);return a};k.isEmpty=function(){return gb(this.Sb)};
k.vf=function(a,b,c,d,e,f,g,h){var l,m,n;l=0;for(m=tm.length;l<m;++l)n=this.Sb[tm[l]],void 0!==n&&n.vf(a,b,c,d,e,f,g,h,void 0,!1)};var Cn={Image:yn};function Dn(a,b,c,d,e,f,g){this.o=a;this.ji=b;this.U=f;this.Ac=g;this.Ub=e;this.xb=d;this.wf=c;this.Pg=null;this.vd={}}O(Dn,uj);k=Dn.prototype;k.flush=function(){var a=Object.keys(this.vd).map(Number);a.sort(Aj);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.vd[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};k.zi=function(){};k.xg=function(a,b){var c=a.ll(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d],g=En[f.getType()];g&&g.call(this,f,b)}};
k.Bd=function(a,b){var c=this.o,d=(new Bn(1,this.U)).Ki();d.Bf(this.Pg);d.Bd(a,b);d.finish(c);d.vf(this.o,this.ji,this.wf,this.xb,this.Ub,this.Ac,1,{},void 0,!1);d.Ee(c)()};k.Bi=function(){};k.Ci=function(){};k.Ad=function(a,b){var c=this.o,d=(new Bn(1,this.U)).Ki();d.Bf(this.Pg);d.Ad(a,b);d.finish(c);d.vf(this.o,this.ji,this.wf,this.xb,this.Ub,this.Ac,1,{},void 0,!1);d.Ee(c)()};k.Di=function(){};k.Ei=function(){};k.Bf=function(a){this.Pg=a};
var En={Point:Dn.prototype.Bd,MultiPoint:Dn.prototype.Ad,GeometryCollection:Dn.prototype.xg};function Fn(){this.yb="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor\x3dtexture2D(g,a);gl_FragColor.rgb\x3dtexColor.rgb;gl_FragColor.a\x3dtexColor.a*f;}"}O(Fn,nn);ea(Fn);function Gn(){this.yb="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position\x3de*vec4(b,0.,1.);a\x3d(d*vec4(c,0.,1.)).st;}"}O(Gn,on);ea(Gn);
function Hn(a,b){this.Nh=a.getUniformLocation(b,"f");this.Oh=a.getUniformLocation(b,"e");this.Bn=a.getUniformLocation(b,"d");this.Ph=a.getUniformLocation(b,"g");this.hb=a.getAttribLocation(b,"b");this.ib=a.getAttribLocation(b,"c")};function In(a,b){ak.call(this,b);this.cf=a;this.Nk=new sn([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.Be=this.Wb=null;this.Ce=void 0;this.gk=Xg();this.Sm=Zg();this.hc=null}O(In,ak);
In.prototype.bindFramebuffer=function(a,b){var c=this.cf.Y;if(void 0===this.Ce||this.Ce!=b){a.postRenderFunctions.push(oa(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))},c,this.Be,this.Wb));var d=xn(c,b,b),e=c.createFramebuffer();c.bindFramebuffer(36160,e);c.framebufferTexture2D(36160,36064,3553,d,0);this.Wb=d;this.Be=e;this.Ce=b}else c.bindFramebuffer(36160,this.Be)};
In.prototype.yd=function(a,b,c){this.ja("precompose",c,a);c.bindBuffer(34962,this.Nk);var d=c.Y,e=Fn.ob(),f=Gn.ob(),e=vn(c,e,f);this.hc?f=this.hc:this.hc=f=new Hn(d,e);c.useProgram(e)&&(d.enableVertexAttribArray(f.hb),d.vertexAttribPointer(f.hb,2,5126,!1,16,0),d.enableVertexAttribArray(f.ib),d.vertexAttribPointer(f.ib,2,5126,!1,16,8),d.uniform1i(f.Ph,0));d.uniformMatrix4fv(f.Bn,!1,this.gk);d.uniformMatrix4fv(f.Oh,!1,this.Sm);d.uniform1f(f.Nh,b.opacity);d.bindTexture(3553,this.Wb);d.drawArrays(5,0,
4);this.ja("postcompose",c,a)};In.prototype.ja=function(a,b,c){var d=this.vc;if(d.hasListener(a)){var e=c.viewState;d.dispatchEvent(new vj(a,d,new Dn(b,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,b))}};In.prototype.nc=function(){this.Be=this.Wb=null;this.Ce=void 0};function Jn(){this.yb="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor\x3dtexture2D(e,a);}"}O(Jn,nn);ea(Jn);function Kn(){this.yb="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position\x3dvec4(b*d.xy+d.zw,0.,1.);a\x3dc;}"}O(Kn,on);ea(Kn);function Ln(a,b){this.Ph=a.getUniformLocation(b,"e");this.Cn=a.getUniformLocation(b,"d");this.hb=a.getAttribLocation(b,"b");this.ib=a.getAttribLocation(b,"c")};function Mn(a,b){In.call(this,a,b);this.gl=Jn.ob();this.Ln=Kn.ob();this.ub=null;this.Pj=new sn([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.rh=this.tf=null;this.Dc=-1;this.zb=[0,0]}O(Mn,In);Mn.prototype.b=function(){this.cf.getContext().deleteBuffer(this.Pj);Mn.h.b.call(this)};Mn.prototype.we=function(a,b,c){var d=this.cf;return function(e,f){return Uj(a,b,e,f,function(a){var b=d.na.ia(a.getKey());b&&(c[e]||(c[e]={}),c[e][a.v.toString()]=a);return b})}};
Mn.prototype.nc=function(){Mn.h.nc.call(this);this.ub=null};
Mn.prototype.Vd=function(a,b,c){var d=this.cf,e=c.Y,f=a.viewState,g=f.projection,h=this.vc,l=h.Ib(),m=l.pb(g),n=Nj(m,f.resolution),p=m.A(n),q=Vj(l,n,g),t=q[0]/Bi(Mj(m,n),this.zb)[0],w=p/t,u=f.center,F;p==f.resolution?(u=ek(u,p,a.size),F=Mi(u,p,f.rotation,a.size)):F=a.extent;p=Jj(m,F,p);if(this.tf&&this.tf.equals(p)&&this.Dc==l.Qa)w=this.rh;else{var r=p.sa(),z=Math.pow(2,Math.ceil(Math.log(Math.max(r[0]*q[0],r[1]*q[1]))/Math.LN2)),r=w*z,D=m.Hb(n),C=D[0]+p.u*q[0]*w,w=D[1]+p.D*q[1]*w,w=[C,w,C+r,w+r];
this.bindFramebuffer(a,z);e.viewport(0,0,z,z);e.clearColor(0,0,0,0);e.clear(16384);e.disable(3042);z=vn(c,this.gl,this.Ln);c.useProgram(z);this.ub||(this.ub=new Ln(e,z));c.bindBuffer(34962,this.Pj);e.enableVertexAttribArray(this.ub.hb);e.vertexAttribPointer(this.ub.hb,2,5126,!1,16,0);e.enableVertexAttribArray(this.ub.ib);e.vertexAttribPointer(this.ub.ib,2,5126,!1,16,8);e.uniform1i(this.ub.Ph,0);c={};c[n]={};var x=this.we(l,g,c),I=im(h),z=!0,C=Di(),J=new Ti(0,0,0,0),G,A,K;for(A=p.u;A<=p.L;++A)for(K=
p.D;K<=p.H;++K){D=l.getTile(n,A,K,t,g);if(void 0!==b.extent&&(G=Gj(m,D.v,C),!Oi(G,b.extent)))continue;G=D.G();G=2==G||4==G||3==G&&!I;!G&&D.V&&(D=D.V);G=D.G();if(2==G){if(d.na.ia(D.getKey())){c[n][D.v.toString()]=D;continue}}else if(4==G||3==G&&!I)continue;z=!1;G=Fj(m,D.v,x,J,C);G||(D=Ij(m,D.v,J,C))&&x(n+1,D)}b=Object.keys(c).map(Number);b.sort(Aj);for(var x=new Float32Array(4),N,E,M,I=0,J=b.length;I<J;++I)for(N in E=c[b[I]],E)D=E[N],G=Gj(m,D.v,C),A=2*(G[2]-G[0])/r,K=2*(G[3]-G[1])/r,M=2*(G[0]-w[0])/
r-1,G=2*(G[1]-w[1])/r-1,Wg(x,A,K,M,G),e.uniform4fv(this.ub.Cn,x),Nn(d,D,q,0*t),e.drawArrays(5,0,4);z?(this.tf=p,this.rh=w,this.Dc=l.Qa):(this.rh=this.tf=null,this.Dc=-1,a.animate=!0)}dk(a.usedTiles,l,n,p);var La=d.ie;fk(a,l,m,t,g,F,n,h.get("preload"),function(a){var b;(b=2!=a.G()||d.na.ia(a.getKey()))||(b=a.getKey()in La.ld);b||La.enqueue([a,Lj(m,a.v),m.A(a.v[0]),q,0*t])},this);bk(a,l);ck(a,l);e=this.gk;$g(e);ah(e,(u[0]-w[0])/(w[2]-w[0]),(u[1]-w[1])/(w[3]-w[1]));0!==f.rotation&&ch(e,f.rotation);bh(e,
a.size[0]*f.resolution/(w[2]-w[0]),a.size[1]*f.resolution/(w[3]-w[1]));ah(e,-.5,-.5);return!0};function On(a,b){hk.call(this,0,b);this.f=document.createElement("CANVAS");this.f.style.width="100%";this.f.style.height="100%";this.f.className="ol-unselectable";Wb(a,this.f,0);this.li=this.mi=0;this.ni=wh();this.M=!0;this.Y=Bh(this.f,{antialias:!0,depth:!1,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0});this.o=new tn(this.f,this.Y);W(this.f,"webglcontextlost",this.nc,!1,this);W(this.f,"webglcontextrestored",this.Jg,!1,this);this.na=new yj;this.kc=null;this.ie=new mk(L(function(a){var b=
a[1];a=a[2];var e=b[0]-this.kc[0],b=b[1]-this.kc[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a},this),function(a){return a[0].getKey()});this.Zl=L(function(){if(!this.ie.isEmpty()){qk(this.ie);var a=nk(this.ie);Nn(this,a[0],a[3],a[4])}},this);this.ge=0;Pn(this)}O(On,hk);
function Nn(a,b,c,d){var e=a.Y,f=b.getKey();if(a.na.ia(f))a=a.na.get(f),e.bindTexture(3553,a.Wb),9729!=a.nj&&(e.texParameteri(3553,10240,9729),a.nj=9729),9729!=a.rj&&(e.texParameteri(3553,10240,9729),a.rj=9729);else{var g=e.createTexture();e.bindTexture(3553,g);if(0<d){var h=a.ni.canvas,l=a.ni;a.mi!==c[0]||a.li!==c[1]?(h.width=c[0],h.height=c[1],a.mi=c[0],a.li=c[1]):l.clearRect(0,0,c[0],c[1]);l.drawImage(b.ra(),d,d,c[0],c[1],0,0,c[0],c[1]);e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,
0,6408,6408,5121,b.ra());e.texParameteri(3553,10240,9729);e.texParameteri(3553,10241,9729);e.texParameteri(3553,10242,33071);e.texParameteri(3553,10243,33071);a.na.set(f,{Wb:g,nj:9729,rj:9729})}}k=On.prototype;k.tg=function(a){return a instanceof hm?new Mn(this,a):null};k.ja=function(a,b){var c=this.getMap();if(c.hasListener(a)){var d=this.o,e=b.viewState,e=new Dn(d,e.center,e.resolution,e.rotation,b.size,b.extent,b.pixelRatio);c.dispatchEvent(new vj(a,c,e,b,null,d));e.flush()}};
k.b=function(){var a=this.Y;a.isContextLost()||this.na.forEach(function(b){b&&a.deleteTexture(b.Wb)});nc(this.o);On.h.b.call(this)};k.el=function(a,b){for(var c=this.Y,d;1024<this.na.Gb()-this.ge;){if(d=this.na.ua.Zb)c.deleteTexture(d.Wb);else if(+this.na.ua.Ve==b.index)break;else--this.ge;this.na.pop()}};k.getContext=function(){return this.o};k.getType=function(){return"webgl"};k.nc=function(a){a.preventDefault();this.na.clear();this.ge=0;ab(this.Na,function(a){a.nc()})};
k.Jg=function(){Pn(this);this.getMap().render()};function Pn(a){a=a.Y;a.activeTexture(33984);a.blendFuncSeparate(770,771,1,771);a.disable(2884);a.disable(2929);a.disable(3089);a.disable(2960)}
k.sf=function(a){var b=this.getContext(),c=this.Y;if(c.isContextLost())return!1;if(!a)return this.M&&(mg(this.f,!1),this.M=!1),!1;this.kc=a.focus;this.na.set((-a.index).toString(),null);++this.ge;this.ja("precompose",a);var d=[],e=a.layerStatesArray;Ua(e);var f=a.viewState.resolution,g,h,l,m;g=0;for(h=e.length;g<h;++g)m=e[g],m.visible&&f>=m.minResolution&&f<m.maxResolution&&"ready"==m.zh&&(l=kk(this,m.layer),l.Vd(a,m,b)&&d.push(m));e=a.size[0]*a.pixelRatio;f=a.size[1]*a.pixelRatio;if(this.f.width!=
e||this.f.height!=f)this.f.width=e,this.f.height=f;c.bindFramebuffer(36160,null);c.clearColor(0,0,0,0);c.clear(16384);c.enable(3042);c.viewport(0,0,this.f.width,this.f.height);g=0;for(h=d.length;g<h;++g)m=d[g],l=kk(this,m.layer),l.yd(a,m,b);this.M||(mg(this.f,!0),this.M=!0);ik(a);1024<this.na.Gb()-this.ge&&a.postRenderFunctions.push(L(this.el,this));this.ie.isEmpty()||(a.postRenderFunctions.push(this.Zl),a.animate=!0);this.ja("postcompose",a);lk(this,a);a.postRenderFunctions.push(jk)};var Qn=["canvas","webgl","dom"];
function Rn(a){hh.call(this);var b=Sn(a);this.$l=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1;this.am=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1;this.Ac=void 0!==a.pixelRatio?a.pixelRatio:Dh;this.dm=b.logos;this.hg=new Nf(this.Zm,void 0,this);mc(this,this.hg);this.Uk=Xg();this.Im=Xg();this.hl=0;this.mc=null;this.Kj=Di();this.Ze=this.Tf=null;this.W=document.createElement("DIV");this.W.className="ol-viewport";this.W.style.position="relative";this.W.style.overflow=
"hidden";this.W.style.width="100%";this.W.style.height="100%";this.W.style.msTouchAction="none";this.W.style.touchAction="none";Gh&&fc(this.W,"ol-touch");this.lf=document.createElement("DIV");this.lf.className="ol-overlaycontainer";this.W.appendChild(this.lf);this.kf=document.createElement("DIV");this.kf.className="ol-overlaycontainer-stopevent";W(this.kf,["click","dblclick","mousedown","touchstart","MSPointerDown",xi,ob?"DOMMouseScroll":"mousewheel"],rc);this.W.appendChild(this.kf);a=new pi(this);
W(a,db(Ai),this.Ni,!1,this);mc(this,a);this.hj=b.keyboardEventTarget;this.bb=new uf;W(this.bb,"key",this.Mi,!1,this);mc(this,this.bb);a=new Rg(this.W);W(a,"mousewheel",this.Mi,!1,this);mc(this,a);this.ve=b.controls;this.Se=b.interactions;this.mh=b.overlays;this.Hj={};this.ma=new b.an(this.W,this);mc(this,this.ma);this.vk=new Qg;mc(this,this.vk);this.kc=this.me=null;this.qf=[];this.Jj=[];this.kk=new rk(L(this.ql,this),L(this.Pl,this));this.jn={};W(this,jh("layergroup"),this.zl,!1,this);W(this,jh("view"),
this.Rl,!1,this);W(this,jh("size"),this.Ll,!1,this);W(this,jh("target"),this.Ol,!1,this);this.be(b.values);this.ve.forEach(function(a){a.setMap(this)},this);W(this.ve,"add",function(a){a.element.setMap(this)},!1,this);W(this.ve,"remove",function(a){a.element.setMap(null)},!1,this);this.Se.forEach(function(a){a.setMap(this)},this);W(this.Se,"add",function(a){a.element.setMap(this)},!1,this);W(this.Se,"remove",function(a){a.element.setMap(null)},!1,this);this.mh.forEach(this.ci,this);W(this.mh,"add",
function(a){this.ci(a.element)},!1,this);W(this.mh,"remove",function(a){var b=a.element.getId();void 0!==b&&delete this.Hj[b.toString()];a.element.setMap(null)},!1,this)}O(Rn,hh);k=Rn.prototype;k.ci=function(a){var b=a.getId();void 0!==b&&(this.Hj[b.toString()]=a);a.setMap(this)};k.Ja=function(a){this.render();Array.prototype.push.apply(this.qf,arguments)};k.b=function(){Xb(this.W);Rn.h.b.call(this)};k.Tc=function(){return this.get("target")};function Tn(a){a=a.Tc();return void 0!==a?Ib(a):null}
k.Fd=function(a){var b=this.mc;return b?(a=a.slice(),Zj(b.pixelToCoordinateMatrix,a,a)):null};k.getControls=function(){return this.ve};function Un(a){return a.get("layergroup")}k.Ge=function(){return Un(this).Ge()};k.sa=function(){return this.get("size")};function Z(a){return a.get("view")}k.ql=function(a,b,c,d){var e=this.mc;if(!(e&&b in e.wantedTiles&&e.wantedTiles[b][a.v.toString()]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};
k.Mi=function(a,b){var c=new ni(b||a.type,this,a);this.Ni(c)};k.Ni=function(a){if(this.mc){this.kc=a.coordinate;a.frameState=this.mc;var b=this.Se.getArray(),c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.get("active")&&!d.handleEvent(a))break}}};
k.Jl=function(){var a=this.mc,b=this.kk;if(!b.isEmpty()){var c=16,d=c,e=0;a&&(e=a.viewHints,e[0]&&(c=this.$l?8:0,d=2),e[1]&&(c=this.am?8:0,d=2),e=cb(a.wantedTiles));c*=e;d*=e;if(b.Lf<c){qk(b);for(var e=0,f;b.Lf<c&&e<d&&0<b.Gb();)f=nk(b)[0],0===f.G()&&(b.Kh[f.getKey()]=!0,++b.Lf,++e,f.load())}}b=this.Jj;d=0;for(c=b.length;d<c;++d)b[d](this,a);b.length=0};k.Ll=function(){this.render()};
k.Ol=function(){var a=Tn(this);this.bb.detach();a?(a.appendChild(this.W),vf(this.bb,this.hj?this.hj:a),this.me||(this.me=W(this.vk,"resize",this.Qf,!1,this))):(Xb(this.W),this.me&&(X(this.me),this.me=null));this.Qf()};k.Pl=function(){this.render()};k.Sl=function(){this.render()};k.Rl=function(){this.Tf&&(X(this.Tf),this.Tf=null);var a=Z(this);a&&(this.Tf=W(a,"propertychange",this.Sl,!1,this));this.render()};k.Al=function(){this.render()};k.Bl=function(){this.render()};
k.zl=function(){this.Ze&&(this.Ze.forEach(X),this.Ze=null);var a=Un(this);a&&(this.Ze=[W(a,"propertychange",this.Bl,!1,this),W(a,"change",this.Al,!1,this)]);this.render()};k.Rg=function(){if(!Zb(document,this.W)||"none"==this.W.style.display)return!1;var a=this.sa();return!a||0>=a[0]||0>=a[1]?!1:(a=Z(this))&&a.Rg()?!0:!1};k.render=function(){this.hg.$c()||this.hg.start()};
k.Zm=function(a){var b,c,d,e=this.sa(),f=Z(this),g=null;if(void 0!==e&&0<e[0]&&0<e[1]&&f&&f.Rg()){var g=f.Lg.slice(),h=Un(this).Eg(),l={};b=0;for(c=h.length;b<c;++b)l[H(h[b].layer)]=h[b];d=f.G();g={animate:!1,attributions:{},coordinateToPixelMatrix:this.Uk,extent:null,focus:this.kc?this.kc:d.center,index:this.hl++,layerStates:l,layerStatesArray:h,logos:ib(this.dm),pixelRatio:this.Ac,pixelToCoordinateMatrix:this.Im,postRenderFunctions:[],size:e,skippedFeatureUids:this.jn,tileQueue:this.kk,time:a,usedTiles:{},
viewState:d,viewHints:g,wantedTiles:{}}}if(g){a=this.qf;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.extent=Mi(d.center,d.resolution,d.rotation,g.size)}this.mc=g;this.ma.sf(g);if(g){g.animate&&this.render();Array.prototype.push.apply(this.Jj,g.postRenderFunctions);if(b=0===this.qf.length&&!g.viewHints[0]&&!g.viewHints[1])b=g.extent,c=this.Kj,b=!(b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]);b&&(this.dispatchEvent(new rh("moveend",this,g)),b=g.extent,c=this.Kj)&&(c[0]=b[0],
c[1]=b[1],c[2]=b[2],c[3]=b[3])}this.dispatchEvent(new rh("postrender",this,g));Md(this.Jl,this)};k.nd=function(a){this.set("target",a)};
k.Qf=function(){var a=Tn(this);if(a){var b=Hb(a),c=Q&&a.currentStyle;c&&cc(Fb(b))&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing?(b=qg(a,c.width,"width","pixelWidth"),a=qg(a,c.height,"height","pixelHeight"),a=new Db(b,a)):(c=new Db(a.offsetWidth,a.offsetHeight),b=sg(a),a=vg(a),a=new Db(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom));this.set("size",[a.width,a.height])}else this.set("size",void 0)};
function Sn(a){var b=null;void 0!==a.keyboardEventTarget&&(b=B(a.keyboardEventTarget)?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]=
"http://openlayers.org/";else{var e=a.logo;B(e)?d[e]="":ja(e)&&(d[e.src]=e.href)}e=a.layers instanceof Wl?a.layers:new Wl({layers:a.layers});c.layergroup=e;c.target=a.target;c.view=void 0!==a.view?a.view:new Lk;var e=hk,f;void 0!==a.renderer?y(a.renderer)?f=a.renderer:B(a.renderer)&&(f=[a.renderer]):f=Qn;var g,h;g=0;for(h=f.length;g<h;++g){var l=f[g];if("canvas"==l){if(Fh){e=gn;break}}else if("dom"==l){e=ln;break}else if("webgl"==l&&Ch){e=On;break}}void 0!==a.controls?f=y(a.controls)?new lh(a.controls.slice()):
a.controls:(f={},g=new lh,(void 0!==f.zoom?f.zoom:1)&&g.push(new bl(f.zoomOptions)),(void 0!==f.rotate?f.rotate:1)&&g.push(new $k(f.rotateOptions)),(void 0!==f.attribution?f.attribution:1)&&g.push(new Sk(f.attributionOptions)),f=g);if(void 0!==a.interactions)g=y(a.interactions)?new lh(a.interactions.slice()):a.interactions;else{g={};h=new lh;l=new cl(-.005,.05,100);(void 0!==g.altShiftDragRotate?g.altShiftDragRotate:1)&&h.push(new vl);(void 0!==g.doubleClickZoom?g.doubleClickZoom:1)&&h.push(new hl({delta:g.zoomDelta,
duration:g.zoomDuration}));(void 0!==g.dragPan?g.dragPan:1)&&h.push(new rl({kinetic:l}));(void 0!==g.pinchRotate?g.pinchRotate:1)&&h.push(new Ol);(void 0!==g.pinchZoom?g.pinchZoom:1)&&h.push(new Sl({duration:g.zoomDuration}));if(void 0!==g.keyboard?g.keyboard:1)h.push(new Il),h.push(new Kl({delta:g.zoomDelta,duration:g.zoomDuration}));(void 0!==g.mouseWheelZoom?g.mouseWheelZoom:1)&&h.push(new Ml({duration:g.zoomDuration}));(void 0!==g.shiftDragZoom?g.shiftDragZoom:1)&&h.push(new Hl({duration:g.zoomDuration}));
g=h}a=void 0!==a.overlays?y(a.overlays)?new lh(a.overlays.slice()):a.overlays:new lh;return{controls:f,interactions:g,keyboardEventTarget:b,logos:d,overlays:a,an:e,values:c}}dj(bm);dj(gm);gm.forEach(function(a){bm.forEach(function(b){ej(a,b,cm);ej(b,a,dm)})});function Vn(a,b,c,d,e){xj.call(this,a,b);this.dk=c;this.da=new Image;null!==d&&(this.da.crossOrigin=d);this.Oe={};this.Og=null;this.tn=e}O(Vn,xj);k=Vn.prototype;k.b=function(){1==this.state&&Wn(this);this.V&&nc(this.V);Vn.h.b.call(this)};k.ra=function(a){if(void 0!==a){var b=H(a);if(b in this.Oe)return this.Oe[b];a=gb(this.Oe)?this.da:this.da.cloneNode(!1);return this.Oe[b]=a}return this.da};k.getKey=function(){return this.dk};k.ul=function(){this.state=3;Wn(this);this.changed()};
k.vl=function(){this.state=this.da.naturalWidth&&this.da.naturalHeight?2:4;Wn(this);this.changed()};k.load=function(){0==this.state&&(this.state=1,this.changed(),this.Og=[Oc(this.da,"error",this.ul,!1,this),Oc(this.da,"load",this.vl,!1,this)],this.tn(this,this.dk))};function Wn(a){a.Og.forEach(X);a.Og=null};function Xn(a,b,c,d,e,f,g,h,l,m){xj.call(this,e,0);this.Ym=void 0!==m?m:!1;this.Ac=g;this.f=null;this.te={};this.Df=b;this.If=d;this.Wf=f?f:e;this.od=[];this.pd=null;this.Ef=0;f=Gj(d,this.Wf);m=this.If.w();e=this.Df.w();f=m?Ni(f,m):f;if(0===Ii(f))this.state=4;else{(m=a.w())&&(e=e?Ni(e,m):m);m=d.A(this.Wf[0]);var n=Li(f);d=pj(n,c,a);m=c.getPointResolution(m,n);n=Zi[c.Va];void 0!==n&&(m*=n);n=Zi[a.Va];void 0!==n&&(m/=n);d=a.getPointResolution(m,d)/m;Bb(d)&&0<d&&(m/=d);d=m;if(!Bb(d)||0>=d)this.state=
4;else if(this.Mh=new ym(a,c,f,e,d*(void 0!==l?l:.5)),0===this.Mh.Yb.length)this.state=4;else if(this.Ef=Nj(b,d),c=Am(this.Mh),e&&(a.se?(c[1]=Ri(c[1],e[1],e[3]),c[3]=Ri(c[3],e[1],e[3])):c=Ni(c,e)),Ii(c))if(a=Hj(b,c,this.Ef),100>a.Jb()*a.Sc()){for(b=a.u;b<=a.L;b++)for(c=a.D;c<=a.H;c++)(l=h(this.Ef,b,c,g))&&this.od.push(l);0===this.od.length&&(this.state=4)}else this.state=3;else this.state=4}}O(Xn,xj);Xn.prototype.b=function(){1==this.state&&(this.pd.forEach(X),this.pd=null);Xn.h.b.call(this)};
Xn.prototype.ra=function(a){if(void 0!==a){var b=H(a);if(b in this.te)return this.te[b];a=gb(this.te)?this.f:this.f.cloneNode(!1);return this.te[b]=a}return this.f};
Xn.prototype.Vj=function(){var a=[];this.od.forEach(function(b){b&&2==b.G()&&a.push({extent:Gj(this.Df,b.v),image:b.ra()})},this);this.od.length=0;var b=this.Wf[0],c=Mj(this.If,b),d=ha(c)?c:c[0],c=ha(c)?c:c[1],b=this.If.A(b),e=this.Df.A(this.Ef),f=Gj(this.If,this.Wf);this.f=xm(d,c,this.Ac,e,this.Df.w(),b,f,this.Mh,a,this.Ym);this.state=2;this.changed()};
Xn.prototype.load=function(){if(0==this.state){this.state=1;this.changed();var a=0;this.pd=[];this.od.forEach(function(b){var c=b.G();if(0==c||1==c){a++;var d;d=b.fa("change",function(){var c=b.G();if(2==c||3==c||4==c)X(d),a--,0===a&&(this.pd.forEach(X),this.pd=null,this.Vj())},!1,this);this.pd.push(d)}},this);this.od.forEach(function(a){0==a.G()&&a.load()});0===a&&v.setTimeout(L(this.Vj,this),0)}};function Yn(a){en.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:void 0!==a.state?a.state:void 0,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:Zn,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX});this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null;this.tileClass=void 0!==a.tileClass?a.tileClass:Vn;this.he={};this.Ih={};this.cn=a.reprojectionErrorThreshold;
this.$m=!1}O(Yn,en);k=Yn.prototype;k.ec=function(){return this.wa.ec()?!0:bb(this.he,function(a){return a.ec()})};k.Pc=function(a,b){var c=this.Id(a);this.wa.Pc(this.wa==c?b:{});ab(this.he,function(a){a.Pc(a==c?b:{})})};k.pb=function(a){var b=this.getProjection();return!this.tileGrid||b&&!mj(b,a)?(b=H(a).toString(),b in this.Ih||(this.Ih[b]=Pj(a)),this.Ih[b]):this.tileGrid};
k.Id=function(a){var b=this.getProjection();if(!b||mj(b,a))return this.wa;a=H(a).toString();a in this.he||(this.he[a]=new zj);return this.he[a]};function $n(a,b,c,d,e,f){b=[b,c,d];e=(c=Wj(a,b,f))?a.tileUrlFunction(c,e,f):void 0;e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction);e.key="";W(e,"change",a.Je,!1,a);return e}
k.getTile=function(a,b,c,d,e){if(this.getProjection()&&e&&!mj(this.getProjection(),e)){d=this.Id(e);b=[a,b,c];a=this.Fe.apply(this,b);if(d.ia(a))return d.get(a);var f=this.getProjection();c=this.pb(f);var g=this.pb(e),h=Wj(this,b,e);e=new Xn(f,c,e,g,b,h,this.jk,L(function(a,b,c,d){return ao(this,a,b,c,d,f)},this),this.cn,this.$m);d.set(a,e);return e}return ao(this,a,b,c,d,e)};
function ao(a,b,c,d,e,f){var g=null,h=a.Fe(b,c,d);if(a.wa.ia(h)){if(g=a.wa.get(h),""!=g.key){var l=g;g.V&&""==g.V.key?(g=g.V,2==l.G()&&(g.V=l)):(g=$n(a,b,c,d,e,f),2==l.G()?g.V=l:l.V&&2==l.V.G()&&(g.V=l.V,l.V=null));g.V&&(g.V.V=null);a.wa.replace(h,g)}}else g=$n(a,b,c,d,e,f),a.wa.set(h,g);return g}function Zn(a,b){a.ra().src=b};function bo(a){var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:Sj({extent:Qj(b),maxZoom:a.maxZoom,tileSize:a.tileSize});Yn.call(this,{attributions:a.attributions,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0})}O(bo,Yn);var co=new Vi({html:'\x26copy; \x3ca href\x3d"http://www.openstreetmap.org/copyright"\x3eOpenStreetMap\x3c/a\x3e contributors.'});function eo(a){a=a||{};var b=fo[a.layer];this.vc=a.layer;bo.call(this,{attributions:b.attributions,crossOrigin:"anonymous",logo:"https://developer.mapquest.com/content/osm/mq_logo.png",maxZoom:b.maxZoom,reprojectionErrorThreshold:a.reprojectionErrorThreshold,opaque:!0,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://otile{1-4}-s.mqcdn.com/tiles/1.0.0/"+this.vc+"/{z}/{x}/{y}.jpg"})}O(eo,bo);
var go=new Vi({html:'Tiles Courtesy of \x3ca href\x3d"http://www.mapquest.com/"\x3eMapQuest\x3c/a\x3e'}),fo={osm:{maxZoom:19,attributions:[go,co]},sat:{maxZoom:18,attributions:[go,new Vi({html:"Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency"})]},hyb:{maxZoom:18,attributions:[go,co]}};function ho(a){Yn.call(this,{attributions:a.attributions,crossOrigin:a.crossOrigin,projection:cj("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0});a.useXhr?Nm(a.url,L(function(a){a=a.target;Vm(a)?(a=a.g?Bm(a.g.responseText):void 0,this.Si(a)):this.Ri()},this)):(new Fe(a.url)).send(void 0,L(this.Si,this),L(this.Ri,this))}O(ho,Yn);
ho.prototype.Si=function(a){var b=cj("EPSG:4326"),c=this.getProjection(),d;void 0!==a.bounds&&(d=Qi(a.bounds,gj(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=Sj({extent:Qj(c),maxZoom:f,minZoom:e});this.tileUrlFunction=bn(a.tiles,c);if(void 0!==a.attribution&&!this.ig){b=void 0!==d?d:b.w();d={};for(var g;e<=f;++e)g=e.toString(),d[g]=[Hj(c,b,e)];this.ig=[new Vi({html:a.attribution,tileRanges:d})];this.changed()}this.B="ready";this.changed()};ho.prototype.Ri=function(){this.B="error";this.changed()};function io(a,b){var c=!a.Z&&!!b;a.Z=b;if(a.Z){a.ad=!1;jo(a);$b(a.ln,"EPSG:"+a.Z.code+" "+a.Z.name);a.Ah.href="/"+a.Z.code;mg(a.ui,!0);mg(a.Ah,!0);var d,e=a.Z.bbox;if(0<a.Z.proj4.length&&y(e)&&4==e.length){d="EPSG:"+a.Z.code;proj4.defs(d,a.Z.proj4);d=cj(d);var f=nj("EPSG:4326",d),f=Qi([e[1],e[2],e[3],e[0]],f);d.bk(f)}c&&y(e)&&4==e.length&&(f=qj([e[1],e[2],e[3],e[0]],a.C.getProjection()))&&(c=a.c.sa())&&Ok(a.C,f,c);a.Ec.disabled=!!a.Uc||!d;a.Ec.disabled&&(a.Ec.checked=!1);a.Ec.checked&&ko(a);lo(a)}}
function mo(a){a.Uc&&(google.maps.event.clearInstanceListeners(a.Uc),Vb(a.dd),a.c.nd(a.dd),delete a.Uc,Ga(a.rd,X),a.rd=[]);a.dd.style.backgroundColor="";var b=[],c=a.xc.value;if(0===c.indexOf("gmaps-")){var d=U("div",{style:"width:100%;height:100%"});a.c.nd(d);Vb(a.dd);var e=new google.maps.Map(a.dd,{disableDefaultUI:!0,keyboardShortcuts:!1,draggable:!1,disableDoubleClickZoom:!0,scrollwheel:!1,streetViewControl:!1,mapTypeId:c.substr(6)});a.Uc=e;e.controls[google.maps.ControlPosition.TOP_LEFT].push(d);
var f=a.C;a.rd.push(fh(f,"change:center",function(){var a=pj(f.getCenter()||null,"EPSG:3857","EPSG:4326");e.setCenter(new google.maps.LatLng(a[1],a[0]))}));a.rd.push(fh(f,"change:resolution",function(){e.setZoom(f.getZoom()||0)}));c=pj(f.getCenter()||null,"EPSG:3857","EPSG:4326");e.setCenter(new google.maps.LatLng(c[1],c[0]));e.setZoom(f.getZoom()||0);google.maps.event.addListenerOnce(e,"idle",L(function(){google.maps.event.trigger(e,"resize");this.c.Qf()},a))}else(b=a.xc.options[a.xc.selectedIndex].getAttribute("data-tilejson"))?
d=new ho({url:b,useXhr:!0}):"mqosm"==c&&(d=new eo({layer:"osm"})),b=[new hm({source:d})];Xl(Un(a.c),new lh(b));a.c.Qf()}
function ko(a){a.Sh&&(X(a.Sh),Ga(a.rd,X),a.rd=[]);var b=a.Ec.checked&&a.Z&&!a.Uc,c=cj(b?"EPSG:"+a.Z.code:"EPSG:3857"),d=a.C?a.C.A()*Zi[a.C.getProjection().Va]:null;a.C=new Lk({center:pj([a.wc,a.uc],"EPSG:4326",c),projection:c,extent:c.w(),maxZoom:21,zoom:b?0:2});d&&Pk(a.C,a.C.constrainResolution(d/Zi[a.C.getProjection().Va]));a.C.setCenter(Mk(a.C,a.C.getCenter()));a.c.set("view",a.C);a.Sh=fh(a.C,"change:center",function(){var a=pj(this.C.getCenter(),this.C.getProjection(),"EPSG:4326");no(this,a)},
a)}function jo(a){a.Cd.value="";a.Rd.value="";a.Xd&&(v.clearTimeout(a.Xd),a.Xd=null);if(a.Z){var b=a.Z.code,c=cj("EPSG:"+b);(c=c&&nj("EPSG:4326",c))?a.ad||(c=c([a.wc,a.uc]),a.Cd.value=c[0].toFixed(2),a.Rd.value=c[1].toFixed(2)):a.Xd=Te(function(){if(this.Z){var a=L(function(a){this.ad||(this.Cd.value=a.x,this.Rd.value=a.y);this.Xd=null},this),c={x:this.wc,y:this.uc,t_srs:b};"4326"==b?a(c):this.Mb.send(c,a)}},500,a)}}
function no(a,b){a.eh||(a.eh=!0,a.uc=b[1],a.wc=b[0],a.ad||jo(a),a.C.setCenter(pj([a.wc,a.uc],"EPSG:4326",a.C.getProjection())),a.eh=!1,lo(a))}function lo(a){if(!a.gj){var b=new ud;a.Z?b.set("srs",a.Z.code):b.remove("srs");b.set("lon",a.wc.toFixed(7));b.set("lat",a.uc.toFixed(7));a.Ec.checked||b.set("z",a.C.getZoom());var c=a.xc.value;"mqosm"!=c&&-1===c.indexOf("gmaps-")&&b.set("layer",a.xc.value);window.location.hash=b.toString()}}
function oo(a){var b=new ud(window.location.hash.substr(1)),c=b.get("srs");c&&Pe(a.Bh,c,L(function(a){io(this,a)},a));var c=parseFloat(b.get("lon")),d=parseFloat(b.get("lat"));Bb(c)&&Bb(d)&&no(a,[c,d]);c=parseInt(b.get("z"),10);Bb(c)&&a.C.setZoom(c);if(b=b.get("layer"))a.xc.value=b,mo(a)}
ca("MapPage",function(){this.ln=Ib("crs-title");this.Ah=Ib("crs-detail-link");this.ui=Ib("copy-clipboard-container");mg(this.ui,!1);mg(this.Ah,!1);this.Z=null;this.Bh=new Le;this.Bh.fa(Ne,function(a){a.data&&io(this,a.data)},!1,this);this.kn=Ib("crs-change");W(this.kn,"click",function(a){this.Bh.show();a.preventDefault()},!1,this);this.uc=this.wc=0;this.dd=Ib("map");this.xc=Ib("mapType");this.Ec=Ib("reproject_map");this.Dg=Ib("geocoder");this.Cd=Ib("easting");this.Rd=Ib("northing");this.$k=Ib("eastnorth_form");
this.Zk=Ib("eastnorth_copy");this.eh=!1;this.gj=!0;this.ad=!1;this.Xd=null;this.Mb=new Fe("/trans");this.Uc=null;this.rd=[];this.c=new Rn({target:this.dd,view:null,layers:[],controls:[new Sk({collapsible:!1,tipLabel:""})]});W(this.Ec,"change",function(){ko(this);lo(this)},!1,this);ko(this);no(this,[this.wc,this.uc]);this.Sh=null;oo(this);W(this.xc,"change",function(){mo(this);lo(this)},!1,this);mo(this);this.gj=!1;W(this.c,ti,function(a){var c=Xk({duration:150,source:this.C.getCenter()});this.c.Ja(c);
this.C.setCenter(a.coordinate);a.preventDefault()},!1,this);W(this.$k,"submit",function(a){if(this.Z){var c=Ea(this.Cd.value),d=Ea(this.Rd.value);isNaN(c)||isNaN(d)||this.Mb.send({x:c,y:d,s_srs:this.Z.code},L(function(a){var b=Ea(a.y);a=Ea(a.x);this.ad=!0;no(this,[a,b]);this.ad=!1},this));a.preventDefault()}},!1,this);this.Dg&&Og(new Ng(this.Dg,"http://nominatim.klokantech.com/"),L(function(a){this.Dg.value="";var c=this.c.sa();c&&1E-5<Ii(a)?Ok(this.C,qj(a,this.C.getProjection()),c):(this.C.setCenter(pj(Li(a),
"EPSG:4326",this.C.getProjection())),this.C.setZoom(15))},this));var a=window.ZeroClipboard;a.config({moviePath:"/js/ZeroClipboard.swf"});this.al=new a(this.Zk);this.al.on("dataRequested",L(function(a){a.setText(this.Cd.value+"\t"+this.Rd.value)},this))});
